/*!
 * zeroclipboard
 * The Zero Clipboard library provides an easy way to copy text to the clipboard using an invisible Adobe Flash movie, and a JavaScript interface.
 * Copyright 2012 Jon Rohan, James M. Greene, .
 * Released under the MIT license
 * http://jonrohan.github.com/ZeroClipboard/
 * v1.1.7
 */
(function(){var F=function(g,f){var j=g.style[f];g.currentStyle?j=g.currentStyle[f]:window.getComputedStyle&&(j=document.defaultView.getComputedStyle(g,null).getPropertyValue(f));if(j=="auto"&&f=="cursor"){var i=["a"];for(var h=0;h<i.length;h++){if(g.tagName.toLowerCase()==i[h]){return"pointer"}}}return j},E=function(d){if(!u.prototype._singleton){return}d||(d=window.event);var c;this!==window?c=this:d.target?c=d.target:d.srcElement&&(c=d.srcElement),u.prototype._singleton.setCurrent(c)},D=function(e,d,f){e.addEventListener?e.addEventListener(d,f,!1):e.attachEvent&&e.attachEvent("on"+d,f)},C=function(e,d,f){e.removeEventListener?e.removeEventListener(d,f,!1):e.detachEvent&&e.detachEvent("on"+d,f)},B=function(i,h){if(i.addClass){return i.addClass(h),i}if(h&&typeof h=="string"){var n=(h||"").split(/\s+/);if(i.nodeType===1){if(!i.className){i.className=h}else{var m=" "+i.className+" ",l=i.className;for(var k=0,j=n.length;k<j;k++){m.indexOf(" "+n[k]+" ")<0&&(l+=" "+n[k])}i.className=l.replace(/^\s+|\s+$/g,"")}}}return i},A=function(h,g){if(h.removeClass){return h.removeClass(g),h}if(g&&typeof g=="string"||g===undefined){var l=(g||"").split(/\s+/);if(h.nodeType===1&&h.className){if(g){var k=(" "+h.className+" ").replace(/[\n\t]/g," ");for(var j=0,i=l.length;j<i;j++){k=k.replace(" "+l[j]+" "," ")}h.className=k.replace(/^\s+|\s+$/g,"")}else{h.className=""}}}return h},z=function(a){var j={left:0,top:0,width:a.width||a.offsetWidth||0,height:a.height||a.offsetHeight||0,zIndex:9999},i=F(a,"zIndex");i&&i!="auto"&&(j.zIndex=parseInt(i,10));while(a){var h=parseInt(F(a,"borderLeftWidth"),10),g=parseInt(F(a,"borderTopWidth"),10);j.left+=isNaN(a.offsetLeft)?0:a.offsetLeft,j.left+=isNaN(h)?0:h,j.top+=isNaN(a.offsetTop)?0:a.offsetTop,j.top+=isNaN(g)?0:g,a=a.offsetParent}return j},y=function(b){return(b.indexOf("?")>=0?"&":"?")+"nocache="+(new Date).getTime()},x=function(d){var c=[];return d.trustedDomains&&(typeof d.trustedDomains=="string"?c.push("trustedDomain="+d.trustedDomains):c.push("trustedDomain="+d.trustedDomains.join(","))),c.join("&")},w=function(f,e){if(e.indexOf){return e.indexOf(f)}for(var h=0,g=e.length;h<g;h++){if(e[h]===f){return h}}return -1},v=function(b){if(typeof b=="string"){throw new TypeError("ZeroClipboard doesn't accept query strings.")}return b.length?b:[b]},u=function(f,e){f&&(u.prototype._singleton||this).glue(f);if(u.prototype._singleton){return u.prototype._singleton}u.prototype._singleton=this,this.options={};for(var h in r){this.options[h]=r[h]}for(var g in e){this.options[g]=e[g]}this.handlers={},u.detectFlashSupport()&&q()},t,s=[];u.prototype.setCurrent=function(a){t=a,this.reposition(),a.getAttribute("title")&&this.setTitle(a.getAttribute("title")),this.setHandCursor(F(a,"cursor")=="pointer")},u.prototype.setText=function(b){b&&b!==""&&(this.options.text=b,this.ready()&&this.flashBridge.setText(b))},u.prototype.setTitle=function(b){b&&b!==""&&this.htmlBridge.setAttribute("title",b)},u.prototype.setSize=function(d,c){this.ready()&&this.flashBridge.setSize(d,c)},u.prototype.setHandCursor=function(b){this.ready()&&this.flashBridge.setHandCursor(b)},u.version="1.1.7";var r={moviePath:"ZeroClipboard.swf",trustedDomains:null,text:null,hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",allowScriptAccess:"sameDomain"};u.setDefaults=function(d){for(var c in d){r[c]=d[c]}},u.destroy=function(){u.prototype._singleton.unglue(s);var b=u.prototype._singleton.htmlBridge;b.parentNode.removeChild(b),delete u.prototype._singleton},u.detectFlashSupport=function(){var d=!1;try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(d=!0)}catch(c){navigator.mimeTypes["application/x-shockwave-flash"]&&(d=!0)}return d};var q=function(){var e=u.prototype._singleton,d=document.getElementById("global-zeroclipboard-html-bridge");if(!d){var f='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+e.options.moviePath+y(e.options.moviePath)+'"/>         <param name="allowScriptAccess" value="'+e.options.allowScriptAccess+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+x(e.options)+'"/>         <embed src="'+e.options.moviePath+y(e.options.moviePath)+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="always"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+x(e.options)+'"           scale="exactfit">         </embed>       </object>';d=document.createElement("div"),d.id="global-zeroclipboard-html-bridge",d.setAttribute("class","global-zeroclipboard-container"),d.setAttribute("data-clipboard-ready",!1),d.style.position="absolute",d.style.left="-9999px",d.style.top="-9999px",d.style.width="15px",d.style.height="15px",d.style.zIndex="9999",d.innerHTML=f,document.body.appendChild(d)}e.htmlBridge=d,e.flashBridge=document["global-zeroclipboard-flash-bridge"]||d.children[0].lastElementChild};u.prototype.resetBridge=function(){this.htmlBridge.style.left="-9999px",this.htmlBridge.style.top="-9999px",this.htmlBridge.removeAttribute("title"),this.htmlBridge.removeAttribute("data-clipboard-text"),A(t,this.options.activeClass),t=null,this.options.text=null},u.prototype.ready=function(){var b=this.htmlBridge.getAttribute("data-clipboard-ready");return b==="true"||b===!0},u.prototype.reposition=function(){if(!t){return !1}var b=z(t);this.htmlBridge.style.top=b.top+"px",this.htmlBridge.style.left=b.left+"px",this.htmlBridge.style.width=b.width+"px",this.htmlBridge.style.height=b.height+"px",this.htmlBridge.style.zIndex=b.zIndex+1,this.setSize(b.width,b.height)},u.dispatch=function(d,c){u.prototype._singleton.receiveEvent(d,c)},u.prototype.on=function(f,e){var h=f.toString().split(/\s/g);for(var g=0;g<h.length;g++){f=h[g].toLowerCase().replace(/^on/,""),this.handlers[f]||(this.handlers[f]=e)}this.handlers.noflash&&!u.detectFlashSupport()&&this.receiveEvent("onNoFlash",null)},u.prototype.addEventListener=u.prototype.on,u.prototype.off=function(g,f){var j=g.toString().split(/\s/g);for(var i=0;i<j.length;i++){g=j[i].toLowerCase().replace(/^on/,"");for(var h in this.handlers){h===g&&this.handlers[h]===f&&delete this.handlers[h]}}},u.prototype.removeEventListener=u.prototype.off,u.prototype.receiveEvent=function(f,e){f=f.toString().toLowerCase().replace(/^on/,"");var p=t;switch(f){case"load":if(e&&parseFloat(e.flashVersion.replace(",",".").replace(/[^0-9\.]/gi,""))<10){this.receiveEvent("onWrongFlash",{flashVersion:e.flashVersion});return}this.htmlBridge.setAttribute("data-clipboard-ready",!0);break;case"mouseover":B(p,this.options.hoverClass);break;case"mouseout":A(p,this.options.hoverClass),this.resetBridge();break;case"mousedown":B(p,this.options.activeClass);break;case"mouseup":A(p,this.options.activeClass);break;case"datarequested":var o=p.getAttribute("data-clipboard-target"),n=o?document.getElementById(o):null;if(n){var m=n.value||n.textContent||n.innerText;m&&this.setText(m)}else{var l=p.getAttribute("data-clipboard-text");l&&this.setText(l)}break;case"complete":this.options.text=null}if(this.handlers[f]){var k=this.handlers[f];typeof k=="function"?k.call(p,this,e):typeof k=="string"&&window[k].call(p,this,e)}},u.prototype.glue=function(b){b=v(b);for(var c=0;c<b.length;c++){w(b[c],s)==-1&&(s.push(b[c]),D(b[c],"mouseover",E))}},u.prototype.unglue=function(b){b=v(b);for(var f=0;f<b.length;f++){C(b[f],"mouseover",E);var d=w(b[f],s);d!=-1&&s.splice(d,1)}},typeof module!="undefined"?module.exports=u:typeof define=="function"&&define.amd?define(function(){return u}):window.ZeroClipboard=u})();