(function(b,g){var d={};function c(m,n){var l,j=[];for(var k=0;k<m.length;++k){l=d[m[k]]||e(m[k]);if(!l){throw"module definition dependecy not found: "+m[k]}j.push(l)}n.apply(null,j)}function h(k,j,i){if(typeof k!=="string"){throw"invalid module definition, module id must be defined and be a string"}if(j===g){throw"invalid module definition, dependencies must be specified"}if(i===g){throw"invalid module definition, definition function must be specified"}c(j,function(){d[k]=i.apply(null,arguments)})}function f(i){return !!d[i]}function e(l){var j=b;var i=l.split(/[.\/]/);for(var k=0;k<i.length;++k){if(!j[i[k]]){return}j=j[i[k]]}return j}function a(l){var k,n,p,j,m;for(k=0;k<l.length;k++){n=b;p=l[k];j=p.split(/[.\/]/);for(var o=0;o<j.length-1;++o){if(n[j[o]]===g){n[j[o]]={}}n=n[j[o]]}n[j[j.length-1]]=d[p]}if(b.AMDLC_TESTS){m=b.privateModules||{};for(p in d){m[p]=d[p]}for(k=0;k<l.length;k++){delete m[l[k]]}b.privateModules=m}}h("tinymce/codesampleplugin/Prism",[],function(){var k={};var i=(typeof k!=="undefined")?k:((typeof WorkerGlobalScope!=="undefined"&&self instanceof WorkerGlobalScope)?self:{});var j=(function(){var m=/\blang(?:uage)?-(?!\*)(\w+)\b/i;var l=i.Prism={util:{encode:function(o){if(o instanceof n){return new n(o.type,l.util.encode(o.content),o.alias)}else{if(l.util.type(o)==="Array"){return o.map(l.util.encode)}else{return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")}}},type:function(p){return Object.prototype.toString.call(p).match(/\[object (\w+)\]/)[1]},clone:function(r){var q=l.util.type(r);switch(q){case"Object":var s={};for(var p in r){if(r.hasOwnProperty(p)){s[p]=l.util.clone(r[p])}}return s;case"Array":return r.map&&r.map(function(o){return l.util.clone(o)})}return r}},languages:{extend:function(r,o){var q=l.util.clone(l.languages[r]);for(var p in o){q[p]=o[p]}return q},insertBefore:function(o,v,u,q){q=q||l.languages;var p=q[o];if(arguments.length==2){u=arguments[1];for(var t in u){if(u.hasOwnProperty(t)){p[t]=u[t]}}return p}var r={};for(var s in p){if(p.hasOwnProperty(s)){if(s==v){for(var t in u){if(u.hasOwnProperty(t)){r[t]=u[t]}}}r[s]=p[s]}}l.languages.DFS(l.languages,function(w,x){if(x===q[o]&&w!=o){this[w]=r}});return q[o]=r},DFS:function(r,s,q){for(var p in r){if(r.hasOwnProperty(p)){s.call(r,p,r[p],q||p);if(l.util.type(r[p])==="Object"){l.languages.DFS(r[p],s)}else{if(l.util.type(r[p])==="Array"){l.languages.DFS(r[p],s,p)}}}}}},plugins:{},highlightAll:function(q,s){var r=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code');for(var p=0,o;o=r[p++];){l.highlightElement(o,q===true,s)}},highlightElement:function(t,r,w){var s,o,v=t;while(v&&!m.test(v.className)){v=v.parentNode}if(v){s=(v.className.match(m)||[,""])[1];o=l.languages[s]}t.className=t.className.replace(m,"").replace(/\s+/g," ")+" language-"+s;v=t.parentNode;if(/pre/i.test(v.nodeName)){v.className=v.className.replace(m,"").replace(/\s+/g," ")+" language-"+s}var p=t.textContent;var u={element:t,language:s,grammar:o,code:p};if(!p||!o){l.hooks.run("complete",u);return}l.hooks.run("before-highlight",u);if(r&&i.Worker){var q=new Worker(l.filename);q.onmessage=function(x){u.highlightedCode=x.data;l.hooks.run("before-insert",u);u.element.innerHTML=u.highlightedCode;w&&w.call(u.element);l.hooks.run("after-highlight",u);l.hooks.run("complete",u)};q.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:true}))}else{u.highlightedCode=l.highlight(u.code,u.grammar,u.language);l.hooks.run("before-insert",u);u.element.innerHTML=u.highlightedCode;w&&w.call(t);l.hooks.run("after-highlight",u);l.hooks.run("complete",u)}},highlight:function(q,o,r){var p=l.tokenize(q,o);return n.stringify(l.util.encode(p),r)},tokenize:function(w,K,C){var A=l.Token;var E=[w];var x=K.rest;if(x){for(var t in x){K[t]=x[t]}delete K.rest}tokenloop:for(var t in K){if(!K.hasOwnProperty(t)||!K[t]){continue}var o=K[t];o=(l.util.type(o)==="Array")?o:[o];for(var F=0;F<o.length;++F){var J=o[F],L=J.inside,G=!!J.lookbehind,s=0,z=J.alias;J=J.pattern||J;for(var H=0;H<E.length;H++){var B=E[H];if(E.length>w.length){break tokenloop}if(B instanceof A){continue}J.lastIndex=0;var u=J.exec(B);if(u){if(G){s=u[1].length}var D=u.index-1+s,u=u[0].slice(s),I=u.length,q=D+I,v=B.slice(0,D+1),r=B.slice(q+1);var p=[H,1];if(v){p.push(v)}var y=new A(t,L?l.tokenize(u,L):u,z);p.push(y);if(r){p.push(r)}Array.prototype.splice.apply(E,p)}}}}return E},hooks:{all:{},add:function(p,q){var o=l.hooks.all;o[p]=o[p]||[];o[p].push(q)},run:function(o,q){var r=l.hooks.all[o];if(!r||!r.length){return}for(var p=0,s;s=r[p++];){s(q)}}}};var n=l.Token=function(p,q,o){this.type=p;this.content=q;this.alias=o};n.stringify=function(u,v,t){if(typeof u=="string"){return u}if(l.util.type(u)==="Array"){return u.map(function(o){return n.stringify(o,v,u)}).join("")}var s={type:u.type,content:n.stringify(u.content,v,t),tag:"span",classes:["token",u.type],attributes:{},language:v,parent:t};if(s.type=="comment"){s.attributes.spellcheck="true"}if(u.alias){var p=l.util.type(u.alias)==="Array"?u.alias:[u.alias];Array.prototype.push.apply(s.classes,p)}l.hooks.run("wrap",s);var q="";for(var r in s.attributes){q+=(q?" ":"")+r+'="'+(s.attributes[r]||"")+'"'}return"<"+s.tag+' class="'+s.classes.join(" ")+'" '+q+">"+s.content+"</"+s.tag+">"};if(!i.document){if(!i.addEventListener){return i.Prism}i.addEventListener("message",function(o){var r=JSON.parse(o.data),s=r.language,q=r.code,p=r.immediateClose;i.postMessage(l.highlight(q,l.languages[s],s));if(p){i.close()}},false);return i.Prism}})();if(typeof module!=="undefined"&&module.exports){module.exports=j}if(typeof global!=="undefined"){global.Prism=j}j.languages.markup={comment:/<!--[\w\W]*?-->/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?[^\s>\/=.]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i};j.hooks.add("wrap",function(l){if(l.type==="entity"){l.attributes.title=l.content.replace(/&amp;/,"&")}});j.languages.xml=j.languages.markup;j.languages.html=j.languages.markup;j.languages.mathml=j.languages.markup;j.languages.svg=j.languages.markup;j.languages.css={comment:/\/\*[\w\W]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,"function":/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/};j.languages.css.atrule.inside.rest=j.util.clone(j.languages.css);if(j.languages.markup){j.languages.insertBefore("markup","tag",{style:{pattern:/<style[\w\W]*?>[\w\W]*?<\/style>/i,inside:{tag:{pattern:/<style[\w\W]*?>|<\/style>/i,inside:j.languages.markup.tag.inside},rest:j.languages.css},alias:"language-css"}});j.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:j.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:j.languages.css}},alias:"language-css"}},j.languages.markup.tag)}j.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:true},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:true}],string:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:true,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,"boolean":/\b(true|false)\b/,"function":/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/};j.languages.javascript=j.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,"function":/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i});j.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:true}});j.languages.insertBefore("javascript","class-name",{"template-string":{pattern:/`(?:\\`|\\?[^`])*`/,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:j.languages.javascript}},string:/[\s\S]+/}}});if(j.languages.markup){j.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/i,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/i,inside:j.languages.markup.tag.inside},rest:j.languages.javascript},alias:"language-javascript"}})}j.languages.js=j.languages.javascript;j.languages.c=j.languages.extend("clike",{keyword:/\b(asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,operator:/\-[>-]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|?\||[~^%?*\/]/,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)[ful]*\b/i});j.languages.insertBefore("c","string",{macro:{pattern:/(^\s*)#\s*[a-z]+([^\r\n\\]|\\.|\\(?:\r\n?|\n))*/im,lookbehind:true,alias:"property",inside:{string:{pattern:/(#\s*include\s*)(<.+?>|("|')(\\?.)+?\3)/,lookbehind:true}}}});delete j.languages.c["class-name"];delete j.languages.c["boolean"];j.languages.csharp=j.languages.extend("clike",{keyword:/\b(abstract|as|async|await|base|bool|break|byte|case|catch|char|checked|class|const|continue|decimal|default|delegate|do|double|else|enum|event|explicit|extern|false|finally|fixed|float|for|foreach|goto|if|implicit|in|int|interface|internal|is|lock|long|namespace|new|null|object|operator|out|override|params|private|protected|public|readonly|ref|return|sbyte|sealed|short|sizeof|stackalloc|static|string|struct|switch|this|throw|true|try|typeof|uint|ulong|unchecked|unsafe|ushort|using|virtual|void|volatile|while|add|alias|ascending|async|await|descending|dynamic|from|get|global|group|into|join|let|orderby|partial|remove|select|set|value|var|where|yield)\b/,string:[/@("|')(\1\1|\\\1|\\?(?!\1)[\s\S])*\1/,/("|')(\\?.)*?\1/],number:/\b-?(0x[\da-f]+|\d*\.?\d+)\b/i});j.languages.insertBefore("csharp","keyword",{preprocessor:{pattern:/(^\s*)#.*/m,lookbehind:true}});j.languages.cpp=j.languages.extend("c",{keyword:/\b(alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|class|compl|const|constexpr|const_cast|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,"boolean":/\b(true|false)\b/,operator:/[-+]{1,2}|!=?|<{1,2}=?|>{1,2}=?|\->|:{1,2}|={1,2}|\^|~|%|&{1,2}|\|?\||\?|\*|\/|\b(and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/});j.languages.insertBefore("cpp","keyword",{"class-name":{pattern:/(class\s+)[a-z0-9_]+/i,lookbehind:true}});j.languages.java=j.languages.extend("clike",{keyword:/\b(abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while)\b/,number:/\b0b[01]+\b|\b0x[\da-f]*\.?[\da-fp\-]+\b|\b\d*\.?\d+(?:e[+-]?\d+)?[df]?\b/i,operator:{pattern:/(^|[^.])(?:\+[+=]?|-[-=]?|!=?|<<?=?|>>?>?=?|==?|&[&=]?|\|[|=]?|\*=?|\/=?|%=?|\^=?|[?:~])/m,lookbehind:true}});j.languages.php=j.languages.extend("clike",{keyword:/\b(and|or|xor|array|as|break|case|cfunction|class|const|continue|declare|default|die|do|else|elseif|enddeclare|endfor|endforeach|endif|endswitch|endwhile|extends|for|foreach|function|include|include_once|global|if|new|return|static|switch|use|require|require_once|var|while|abstract|interface|public|implements|private|protected|parent|throw|null|echo|print|trait|namespace|final|yield|goto|instanceof|finally|try|catch)\b/i,constant:/\b[A-Z0-9_]{2,}\b/,comment:{pattern:/(^|[^\\])(?:\/\*[\w\W]*?\*\/|\/\/.*)/,lookbehind:true}});j.languages.insertBefore("php","class-name",{"shell-comment":{pattern:/(^|[^\\])#.*/,lookbehind:true,alias:"comment"}});j.languages.insertBefore("php","keyword",{delimiter:/\?>|<\?(?:php)?/i,variable:/\$\w+\b/i,"package":{pattern:/(\\|namespace\s+|use\s+)[\w\\]+/,lookbehind:true,inside:{punctuation:/\\/}}});j.languages.insertBefore("php","operator",{property:{pattern:/(->)[\w]+/,lookbehind:true}});if(j.languages.markup){j.hooks.add("before-highlight",function(l){if(l.language!=="php"){return}l.tokenStack=[];l.backupCode=l.code;l.code=l.code.replace(/(?:<\?php|<\?)[\w\W]*?(?:\?>)/ig,function(m){l.tokenStack.push(m);return"{{{PHP"+l.tokenStack.length+"}}}"})});j.hooks.add("before-insert",function(l){if(l.language==="php"){l.code=l.backupCode;delete l.backupCode}});j.hooks.add("after-highlight",function(n){if(n.language!=="php"){return}for(var m=0,l;l=n.tokenStack[m];m++){n.highlightedCode=n.highlightedCode.replace("{{{PHP"+(m+1)+"}}}",j.highlight(l,n.grammar,"php").replace(/\$/g,"$$$$"))}n.element.innerHTML=n.highlightedCode});j.hooks.add("wrap",function(l){if(l.language==="php"&&l.type==="markup"){l.content=l.content.replace(/(\{\{\{PHP[0-9]+\}\}\})/g,'<span class="token php">$1</span>')}});j.languages.insertBefore("php","comment",{markup:{pattern:/<[^?]\/?(.*?)>/,inside:j.languages.markup},php:/\{\{\{PHP[0-9]+\}\}\}/})}j.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:true},string:/"""[\s\S]+?"""|'''[\s\S]+?'''|("|')(?:\\?.)*?\1/,"function":{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_][a-zA-Z0-9_]*(?=\()/g,lookbehind:true},"class-name":{pattern:/(\bclass\s+)[a-z0-9_]+/i,lookbehind:true},keyword:/\b(?:as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|pass|print|raise|return|try|while|with|yield)\b/,"boolean":/\b(?:True|False)\b/,number:/\b-?(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*\.?\d*|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]|\b(?:or|and|not)\b/,punctuation:/[{}[\];(),.:]/};(function(m){m.languages.ruby=m.languages.extend("clike",{comment:/#(?!\{[^\r\n]*?\}).*/,keyword:/\b(alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|false|for|if|in|module|new|next|nil|not|or|raise|redo|require|rescue|retry|return|self|super|then|throw|true|undef|unless|until|when|while|yield)\b/});var l={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:m.util.clone(m.languages.ruby)}};m.languages.insertBefore("ruby","keyword",{regex:[{pattern:/%r([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1[gim]{0,3}/,inside:{interpolation:l}},{pattern:/%r\((?:[^()\\]|\\[\s\S])*\)[gim]{0,3}/,inside:{interpolation:l}},{pattern:/%r\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}[gim]{0,3}/,inside:{interpolation:l}},{pattern:/%r\[(?:[^\[\]\\]|\\[\s\S])*\][gim]{0,3}/,inside:{interpolation:l}},{pattern:/%r<(?:[^<>\\]|\\[\s\S])*>[gim]{0,3}/,inside:{interpolation:l}},{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/,lookbehind:true}],variable:/[@$]+[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/,symbol:/:[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/});m.languages.insertBefore("ruby","number",{builtin:/\b(Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|File|Fixnum|Fload|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z][a-zA-Z_0-9]*(?:[?!]|\b)/});m.languages.ruby.string=[{pattern:/%[qQiIwWxs]?([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1/,inside:{interpolation:l}},{pattern:/%[qQiIwWxs]?\((?:[^()\\]|\\[\s\S])*\)/,inside:{interpolation:l}},{pattern:/%[qQiIwWxs]?\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/,inside:{interpolation:l}},{pattern:/%[qQiIwWxs]?\[(?:[^\[\]\\]|\\[\s\S])*\]/,inside:{interpolation:l}},{pattern:/%[qQiIwWxs]?<(?:[^<>\\]|\\[\s\S])*>/,inside:{interpolation:l}},{pattern:/("|')(#\{[^}]+\}|\\(?:\r?\n|\r)|\\?.)*?\1/,inside:{interpolation:l}}]}(j));return j});h("tinymce/codesampleplugin/Utils",[],function(){function i(k){return k&&k.nodeName=="PRE"&&k.className.indexOf("language-")!==-1}function j(k){return function(m,l){return k(l)}}return{isCodeSample:i,trimArg:j}});h("tinymce/codesampleplugin/Dialog",["tinymce/dom/DOMUtils","tinymce/codesampleplugin/Utils","tinymce/codesampleplugin/Prism"],function(m,l,j){var p=m.DOM;function n(s){var r=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}];var t=s.settings.codesample_languages;return t?t:r}function q(r,t,s){r.undoManager.transact(function(){var u=k(r);s=p.encode(s);if(u){r.dom.setAttrib(u,"class","language-"+t);u.innerHTML=s;j.highlightElement(u);r.selection.select(u)}else{r.insertContent('<pre id="__new" class="language-'+t+'">'+s+"</pre>");r.selection.select(r.$("#__new").removeAttr("id")[0])}})}function k(r){var s=r.selection.getNode();if(l.isCodeSample(s)){return s}return null}function o(r){var s=k(r);if(s){return s.textContent}return""}function i(r){var t,s=k(r);if(s){t=s.className.match(/language-(\w+)/);return t?t[1]:""}return""}return{open:function(r){r.windowManager.open({title:"Insert/Edit code sample",minWidth:Math.min(p.getViewPort().w,r.getParam("codesample_dialog_width",800)),minHeight:Math.min(p.getViewPort().h,r.getParam("codesample_dialog_height",650)),layout:"flex",direction:"column",align:"stretch",body:[{type:"listbox",name:"language",label:"Language",maxWidth:200,value:i(r),values:n(r)},{type:"textbox",name:"code",multiline:true,spellcheck:false,ariaLabel:"Code view",flex:1,style:"direction: ltr; text-align: left",classes:"monospace",value:o(r),autofocus:true}],onSubmit:function(s){q(r,s.data.language,s.data.code)}})}}});h("tinymce/codesampleplugin/Plugin",["tinymce/Env","tinymce/PluginManager","tinymce/codesampleplugin/Prism","tinymce/codesampleplugin/Dialog","tinymce/codesampleplugin/Utils"],function(j,l,k,i,m){var o,n=m.trimArg;l.add("codesample",function(r,q){var t=r.$,p;if(!j.ceFalse){return}function s(){var u;if(r.inline&&o){return}if(!r.inline&&p){return}if(r.inline){o=true}else{p=true}u=r.dom.create("link",{rel:"stylesheet",href:q+"/css/prism.css"});r.getDoc().getElementsByTagName("head")[0].appendChild(u)}r.on("PreProcess",function(u){t("pre[contenteditable=false]",u.node).filter(n(m.isCodeSample)).each(function(v,y){var w=t(y),x=y.textContent;w.attr("class",t.trim(w.attr("class")));w.removeAttr("contentEditable");w.empty().append(t("<code></code>").each(function(){this.textContent=x}))})});r.on("SetContent",function(){var u=t("pre").filter(n(m.isCodeSample)).filter(function(v,w){return w.contentEditable!=="false"});if(u.length){r.undoManager.transact(function(){u.each(function(v,w){t(w).find("br").each(function(x,y){y.parentNode.replaceChild(r.getDoc().createTextNode("\n"),y)});w.contentEditable=false;w.innerHTML=r.dom.encode(w.textContent);k.highlightElement(w);w.className=t.trim(w.className)})})}});r.addCommand("codesample",function(){i.open(r)});r.addButton("codesample",{cmd:"codesample",title:"Insert/Edit code sample"});r.on("init",s)})});a(["tinymce/codesampleplugin/Prism","tinymce/codesampleplugin/Utils","tinymce/codesampleplugin/Dialog","tinymce/codesampleplugin/Plugin"])})(this);