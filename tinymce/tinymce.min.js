(function(b,g){var d={};function c(m,n){var l,j=[];for(var k=0;k<m.length;++k){l=d[m[k]]||e(m[k]);if(!l){throw"module definition dependecy not found: "+m[k]}j.push(l)}n.apply(null,j)}function h(k,j,i){if(typeof k!=="string"){throw"invalid module definition, module id must be defined and be a string"}if(j===g){throw"invalid module definition, dependencies must be specified"}if(i===g){throw"invalid module definition, definition function must be specified"}c(j,function(){d[k]=i.apply(null,arguments)})}function f(i){return !!d[i]}function e(l){var j=b;var i=l.split(/[.\/]/);for(var k=0;k<i.length;++k){if(!j[i[k]]){return}j=j[i[k]]}return j}function a(l){var k,n,p,j,m;for(k=0;k<l.length;k++){n=b;p=l[k];j=p.split(/[.\/]/);for(var o=0;o<j.length-1;++o){if(n[j[o]]===g){n[j[o]]={}}n=n[j[o]]}n[j[j.length-1]]=d[p]}if(b.AMDLC_TESTS){m=b.privateModules||{};for(p in d){m[p]=d[p]}for(k=0;k<l.length;k++){delete m[l[k]]}b.privateModules=m}}h("tinymce/geom/Rect",[],function(){var k=Math.min,p=Math.max,r=Math.round;function i(z,s,D){var B,v,C,u,A,t;B=s.x;v=s.y;C=z.w;u=z.h;A=s.w;t=s.h;D=(D||"").split("");if(D[0]==="b"){v+=t}if(D[1]==="r"){B+=A}if(D[0]==="c"){v+=r(t/2)}if(D[1]==="c"){B+=r(A/2)}if(D[3]==="b"){v-=u}if(D[4]==="r"){B-=C}if(D[3]==="c"){v-=r(u/2)}if(D[4]==="c"){B-=r(C/2)}return l(B,v,C,u)}function n(v,w,u,s){var x,t;for(t=0;t<s.length;t++){x=i(v,w,s[t]);if(x.x>=u.x&&x.x+x.w<=u.w+u.x&&x.y>=u.y&&x.y+x.h<=u.h+u.y){return s[t]}}return null}function q(u,s,t){return l(u.x-s,u.y-t,u.w+s*2,u.h+t*2)}function j(x,u){var t,w,s,v;t=p(x.x,u.x);w=p(x.y,u.y);s=k(x.x+x.w,u.x+u.w);v=k(x.y+x.h,u.y+u.h);if(s-t<0||v-w<0){return null}return l(t,w,s-t,v-w)}function m(D,C,s){var A,x,y,v,u,E,t,B,z,w;u=D.x;E=D.y;t=D.x+D.w;B=D.y+D.h;z=C.x+C.w;w=C.y+C.h;A=p(0,C.x-u);x=p(0,C.y-E);y=p(0,t-z);v=p(0,B-w);u+=A;E+=x;if(s){t+=A;B+=x;u-=y;E-=v}t-=y;B-=v;return l(u,E,t-u,B-E)}function l(s,v,t,u){return{x:s,y:v,w:t,h:u}}function o(s){return l(s.left,s.top,s.width,s.height)}return{inflate:q,relativePosition:i,findBestRelativePosition:n,intersect:j,clamp:m,create:l,fromClientRect:o}});h("tinymce/util/Promise",[],function(){if(window.Promise){return window.Promise}var i=o.immediateFn||(typeof setImmediate==="function"&&setImmediate)||function(s){setTimeout(s,1)};function n(t,s){return function(){t.apply(s,arguments)}}var j=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function o(s){if(typeof this!=="object"){throw new TypeError("Promises must be constructed via new")}if(typeof s!=="function"){throw new TypeError("not a function")}this._state=null;this._value=null;this._deferreds=[];q(s,n(p,this),n(r,this))}function k(s){var t=this;if(this._state===null){this._deferreds.push(s);return}i(function(){var u=t._state?s.onFulfilled:s.onRejected;if(u===null){(t._state?s.resolve:s.reject)(t._value);return}var v;try{v=u(t._value)}catch(w){s.reject(w);return}s.resolve(v)})}function p(t){try{if(t===this){throw new TypeError("A promise cannot be resolved with itself.")}if(t&&(typeof t==="object"||typeof t==="function")){var u=t.then;if(typeof u==="function"){q(n(u,t),n(p,this),n(r,this));return}}this._state=true;this._value=t;l.call(this)}catch(s){r.call(this,s)}}function r(s){this._state=false;this._value=s;l.call(this)}function l(){for(var t=0,s=this._deferreds.length;t<s;t++){k.call(this,this._deferreds[t])}this._deferreds=null}function m(v,s,u,t){this.onFulfilled=typeof v==="function"?v:null;this.onRejected=typeof s==="function"?s:null;this.resolve=u;this.reject=t}function q(v,w,t){var s=false;try{v(function(x){if(s){return}s=true;w(x)},function(x){if(s){return}s=true;t(x)})}catch(u){if(s){return}s=true;t(u)}}o.prototype["catch"]=function(s){return this.then(null,s)};o.prototype.then=function(u,s){var t=this;return new o(function(w,v){k.call(t,new m(u,s,w,v))})};o.all=function(){var s=Array.prototype.slice.call(arguments.length===1&&j(arguments[0])?arguments[0]:arguments);return new o(function(x,w){if(s.length===0){return x([])}var v=s.length;function u(z,B){try{if(B&&(typeof B==="object"||typeof B==="function")){var A=B.then;if(typeof A==="function"){A.call(B,function(C){u(z,C)},w);return}}s[z]=B;if(--v===0){x(s)}}catch(y){w(y)}}for(var t=0;t<s.length;t++){u(t,s[t])}})};o.resolve=function(s){if(s&&typeof s==="object"&&s.constructor===o){return s}return new o(function(t){t(s)})};o.reject=function(s){return new o(function(u,t){t(s)})};o.race=function(s){return new o(function(w,v){for(var u=0,t=s.length;u<t;u++){s[u].then(w,v)}})};return o});h("tinymce/util/Delay",["tinymce/util/Promise"],function(m){var k;function n(u,s){var r,q=window.requestAnimationFrame,t=["ms","moz","webkit"];function p(v){window.setTimeout(v,0)}for(r=0;r<t.length&&!q;r++){q=window[t[r]+"RequestAnimationFrame"]}if(!q){q=p}q(u,s)}function j(q,p){if(typeof p!="number"){p=0}return setTimeout(q,p)}function o(q,p){if(typeof p!="number"){p=1}return setInterval(q,p)}function i(p){return clearTimeout(p)}function l(p){return clearInterval(p)}return{requestAnimationFrame:function(q,p){if(k){k.then(q);return}k=new m(function(r){if(!p){p=document.body}n(r,p)}).then(q)},setTimeout:j,setInterval:o,setEditorTimeout:function(p,r,q){return j(function(){if(!p.removed){r()}},q)},setEditorInterval:function(p,s,q){var r;r=o(function(){if(!p.removed){s()}else{clearInterval(r)}},q);return r},throttle:function(s,q){var r,p;p=function(){var t=arguments;clearTimeout(r);r=j(function(){s.apply(this,t)},q)};p.stop=function(){clearTimeout(r)};return p},clearInterval:l,clearTimeout:i}});h("tinymce/Env",[],function(){var i=navigator,y=i.userAgent;var n,w,j,r,p,m,v,o,l,q,t,x,s;function k(z){return"matchMedia" in window?matchMedia(z).matches:false}n=window.opera&&window.opera.buildNumber;l=/Android/.test(y);w=/WebKit/.test(y);j=!w&&!n&&(/MSIE/gi).test(y)&&(/Explorer/gi).test(i.appName);j=j&&/MSIE (\w+)\./.exec(y)[1];r=y.indexOf("Trident/")!=-1&&(y.indexOf("rv:")!=-1||i.appName.indexOf("Netscape")!=-1)?11:false;p=(y.indexOf("Edge/")!=-1&&!j&&!r)?12:false;j=j||r||p;m=!w&&!r&&/Gecko/.test(y);v=y.indexOf("Mac")!=-1;o=/(iPad|iPhone)/.test(y);q="FormData" in window&&"FileReader" in window&&"URL" in window&&!!URL.createObjectURL;t=k("only screen and (max-device-width: 480px)")&&(l||o);x=k("only screen and (min-width: 800px)")&&(l||o);s=y.indexOf("Windows Phone")!=-1;if(p){w=false}var u=!o||q||y.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:n,webkit:w,ie:j,gecko:m,mac:v,iOS:o,android:l,contentEditable:u,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:j!=8,range:window.getSelection&&"Range" in window,documentMode:j&&!p?(document.documentMode||7):10,fileApi:q,ceFalse:(j===false||j>8),canHaveCSP:(j===false||j>11),desktop:!t&&!x,windowsPhone:s}});h("tinymce/dom/EventUtils",["tinymce/util/Delay","tinymce/Env"],function(j,p){var q="mce-data-";var s=/^(?:mouse|contextmenu)|click/;var m={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1};function l(v,u,w,t){if(v.addEventListener){v.addEventListener(u,w,t||false)}else{if(v.attachEvent){v.attachEvent("on"+u,w)}}}function r(v,u,w,t){if(v.removeEventListener){v.removeEventListener(u,w,t||false)}else{if(v.detachEvent){v.detachEvent("on"+u,w)}}}function o(u,t){var w,v=t;w=u.path;if(w&&w.length>0){v=w[0]}if(u.deepPath){w=u.deepPath();if(w&&w.length>0){v=w[0]}}return v}function n(v,z){var u,t=z||{},x;function w(){return false}function y(){return true}for(u in v){if(!m[u]){t[u]=v[u]}}if(!t.target){t.target=t.srcElement||document}if(p.experimentalShadowDom){t.target=o(v,t.target)}if(v&&s.test(v.type)&&v.pageX===x&&v.clientX!==x){var C=t.target.ownerDocument||document;var B=C.documentElement;var A=C.body;t.pageX=v.clientX+(B&&B.scrollLeft||A&&A.scrollLeft||0)-(B&&B.clientLeft||A&&A.clientLeft||0);t.pageY=v.clientY+(B&&B.scrollTop||A&&A.scrollTop||0)-(B&&B.clientTop||A&&A.clientTop||0)}t.preventDefault=function(){t.isDefaultPrevented=y;if(v){if(v.preventDefault){v.preventDefault()}else{v.returnValue=false}}};t.stopPropagation=function(){t.isPropagationStopped=y;if(v){if(v.stopPropagation){v.stopPropagation()}else{v.cancelBubble=true}}};t.stopImmediatePropagation=function(){t.isImmediatePropagationStopped=y;t.stopPropagation()};if(!t.isDefaultPrevented){t.isDefaultPrevented=w;t.isPropagationStopped=w;t.isImmediatePropagationStopped=w}if(typeof t.metaKey=="undefined"){t.metaKey=false}return t}function k(y,A,v){var x=y.document,w={type:"ready"};if(v.domLoaded){A(w);return}function u(){if(!v.domLoaded){v.domLoaded=true;A(w)}}function t(){if(x.readyState==="complete"||(x.readyState==="interactive"&&x.body)){r(x,"readystatechange",t);u()}}function z(){try{x.documentElement.doScroll("left")}catch(B){j.setTimeout(z);return}u()}if(x.addEventListener){if(x.readyState==="complete"){u()}else{l(y,"DOMContentLoaded",u)}}else{l(x,"readystatechange",t);if(x.documentElement.doScroll&&y.self===y.top){z()}}l(y,"load",u)}function i(){var t=this,v={},x,A,u,w,z;A=q+(+new Date()).toString(32);w="onmouseenter" in document.documentElement;u="onfocusin" in document.documentElement;z={mouseenter:"mouseover",mouseleave:"mouseout"};x=1;t.domLoaded=false;t.events=v;function y(E,H){var D,F,C,G,B=v[H];D=B&&B[E.type];if(D){for(F=0,C=D.length;F<C;F++){G=D[F];if(G&&G.func.call(G.scope,E)===false){E.preventDefault()}if(E.isImmediatePropagationStopped()){return}}}}t.bind=function(G,J,M,N){var C,D,E,B,K,I,L,F=window;function H(O){y(n(O||F.event),C)}if(!G||G.nodeType===3||G.nodeType===8){return}if(!G[A]){C=x++;G[A]=C;v[C]={}}else{C=G[A]}N=N||G;J=J.split(" ");E=J.length;while(E--){B=J[E];I=H;K=L=false;if(B==="DOMContentLoaded"){B="ready"}if(t.domLoaded&&B==="ready"&&G.readyState=="complete"){M.call(N,n({type:B}));continue}if(!w){K=z[B];if(K){I=function(O){var Q,P;Q=O.currentTarget;P=O.relatedTarget;if(P&&Q.contains){P=Q.contains(P)}else{while(P&&P!==Q){P=P.parentNode}}if(!P){O=n(O||F.event);O.type=O.type==="mouseout"?"mouseleave":"mouseenter";O.target=Q;y(O,C)}}}}if(!u&&(B==="focusin"||B==="focusout")){L=true;K=B==="focusin"?"focus":"blur";I=function(O){O=n(O||F.event);O.type=O.type==="focus"?"focusin":"focusout";y(O,C)}}D=v[C][B];if(!D){v[C][B]=D=[{func:M,scope:N}];D.fakeName=K;D.capture=L;D.nativeHandler=I;if(B==="ready"){k(G,I,t)}else{l(G,K||B,I,L)}}else{if(B==="ready"&&t.domLoaded){M({type:B})}else{D.push({func:M,scope:N})}}}G=D=0;return M};t.unbind=function(G,J,M){var C,E,F,N,B,D;if(!G||G.nodeType===3||G.nodeType===8){return t}C=G[A];if(C){D=v[C];if(J){J=J.split(" ");F=J.length;while(F--){B=J[F];E=D[B];if(E){if(M){N=E.length;while(N--){if(E[N].func===M){var I=E.nativeHandler;var K=E.fakeName,L=E.capture;E=E.slice(0,N).concat(E.slice(N+1));E.nativeHandler=I;E.fakeName=K;E.capture=L;D[B]=E}}}if(!M||E.length===0){delete D[B];r(G,E.fakeName||B,E.nativeHandler,E.capture)}}}}else{for(B in D){E=D[B];r(G,E.fakeName||B,E.nativeHandler,E.capture)}D={}}for(B in D){return t}delete v[C];try{delete G[A]}catch(H){G[A]=null}}return t};t.fire=function(D,C,B){var E;if(!D||D.nodeType===3||D.nodeType===8){return t}B=n(null,B);B.type=C;B.target=D;do{E=D[A];if(E){y(B,E)}D=D.parentNode||D.ownerDocument||D.defaultView||D.parentWindow}while(D&&!B.isPropagationStopped());return t};t.clean=function(E){var C,B,D=t.unbind;if(!E||E.nodeType===3||E.nodeType===8){return t}if(E[A]){D(E)}if(!E.getElementsByTagName){E=E.document}if(E&&E.getElementsByTagName){D(E);B=E.getElementsByTagName("*");C=B.length;while(C--){E=B[C];if(E[A]){D(E)}}}return t};t.destroy=function(){v={}};t.cancel=function(B){if(B){B.preventDefault();B.stopImmediatePropagation()}return false}}i.Event=new i();i.Event.bind(window,"ready",function(){});return i});h("tinymce/dom/Sizzle",[],function(){var J,aD,z,S,V,t,ah,aC,aH,T,ai,ak,N,A,au,ao,aB,q,Q,aw="sizzle"+-(new Date()),U=window.document,aE=0,ap=0,l=L(),av=L(),R=L(),P=function(aI,i){if(aI===i){ai=true}return 0},aA=typeof g,ab=1<<31,Z=({}).hasOwnProperty,ay=[],az=ay.pop,X=ay.push,j=ay.push,y=ay.slice,p=ay.indexOf||function(aK){var aJ=0,aI=this.length;for(;aJ<aI;aJ++){if(this[aJ]===aK){return aJ}}return -1},k="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",W="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ar="\\["+B+"*("+W+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+W+"))|)"+B+"*\\]",w=":("+W+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ar+")*)|.*)\\)|)",D=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),G=new RegExp("^"+B+"*,"+B+"*"),M=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),F=new RegExp("="+B+"*([^\\]'\"]*?)"+B+"*\\]","g"),ad=new RegExp(w),af=new RegExp("^"+W+"$"),an={ID:new RegExp("^#("+W+")"),CLASS:new RegExp("^\\.("+W+")"),TAG:new RegExp("^("+W+"|[*])"),ATTR:new RegExp("^"+ar),PSEUDO:new RegExp("^"+w),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+k+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},o=/^(?:input|select|textarea|button)$/i,x=/^h\d$/i,aa=/^[^{]+\{\s*\[native \w/,ac=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,am=/[+~]/,Y=/'|\\/g,E=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),aq=function(i,aK,aI){var aJ="0x"+aK-65536;return aJ!==aJ||aI?aK:aJ<0?String.fromCharCode(aJ+65536):String.fromCharCode(aJ>>10|55296,aJ&1023|56320)};try{j.apply((ay=y.call(U.childNodes)),U.childNodes);ay[U.childNodes.length].nodeType}catch(O){j={apply:ay.length?function(aI,i){X.apply(aI,y.call(i))}:function(aL,aK){var aI=aL.length,aJ=0;while((aL[aI++]=aK[aJ++])){}aL.length=aI-1}}}function H(aQ,aJ,aU,aW){var aV,aN,aO,aS,aT,aM,aL,aI,aK,aR;if((aJ?aJ.ownerDocument||aJ:U)!==N){ak(aJ)}aJ=aJ||N;aU=aU||[];if(!aQ||typeof aQ!=="string"){return aU}if((aS=aJ.nodeType)!==1&&aS!==9){return[]}if(au&&!aW){if((aV=ac.exec(aQ))){if((aO=aV[1])){if(aS===9){aN=aJ.getElementById(aO);if(aN&&aN.parentNode){if(aN.id===aO){aU.push(aN);return aU}}else{return aU}}else{if(aJ.ownerDocument&&(aN=aJ.ownerDocument.getElementById(aO))&&Q(aJ,aN)&&aN.id===aO){aU.push(aN);return aU}}}else{if(aV[2]){j.apply(aU,aJ.getElementsByTagName(aQ));return aU}else{if((aO=aV[3])&&aD.getElementsByClassName){j.apply(aU,aJ.getElementsByClassName(aO));return aU}}}}if(aD.qsa&&(!ao||!ao.test(aQ))){aI=aL=aw;aK=aJ;aR=aS===9&&aQ;if(aS===1&&aJ.nodeName.toLowerCase()!=="object"){aM=t(aQ);if((aL=aJ.getAttribute("id"))){aI=aL.replace(Y,"\\$&")}else{aJ.setAttribute("id",aI)}aI="[id='"+aI+"'] ";aT=aM.length;while(aT--){aM[aT]=aI+u(aM[aT])}aK=am.test(aQ)&&ae(aJ.parentNode)||aJ;aR=aM.join(",")}if(aR){try{j.apply(aU,aK.querySelectorAll(aR));return aU}catch(aP){}finally{if(!aL){aJ.removeAttribute("id")}}}}}return aC(aQ.replace(D,"$1"),aJ,aU,aW)}function L(){var aI=[];function i(aJ,aK){if(aI.push(aJ+" ")>z.cacheLength){delete i[aI.shift()]}return(i[aJ+" "]=aK)}return i}function v(i){i[aw]=true;return i}function r(i){var aJ=N.createElement("div");try{return !!i(aJ)}catch(aI){return false}finally{if(aJ.parentNode){aJ.parentNode.removeChild(aJ)}aJ=null}}function aF(aJ,aL){var aI=aJ.split("|"),aK=aJ.length;while(aK--){z.attrHandle[aI[aK]]=aL}}function m(aI,i){var aK=i&&aI,aJ=aK&&aI.nodeType===1&&i.nodeType===1&&(~i.sourceIndex||ab)-(~aI.sourceIndex||ab);if(aJ){return aJ}if(aK){while((aK=aK.nextSibling)){if(aK===i){return -1}}}return aI?1:-1}function I(i){return function(aJ){var aI=aJ.nodeName.toLowerCase();return aI==="input"&&aJ.type===i}}function n(i){return function(aJ){var aI=aJ.nodeName.toLowerCase();return(aI==="input"||aI==="button")&&aJ.type===i}}function at(i){return v(function(aI){aI=+aI;return v(function(aJ,aN){var aL,aK=i([],aJ.length,aI),aM=aK.length;while(aM--){if(aJ[(aL=aK[aM])]){aJ[aL]=!(aN[aL]=aJ[aL])}}})})}function ae(i){return i&&typeof i.getElementsByTagName!==aA&&i}aD=H.support={};V=H.isXML=function(i){var aI=i&&(i.ownerDocument||i).documentElement;return aI?aI.nodeName!=="HTML":false};ak=H.setDocument=function(aJ){var i,aL=aJ?aJ.ownerDocument||aJ:U,aI=aL.defaultView;function aK(aN){try{return aN.top}catch(aM){}return null}if(aL===N||aL.nodeType!==9||!aL.documentElement){return N}N=aL;A=aL.documentElement;au=!V(aL);if(aI&&aI!==aK(aI)){if(aI.addEventListener){aI.addEventListener("unload",function(){ak()},false)}else{if(aI.attachEvent){aI.attachEvent("onunload",function(){ak()})}}}aD.attributes=r(function(aM){aM.className="i";return !aM.getAttribute("className")});aD.getElementsByTagName=r(function(aM){aM.appendChild(aL.createComment(""));return !aM.getElementsByTagName("*").length});aD.getElementsByClassName=aa.test(aL.getElementsByClassName);aD.getById=r(function(aM){A.appendChild(aM).id=aw;return !aL.getElementsByName||!aL.getElementsByName(aw).length});if(aD.getById){z.find.ID=function(aO,aN){if(typeof aN.getElementById!==aA&&au){var aM=aN.getElementById(aO);return aM&&aM.parentNode?[aM]:[]}};z.filter.ID=function(aN){var aM=aN.replace(E,aq);return function(aO){return aO.getAttribute("id")===aM}}}else{delete z.find.ID;z.filter.ID=function(aN){var aM=aN.replace(E,aq);return function(aP){var aO=typeof aP.getAttributeNode!==aA&&aP.getAttributeNode("id");return aO&&aO.value===aM}}}z.find.TAG=aD.getElementsByTagName?function(aM,aN){if(typeof aN.getElementsByTagName!==aA){return aN.getElementsByTagName(aM)}}:function(aM,aQ){var aR,aP=[],aO=0,aN=aQ.getElementsByTagName(aM);if(aM==="*"){while((aR=aN[aO++])){if(aR.nodeType===1){aP.push(aR)}}return aP}return aN};z.find.CLASS=aD.getElementsByClassName&&function(aN,aM){if(au){return aM.getElementsByClassName(aN)}};aB=[];ao=[];if((aD.qsa=aa.test(aL.querySelectorAll))){r(function(aM){aM.innerHTML="<select msallowcapture=''><option selected=''></option></select>";if(aM.querySelectorAll("[msallowcapture^='']").length){ao.push("[*^$]="+B+"*(?:''|\"\")")}if(!aM.querySelectorAll("[selected]").length){ao.push("\\["+B+"*(?:value|"+k+")")}if(!aM.querySelectorAll(":checked").length){ao.push(":checked")}});r(function(aN){var aM=aL.createElement("input");aM.setAttribute("type","hidden");aN.appendChild(aM).setAttribute("name","D");if(aN.querySelectorAll("[name=d]").length){ao.push("name"+B+"*[*^$|!~]?=")}if(!aN.querySelectorAll(":enabled").length){ao.push(":enabled",":disabled")}aN.querySelectorAll("*,:x");ao.push(",.*:")})}if((aD.matchesSelector=aa.test((q=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector)))){r(function(aM){aD.disconnectedMatch=q.call(aM,"div");q.call(aM,"[s!='']:x");aB.push("!=",w)})}ao=ao.length&&new RegExp(ao.join("|"));aB=aB.length&&new RegExp(aB.join("|"));i=aa.test(A.compareDocumentPosition);Q=i||aa.test(A.contains)?function(aN,aM){var aP=aN.nodeType===9?aN.documentElement:aN,aO=aM&&aM.parentNode;return aN===aO||!!(aO&&aO.nodeType===1&&(aP.contains?aP.contains(aO):aN.compareDocumentPosition&&aN.compareDocumentPosition(aO)&16))}:function(aN,aM){if(aM){while((aM=aM.parentNode)){if(aM===aN){return true}}}return false};P=i?function(aN,aM){if(aN===aM){ai=true;return 0}var aO=!aN.compareDocumentPosition-!aM.compareDocumentPosition;if(aO){return aO}aO=(aN.ownerDocument||aN)===(aM.ownerDocument||aM)?aN.compareDocumentPosition(aM):1;if(aO&1||(!aD.sortDetached&&aM.compareDocumentPosition(aN)===aO)){if(aN===aL||aN.ownerDocument===U&&Q(U,aN)){return -1}if(aM===aL||aM.ownerDocument===U&&Q(U,aM)){return 1}return T?(p.call(T,aN)-p.call(T,aM)):0}return aO&4?-1:1}:function(aN,aM){if(aN===aM){ai=true;return 0}var aT,aQ=0,aS=aN.parentNode,aP=aM.parentNode,aO=[aN],aR=[aM];if(!aS||!aP){return aN===aL?-1:aM===aL?1:aS?-1:aP?1:T?(p.call(T,aN)-p.call(T,aM)):0}else{if(aS===aP){return m(aN,aM)}}aT=aN;while((aT=aT.parentNode)){aO.unshift(aT)}aT=aM;while((aT=aT.parentNode)){aR.unshift(aT)}while(aO[aQ]===aR[aQ]){aQ++}return aQ?m(aO[aQ],aR[aQ]):aO[aQ]===U?-1:aR[aQ]===U?1:0};return aL};H.matches=function(aI,i){return H(aI,null,null,i)};H.matchesSelector=function(aI,aK){if((aI.ownerDocument||aI)!==N){ak(aI)}aK=aK.replace(F,"='$1']");if(aD.matchesSelector&&au&&(!aB||!aB.test(aK))&&(!ao||!ao.test(aK))){try{var i=q.call(aI,aK);if(i||aD.disconnectedMatch||aI.document&&aI.document.nodeType!==11){return i}}catch(aJ){}}return H(aK,N,null,[aI]).length>0};H.contains=function(i,aI){if((i.ownerDocument||i)!==N){ak(i)}return Q(i,aI)};H.attr=function(aJ,i){if((aJ.ownerDocument||aJ)!==N){ak(aJ)}var aI=z.attrHandle[i.toLowerCase()],aK=aI&&Z.call(z.attrHandle,i.toLowerCase())?aI(aJ,i,!au):g;return aK!==g?aK:aD.attributes||!au?aJ.getAttribute(i):(aK=aJ.getAttributeNode(i))&&aK.specified?aK.value:null};H.error=function(i){throw new Error("Syntax error, unrecognized expression: "+i)};H.uniqueSort=function(aK){var aL,aM=[],aI=0,aJ=0;ai=!aD.detectDuplicates;T=!aD.sortStable&&aK.slice(0);aK.sort(P);if(ai){while((aL=aK[aJ++])){if(aL===aK[aJ]){aI=aM.push(aJ)}}while(aI--){aK.splice(aM[aI],1)}}T=null;return aK};S=H.getText=function(aM){var aL,aJ="",aK=0,aI=aM.nodeType;if(!aI){while((aL=aM[aK++])){aJ+=S(aL)}}else{if(aI===1||aI===9||aI===11){if(typeof aM.textContent==="string"){return aM.textContent}else{for(aM=aM.firstChild;aM;aM=aM.nextSibling){aJ+=S(aM)}}}else{if(aI===3||aI===4){return aM.nodeValue}}}return aJ};z=H.selectors={cacheLength:50,createPseudo:v,match:an,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(i){i[1]=i[1].replace(E,aq);i[3]=(i[3]||i[4]||i[5]||"").replace(E,aq);if(i[2]==="~="){i[3]=" "+i[3]+" "}return i.slice(0,4)},CHILD:function(i){i[1]=i[1].toLowerCase();if(i[1].slice(0,3)==="nth"){if(!i[3]){H.error(i[0])}i[4]=+(i[4]?i[5]+(i[6]||1):2*(i[3]==="even"||i[3]==="odd"));i[5]=+((i[7]+i[8])||i[3]==="odd")}else{if(i[3]){H.error(i[0])}}return i},PSEUDO:function(aI){var i,aJ=!aI[6]&&aI[2];if(an.CHILD.test(aI[0])){return null}if(aI[3]){aI[2]=aI[4]||aI[5]||""}else{if(aJ&&ad.test(aJ)&&(i=t(aJ,true))&&(i=aJ.indexOf(")",aJ.length-i)-aJ.length)){aI[0]=aI[0].slice(0,i);aI[2]=aJ.slice(0,i)}}return aI.slice(0,3)}},filter:{TAG:function(aI){var i=aI.replace(E,aq).toLowerCase();return aI==="*"?function(){return true}:function(aJ){return aJ.nodeName&&aJ.nodeName.toLowerCase()===i}},CLASS:function(i){var aI=l[i+" "];return aI||(aI=new RegExp("(^|"+B+")"+i+"("+B+"|$)"))&&l(i,function(aJ){return aI.test(typeof aJ.className==="string"&&aJ.className||typeof aJ.getAttribute!==aA&&aJ.getAttribute("class")||"")})},ATTR:function(aJ,aI,i){return function(aL){var aK=H.attr(aL,aJ);if(aK==null){return aI==="!="}if(!aI){return true}aK+="";return aI==="="?aK===i:aI==="!="?aK!==i:aI==="^="?i&&aK.indexOf(i)===0:aI==="*="?i&&aK.indexOf(i)>-1:aI==="$="?i&&aK.slice(-i.length)===i:aI==="~="?(" "+aK+" ").indexOf(i)>-1:aI==="|="?aK===i||aK.slice(0,i.length+1)===i+"-":false}},CHILD:function(aI,aL,aK,aM,aJ){var aO=aI.slice(0,3)!=="nth",i=aI.slice(-4)!=="last",aN=aL==="of-type";return aM===1&&aJ===0?function(aP){return !!aP.parentNode}:function(aV,aT,aY){var aP,a1,aW,a0,aX,aS,aU=aO!==i?"nextSibling":"previousSibling",aZ=aV.parentNode,aR=aN&&aV.nodeName.toLowerCase(),aQ=!aY&&!aN;if(aZ){if(aO){while(aU){aW=aV;while((aW=aW[aU])){if(aN?aW.nodeName.toLowerCase()===aR:aW.nodeType===1){return false}}aS=aU=aI==="only"&&!aS&&"nextSibling"}return true}aS=[i?aZ.firstChild:aZ.lastChild];if(i&&aQ){a1=aZ[aw]||(aZ[aw]={});aP=a1[aI]||[];aX=aP[0]===aE&&aP[1];a0=aP[0]===aE&&aP[2];aW=aX&&aZ.childNodes[aX];while((aW=++aX&&aW&&aW[aU]||(a0=aX=0)||aS.pop())){if(aW.nodeType===1&&++a0&&aW===aV){a1[aI]=[aE,aX,a0];break}}}else{if(aQ&&(aP=(aV[aw]||(aV[aw]={}))[aI])&&aP[0]===aE){a0=aP[1]}else{while((aW=++aX&&aW&&aW[aU]||(a0=aX=0)||aS.pop())){if((aN?aW.nodeName.toLowerCase()===aR:aW.nodeType===1)&&++a0){if(aQ){(aW[aw]||(aW[aw]={}))[aI]=[aE,a0]}if(aW===aV){break}}}}}a0-=aJ;return a0===aM||(a0%aM===0&&a0/aM>=0)}}},PSEUDO:function(aK,aJ){var i,aI=z.pseudos[aK]||z.setFilters[aK.toLowerCase()]||H.error("unsupported pseudo: "+aK);if(aI[aw]){return aI(aJ)}if(aI.length>1){i=[aK,aK,"",aJ];return z.setFilters.hasOwnProperty(aK.toLowerCase())?v(function(aN,aP){var aM,aL=aI(aN,aJ),aO=aL.length;while(aO--){aM=p.call(aN,aL[aO]);aN[aM]=!(aP[aM]=aL[aO])}}):function(aL){return aI(aL,0,i)}}return aI}},pseudos:{not:v(function(i){var aI=[],aJ=[],aK=ah(i.replace(D,"$1"));return aK[aw]?v(function(aM,aR,aP,aN){var aQ,aL=aK(aM,null,aN,[]),aO=aM.length;while(aO--){if((aQ=aL[aO])){aM[aO]=!(aR[aO]=aQ)}}}):function(aN,aM,aL){aI[0]=aN;aK(aI,null,aL,aJ);return !aJ.pop()}}),has:v(function(i){return function(aI){return H(i,aI).length>0}}),contains:v(function(i){i=i.replace(E,aq);return function(aI){return(aI.textContent||aI.innerText||S(aI)).indexOf(i)>-1}}),lang:v(function(i){if(!af.test(i||"")){H.error("unsupported lang: "+i)}i=i.replace(E,aq).toLowerCase();return function(aJ){var aI;do{if((aI=au?aJ.lang:aJ.getAttribute("xml:lang")||aJ.getAttribute("lang"))){aI=aI.toLowerCase();return aI===i||aI.indexOf(i+"-")===0}}while((aJ=aJ.parentNode)&&aJ.nodeType===1);return false}}),target:function(i){var aI=window.location&&window.location.hash;return aI&&aI.slice(1)===i.id},root:function(i){return i===A},focus:function(i){return i===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(i.type||i.href||~i.tabIndex)},enabled:function(i){return i.disabled===false},disabled:function(i){return i.disabled===true},checked:function(i){var aI=i.nodeName.toLowerCase();return(aI==="input"&&!!i.checked)||(aI==="option"&&!!i.selected)},selected:function(i){if(i.parentNode){i.parentNode.selectedIndex}return i.selected===true},empty:function(i){for(i=i.firstChild;i;i=i.nextSibling){if(i.nodeType<6){return false}}return true},parent:function(i){return !z.pseudos.empty(i)},header:function(i){return x.test(i.nodeName)},input:function(i){return o.test(i.nodeName)},button:function(aI){var i=aI.nodeName.toLowerCase();return i==="input"&&aI.type==="button"||i==="button"},text:function(aI){var i;return aI.nodeName.toLowerCase()==="input"&&aI.type==="text"&&((i=aI.getAttribute("type"))==null||i.toLowerCase()==="text")},first:at(function(){return[0]}),last:at(function(i,aI){return[aI-1]}),eq:at(function(i,aJ,aI){return[aI<0?aI+aJ:aI]}),even:at(function(aI,aK){var aJ=0;for(;aJ<aK;aJ+=2){aI.push(aJ)}return aI}),odd:at(function(aI,aK){var aJ=1;for(;aJ<aK;aJ+=2){aI.push(aJ)}return aI}),lt:at(function(aI,aL,aK){var aJ=aK<0?aK+aL:aK;for(;--aJ>=0;){aI.push(aJ)}return aI}),gt:at(function(aI,aL,aK){var aJ=aK<0?aK+aL:aK;for(;++aJ<aL;){aI.push(aJ)}return aI})}};z.pseudos.nth=z.pseudos.eq;for(J in {radio:true,checkbox:true,file:true,password:true,image:true}){z.pseudos[J]=I(J)}for(J in {submit:true,reset:true}){z.pseudos[J]=n(J)}function ag(){}ag.prototype=z.filters=z.pseudos;z.setFilters=new ag();t=H.tokenize=function(aL,aQ){var aI,aM,aO,aP,aN,aJ,i,aK=av[aL+" "];if(aK){return aQ?0:aK.slice(0)}aN=aL;aJ=[];i=z.preFilter;while(aN){if(!aI||(aM=G.exec(aN))){if(aM){aN=aN.slice(aM[0].length)||aN}aJ.push((aO=[]))}aI=false;if((aM=M.exec(aN))){aI=aM.shift();aO.push({value:aI,type:aM[0].replace(D," ")});aN=aN.slice(aI.length)}for(aP in z.filter){if((aM=an[aP].exec(aN))&&(!i[aP]||(aM=i[aP](aM)))){aI=aM.shift();aO.push({value:aI,type:aP,matches:aM});aN=aN.slice(aI.length)}}if(!aI){break}}return aQ?aN.length:aN?H.error(aL):av(aL,aJ).slice(0)};function u(aL){var aK=0,aJ=aL.length,aI="";for(;aK<aJ;aK++){aI+=aL[aK].value}return aI}function C(aL,aJ,aK){var i=aJ.dir,aM=aK&&i==="parentNode",aI=ap++;return aJ.first?function(aP,aO,aN){while((aP=aP[i])){if(aP.nodeType===1||aM){return aL(aP,aO,aN)}}}:function(aR,aP,aO){var aS,aQ,aN=[aE,aI];if(aO){while((aR=aR[i])){if(aR.nodeType===1||aM){if(aL(aR,aP,aO)){return true}}}}else{while((aR=aR[i])){if(aR.nodeType===1||aM){aQ=aR[aw]||(aR[aw]={});if((aS=aQ[i])&&aS[0]===aE&&aS[1]===aI){return(aN[2]=aS[2])}else{aQ[i]=aN;if((aN[2]=aL(aR,aP,aO))){return true}}}}}}}function aG(i){return i.length>1?function(aL,aK,aI){var aJ=i.length;while(aJ--){if(!i[aJ](aL,aK,aI)){return false}}return true}:i[0]}function K(aJ,aM,aL){var aK=0,aI=aM.length;for(;aK<aI;aK++){H(aJ,aM[aK],aL)}return aL}function al(aI,aJ,aK,aL,aO){var aM,aR=[],aN=0,aP=aI.length,aQ=aJ!=null;for(;aN<aP;aN++){if((aM=aI[aN])){if(!aK||aK(aM,aL,aO)){aR.push(aM);if(aQ){aJ.push(aN)}}}}return aR}function s(aJ,aI,aL,aK,aM,i){if(aK&&!aK[aw]){aK=s(aK)}if(aM&&!aM[aw]){aM=s(aM,i)}return v(function(aX,aU,aP,aW){var aZ,aV,aR,aQ=[],aY=[],aO=aU.length,aN=aX||K(aI||"*",aP.nodeType?[aP]:aP,[]),aS=aJ&&(aX||!aI)?al(aN,aQ,aJ,aP,aW):aN,aT=aL?aM||(aX?aJ:aO||aK)?[]:aU:aS;if(aL){aL(aS,aT,aP,aW)}if(aK){aZ=al(aT,aY);aK(aZ,[],aP,aW);aV=aZ.length;while(aV--){if((aR=aZ[aV])){aT[aY[aV]]=!(aS[aY[aV]]=aR)}}}if(aX){if(aM||aJ){if(aM){aZ=[];aV=aT.length;while(aV--){if((aR=aT[aV])){aZ.push((aS[aV]=aR))}}aM(null,(aT=[]),aZ,aW)}aV=aT.length;while(aV--){if((aR=aT[aV])&&(aZ=aM?p.call(aX,aR):aQ[aV])>-1){aX[aZ]=!(aU[aZ]=aR)}}}}else{aT=al(aT===aU?aT.splice(aO,aT.length):aT);if(aM){aM(null,aU,aT,aW)}else{j.apply(aU,aT)}}})}function ax(aO){var aJ,aM,aK,aN=aO.length,aR=z.relative[aO[0].type],aS=aR||z.relative[" "],aL=aR?1:0,aP=C(function(i){return i===aJ},aS,true),aQ=C(function(i){return p.call(aJ,i)>-1},aS,true),aI=[function(aU,aT,i){return(!aR&&(i||aT!==aH))||((aJ=aT).nodeType?aP(aU,aT,i):aQ(aU,aT,i))}];for(;aL<aN;aL++){if((aM=z.relative[aO[aL].type])){aI=[C(aG(aI),aM)]}else{aM=z.filter[aO[aL].type].apply(null,aO[aL].matches);if(aM[aw]){aK=++aL;for(;aK<aN;aK++){if(z.relative[aO[aK].type]){break}}return s(aL>1&&aG(aI),aL>1&&u(aO.slice(0,aL-1).concat({value:aO[aL-2].type===" "?"*":""})).replace(D,"$1"),aM,aL<aK&&ax(aO.slice(aL,aK)),aK<aN&&ax((aO=aO.slice(aK))),aK<aN&&u(aO))}aI.push(aM)}}return aG(aI)}function aj(aK,aJ){var i=aJ.length>0,aL=aK.length>0,aI=function(aV,aP,aU,aT,aY){var aQ,aR,aW,a0=0,aS="0",aM=aV&&[],a1=[],aZ=aH,aO=aV||aL&&z.find.TAG("*",aY),aN=(aE+=aZ==null?1:Math.random()||0.1),aX=aO.length;if(aY){aH=aP!==N&&aP}for(;aS!==aX&&(aQ=aO[aS])!=null;aS++){if(aL&&aQ){aR=0;while((aW=aK[aR++])){if(aW(aQ,aP,aU)){aT.push(aQ);break}}if(aY){aE=aN}}if(i){if((aQ=!aW&&aQ)){a0--}if(aV){aM.push(aQ)}}}a0+=aS;if(i&&aS!==a0){aR=0;while((aW=aJ[aR++])){aW(aM,a1,aP,aU)}if(aV){if(a0>0){while(aS--){if(!(aM[aS]||a1[aS])){a1[aS]=az.call(aT)}}}a1=al(a1)}j.apply(aT,a1);if(aY&&!aV&&a1.length>0&&(a0+aJ.length)>1){H.uniqueSort(aT)}}if(aY){aE=aN;aH=aZ}return aM};return i?v(aI):aI}ah=H.compile=function(aI,aK){var aL,aJ=[],aN=[],aM=R[aI+" "];if(!aM){if(!aK){aK=t(aI)}aL=aK.length;while(aL--){aM=ax(aK[aL]);if(aM[aw]){aJ.push(aM)}else{aN.push(aM)}}aM=R(aI,aj(aN,aJ));aM.selector=aI}return aM};aC=H.select=function(aK,aI,aL,aO){var aM,aR,aJ,aS,aP,aQ=typeof aK==="function"&&aK,aN=!aO&&t((aK=aQ.selector||aK));aL=aL||[];if(aN.length===1){aR=aN[0]=aN[0].slice(0);if(aR.length>2&&(aJ=aR[0]).type==="ID"&&aD.getById&&aI.nodeType===9&&au&&z.relative[aR[1].type]){aI=(z.find.ID(aJ.matches[0].replace(E,aq),aI)||[])[0];if(!aI){return aL}else{if(aQ){aI=aI.parentNode}}aK=aK.slice(aR.shift().value.length)}aM=an.needsContext.test(aK)?0:aR.length;while(aM--){aJ=aR[aM];if(z.relative[(aS=aJ.type)]){break}if((aP=z.find[aS])){if((aO=aP(aJ.matches[0].replace(E,aq),am.test(aR[0].type)&&ae(aI.parentNode)||aI))){aR.splice(aM,1);aK=aO.length&&u(aR);if(!aK){j.apply(aL,aO);return aL}break}}}}(aQ||ah(aK,aN))(aO,aI,!au,aL,am.test(aK)&&ae(aI.parentNode)||aI);return aL};aD.sortStable=aw.split("").sort(P).join("")===aw;aD.detectDuplicates=!!ai;ak();aD.sortDetached=r(function(i){return i.compareDocumentPosition(N.createElement("div"))&1});if(!r(function(i){i.innerHTML="<a href='#'></a>";return i.firstChild.getAttribute("href")==="#"})){aF("type|href|height|width",function(aI,i,aJ){if(!aJ){return aI.getAttribute(i,i.toLowerCase()==="type"?1:2)}})}if(!aD.attributes||!r(function(i){i.innerHTML="<input/>";i.firstChild.setAttribute("value","");return i.firstChild.getAttribute("value")===""})){aF("value",function(aI,i,aJ){if(!aJ&&aI.nodeName.toLowerCase()==="input"){return aI.defaultValue}})}if(!r(function(i){return i.getAttribute("disabled")==null})){aF(k,function(aI,i,aK){var aJ;if(!aK){return aI[i]===true?i.toLowerCase():(aJ=aI.getAttributeNode(i))&&aJ.specified?aJ.value:null}})}return H});h("tinymce/util/Arr",[],function(){var m=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function l(u){var v=u,t,s;if(!m(u)){v=[];for(t=0,s=u.length;t<s;t++){v[t]=u[t]}}return v}function q(w,t,v){var x,u;if(!w){return 0}v=v||w;if(w.length!==g){for(x=0,u=w.length;x<u;x++){if(t.call(v,w[x],x,w)===false){return 0}}}else{for(x in w){if(w.hasOwnProperty(x)){if(t.call(v,w[x],x,w)===false){return 0}}}}return 1}function j(u,t){var s=[];q(u,function(w,v){s.push(t(w,v,u))});return s}function k(s,t){var u=[];q(s,function(w,x){if(!t||t(w,x,s)){u.push(w)}});return u}function p(t,u){var w,s;if(t){for(w=0,s=t.length;w<s;w++){if(t[w]===u){return w}}}return -1}function o(w,v,t,s){var u=0;if(arguments.length<3){t=w[0]}for(;u<w.length;u++){t=v.call(s,t,w[u],u)}return t}function i(w,s,u){var v,t;for(v=0,t=w.length;v<t;v++){if(s.call(u,w[v],v,w)){return v}}return -1}function n(v,t,u){var s=i(v,t,u);if(s!==-1){return v[s]}return g}function r(s){return s[s.length-1]}return{isArray:m,toArray:l,each:q,map:j,filter:k,indexOf:p,reduce:o,findIndex:i,find:n,last:r}});h("tinymce/util/Tools",["tinymce/Env","tinymce/util/Arr"],function(p,o){var u=/^\s*|\s*$/g;function j(v){return(v===null||v===g)?"":(""+v).replace(u,"")}function m(w,v){if(!v){return w!==g}if(v=="array"&&o.isArray(w)){return true}return typeof w==v}function k(v,y,x){var w;v=v||[];y=y||",";if(typeof v=="string"){v=v.split(y)}x=x||{};w=v.length;while(w--){x[v[w]]={}}return x}function n(E,v,z){var D=this,w,y,A,B,x,C=0;E=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(E);A=E[3].match(/(^|\.)(\w+)$/i)[2];y=D.createNS(E[3].replace(/\.\w+$/,""),z);if(y[A]){return}if(E[2]=="static"){y[A]=v;if(this.onCreate){this.onCreate(E[2],E[3],y[A])}return}if(!v[A]){v[A]=function(){};C=1}y[A]=v[A];D.extend(y[A].prototype,v);if(E[5]){w=D.resolve(E[5]).prototype;B=E[5].match(/\.(\w+)$/i)[1];x=y[A];if(C){y[A]=function(){return w[B].apply(this,arguments)}}else{y[A]=function(){this.parent=w[B];return x.apply(this,arguments)}}y[A].prototype[A]=y[A];D.each(w,function(F,G){y[A].prototype[G]=w[G]});D.each(v,function(F,G){if(w[G]){y[A].prototype[G]=function(){this.parent=w[G];return F.apply(this,arguments)}}else{if(G!=A){y[A].prototype[G]=F}}})}D.each(v["static"],function(F,G){y[A][G]=F})}function q(B,z){var y,v,x,w=arguments,A;for(y=1,v=w.length;y<v;y++){z=w[y];for(x in z){if(z.hasOwnProperty(x)){A=z[x];if(A!==g){B[x]=A}}}}return B}function s(x,w,y,v){v=v||this;if(x){if(y){x=x[y]}o.each(x,function(A,z){if(w.call(v,A,z,y)===false){return false}s(A,w,y,v)})}}function l(z,y){var x,w;y=y||window;z=z.split(".");for(x=0;x<z.length;x++){w=z[x];if(!y[w]){y[w]={}}y=y[w]}return y}function t(y,x){var w,v;x=x||window;y=y.split(".");for(w=0,v=y.length;w<v;w++){x=x[y[w]];if(!x){break}}return x}function r(v,w){if(!v||m(v,"array")){return v}return o.map(v.split(w||","),j)}function i(w){var v=p.cacheSuffix;if(v){w+=(w.indexOf("?")===-1?"?":"&")+v}return w}return{trim:j,isArray:o.isArray,is:m,toArray:o.toArray,makeMap:k,each:o.each,map:o.map,grep:o.filter,inArray:o.indexOf,extend:q,create:n,walk:s,createNS:l,resolve:t,explode:r,_addCacheSuffix:i}});h("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/Env"],function(t,q,n,o){var Q=document,v=Array.prototype.push,F=Array.prototype.slice;var C=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/;var P=t.Event,p;var y=n.makeMap("children,contents,next,prev");function k(R){return typeof R!=="undefined"}function z(R){return typeof R==="string"}function K(R){return R&&R==R.window}function E(T,S){var V,U,R;S=S||Q;R=S.createElement("div");V=S.createDocumentFragment();R.innerHTML=T;while((U=R.firstChild)){V.appendChild(U)}return V}function B(R,U,V,S){var T;if(z(U)){U=E(U,A(R[0]))}else{if(U.length&&!U.nodeType){U=r.makeArray(U);if(S){for(T=U.length-1;T>=0;T--){B(R,U[T],V,S)}}else{for(T=0;T<U.length;T++){B(R,U[T],V,S)}}return R}}if(U.nodeType){T=R.length;while(T--){V.call(R[T],U)}}return R}function l(S,R){return S&&R&&(" "+S.className+" ").indexOf(" "+R+" ")!==-1}function x(U,V,S){var R,T;V=r(V)[0];U.each(function(){var W=this;if(!S||R!=W.parentNode){R=W.parentNode;T=V.cloneNode(false);W.parentNode.insertBefore(T,W);T.appendChild(W)}else{T.appendChild(W)}});return U}var j=n.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," ");var H=n.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," ");var L={"for":"htmlFor","class":"className",readonly:"readOnly"};var m={"float":"cssFloat"};var N={},O={};function r(R,S){return new r.fn.init(R,S)}function I(S,T){var R;if(T.indexOf){return T.indexOf(S)}R=T.length;while(R--){if(T[R]===S){return R}}return -1}var M=/^\s*|\s*$/g;function G(R){return(R===null||R===p)?"":(""+R).replace(M,"")}function s(W,X){var U,S,R,T,V;if(W){U=W.length;if(U===T){for(S in W){if(W.hasOwnProperty(S)){V=W[S];if(X.call(V,S,V)===false){break}}}}else{for(R=0;R<U;R++){V=W[R];if(X.call(V,R,V)===false){break}}}}return W}function w(T,S){var R=[];s(T,function(U,V){if(S(V,U)){R.push(V)}});return R}function A(R){if(!R){return Q}if(R.nodeType==9){return R}return R.ownerDocument}r.fn=r.prototype={constructor:r,selector:"",context:null,length:0,init:function(R,U){var S=this,T,V;if(!R){return S}if(R.nodeType){S.context=S[0]=R;S.length=1;return S}if(U&&U.nodeType){S.context=U}else{if(U){return r(R).attr(U)}S.context=U=document}if(z(R)){S.selector=R;if(R.charAt(0)==="<"&&R.charAt(R.length-1)===">"&&R.length>=3){T=[null,R,null]}else{T=C.exec(R)}if(T){if(T[1]){V=E(R,A(U)).firstChild;while(V){v.call(S,V);V=V.nextSibling}}else{V=A(U).getElementById(T[2]);if(!V){return S}if(V.id!==T[2]){return S.find(R)}S.length=1;S[0]=V}}else{return r(U).find(R)}}else{this.add(R,false)}return S},toArray:function(){return n.toArray(this)},add:function(T,V){var S=this,R,U;if(z(T)){return S.add(r(T))}if(V!==false){R=r.unique(S.toArray().concat(r.makeArray(T)));S.length=R.length;for(U=0;U<R.length;U++){S[U]=R[U]}}else{v.apply(S,r.makeArray(T))}return S},attr:function(S,U){var R=this,T;if(typeof S==="object"){s(S,function(V,W){R.attr(V,W)})}else{if(k(U)){this.each(function(){var V;if(this.nodeType===1){V=N[S];if(V&&V.set){V.set(this,U);return}if(U===null){this.removeAttribute(S,2)}else{this.setAttribute(S,U,2)}}})}else{if(R[0]&&R[0].nodeType===1){T=N[S];if(T&&T.get){return T.get(R[0],S)}if(H[S]){return R.prop(S)?S:p}U=R[0].getAttribute(S,2);if(U===null){U=p}}return U}}return R},removeAttr:function(R){return this.attr(R,null)},prop:function(S,T){var R=this;S=L[S]||S;if(typeof S==="object"){s(S,function(U,V){R.prop(U,V)})}else{if(k(T)){this.each(function(){if(this.nodeType==1){this[S]=T}})}else{if(R[0]&&R[0].nodeType&&S in R[0]){return R[0][S]}return T}}return R},css:function(T,X){var S=this,Y,W;function V(Z){return Z.replace(/-(\D)/g,function(ab,aa){return aa.toUpperCase()})}function R(Z){return Z.replace(/[A-Z]/g,function(aa){return"-"+aa})}if(typeof T==="object"){s(T,function(Z,aa){S.css(Z,aa)})}else{if(k(X)){T=V(T);if(typeof X==="number"&&!j[T]){X+="px"}S.each(function(){var aa=this.style;W=O[T];if(W&&W.set){W.set(this,X);return}try{this.style[m[T]||T]=X}catch(Z){}if(X===null||X===""){if(aa.removeProperty){aa.removeProperty(R(T))}else{aa.removeAttribute(T)}}})}else{Y=S[0];W=O[T];if(W&&W.get){return W.get(Y)}if(Y.ownerDocument.defaultView){try{return Y.ownerDocument.defaultView.getComputedStyle(Y,null).getPropertyValue(R(T))}catch(U){return p}}else{if(Y.currentStyle){return Y.currentStyle[V(T)]}}}}return S},remove:function(){var R=this,T,S=this.length;while(S--){T=R[S];P.clean(T);if(T.parentNode){T.parentNode.removeChild(T)}}return this},empty:function(){var R=this,T,S=this.length;while(S--){T=R[S];while(T.firstChild){T.removeChild(T.firstChild)}}return this},html:function(U){var R=this,T;if(k(U)){T=R.length;try{while(T--){R[T].innerHTML=U}}catch(S){r(R[T]).empty().append(U)}return R}return R[0]?R[0].innerHTML:""},text:function(T){var R=this,S;if(k(T)){S=R.length;while(S--){if("innerText" in R[S]){R[S].innerText=T}else{R[0].textContent=T}}return R}return R[0]?(R[0].innerText||R[0].textContent):""},append:function(){return B(this,arguments,function(R){if(this.nodeType===1||(this.host&&this.host.nodeType===1)){this.appendChild(R)}})},prepend:function(){return B(this,arguments,function(R){if(this.nodeType===1||(this.host&&this.host.nodeType===1)){this.insertBefore(R,this.firstChild)}},true)},before:function(){var R=this;if(R[0]&&R[0].parentNode){return B(R,arguments,function(S){this.parentNode.insertBefore(S,this)})}return R},after:function(){var R=this;if(R[0]&&R[0].parentNode){return B(R,arguments,function(S){this.parentNode.insertBefore(S,this.nextSibling)},true)}return R},appendTo:function(R){r(R).append(this);return this},prependTo:function(R){r(R).prepend(this);return this},replaceWith:function(R){return this.before(R).remove()},wrap:function(R){return x(this,R)},wrapAll:function(R){return x(this,R,true)},wrapInner:function(R){this.each(function(){r(this).contents().wrapAll(R)});return this},unwrap:function(){return this.parent().each(function(){r(this).replaceWith(this.childNodes)})},clone:function(){var R=[];this.each(function(){R.push(this.cloneNode(true))});return r(R)},addClass:function(R){return this.toggleClass(R,true)},removeClass:function(R){return this.toggleClass(R,false)},toggleClass:function(S,T){var R=this;if(typeof S!="string"){return R}if(S.indexOf(" ")!==-1){s(S.split(" "),function(){R.toggleClass(this,T)})}else{R.each(function(U,W){var V,X;X=l(W,S);if(X!==T){V=W.className;if(X){W.className=G((" "+V+" ").replace(" "+S+" "," "))}else{W.className+=V?" "+S:S}}})}return R},hasClass:function(R){return l(this[0],R)},each:function(R){return s(this,R)},on:function(R,S){return this.each(function(){P.bind(this,R,S)})},off:function(R,S){return this.each(function(){P.unbind(this,R,S)})},trigger:function(R){return this.each(function(){if(typeof R=="object"){P.fire(this,R.type,R)}else{P.fire(this,R)}})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new r(F.apply(this,arguments))},eq:function(R){return R===-1?this.slice(R):this.slice(R,+R+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(R){var U,S,T=[];for(U=0,S=this.length;U<S;U++){r.find(R,this[U],T)}return r(T)},filter:function(R){if(typeof R=="function"){return r(w(this.toArray(),function(T,S){return R(S,T)}))}return r(r.filter(R,this.toArray()))},closest:function(S){var R=[];if(S instanceof r){S=S[0]}this.each(function(T,U){while(U){if(typeof S=="string"&&r(U).is(S)){R.push(U);break}else{if(U==S){R.push(U);break}}U=U.parentNode}});return r(R)},offset:function(U){var X,T,S;var R=0,W=0,V;if(!U){X=this[0];if(X){T=X.ownerDocument;S=T.documentElement;if(X.getBoundingClientRect){V=X.getBoundingClientRect();R=V.left+(S.scrollLeft||T.body.scrollLeft)-S.clientLeft;W=V.top+(S.scrollTop||T.body.scrollTop)-S.clientTop}}return{left:R,top:W}}return this.css(U)},push:v,sort:[].sort,splice:[].splice};n.extend(r,{extend:n.extend,makeArray:function(R){if(K(R)||R.nodeType){return[R]}return n.toArray(R)},inArray:I,isArray:n.isArray,each:s,trim:G,grep:w,find:q,expr:q.selectors,unique:q.uniqueSort,text:q.getText,contains:q.contains,filter:function(U,R,T){var S=R.length;if(T){U=":not("+U+")"}while(S--){if(R[S].nodeType!=1){R.splice(S,1)}}if(R.length===1){R=r.find.matchesSelector(R[0],U)?[R[0]]:[]}else{R=r.find.matches(U,R)}return R}});function D(S,V,U){var R=[],T=S[V];if(typeof U!="string"&&U instanceof r){U=U[0]}while(T&&T.nodeType!==9){if(U!==g){if(T===U){break}if(typeof U=="string"&&r(T).is(U)){break}}if(T.nodeType===1){R.push(T)}T=T[V]}return R}function J(U,T,S,V){var R=[];if(V instanceof r){V=V[0]}for(;U;U=U[T]){if(S&&U.nodeType!==S){continue}if(V!==g){if(U===V){break}if(typeof V=="string"&&r(U).is(V)){break}}R.push(U)}return R}function i(T,S,R){for(T=T[S];T;T=T[S]){if(T.nodeType==R){return T}}return null}s({parent:function(S){var R=S.parentNode;return R&&R.nodeType!==11?R:null},parents:function(R){return D(R,"parentNode")},next:function(R){return i(R,"nextSibling",1)},prev:function(R){return i(R,"previousSibling",1)},children:function(R){return J(R.firstChild,"nextSibling",1)},contents:function(R){return n.toArray((R.nodeName==="iframe"?R.contentDocument||R.contentWindow.document:R).childNodes)}},function(R,S){r.fn[R]=function(U){var V=this,T=[];V.each(function(){var W=S.call(T,this,U,T);if(W){if(r.isArray(W)){T.push.apply(T,W)}else{T.push(W)}}});if(this.length>1){if(!y[R]){T=r.unique(T)}if(R.indexOf("parents")===0){T=T.reverse()}}T=r(T);if(U){return T.filter(U)}return T}});s({parentsUntil:function(R,S){return D(R,"parentNode",S)},nextUntil:function(R,S){return J(R,"nextSibling",1,S).slice(1)},prevUntil:function(R,S){return J(R,"previousSibling",1,S).slice(1)}},function(R,S){r.fn[R]=function(U,W){var V=this,T=[];V.each(function(){var X=S.call(T,this,U,T);if(X){if(r.isArray(X)){T.push.apply(T,X)}else{T.push(X)}}});if(this.length>1){T=r.unique(T);if(R.indexOf("parents")===0||R==="prevUntil"){T=T.reverse()}}T=r(T);if(W){return T.filter(W)}return T}});r.fn.is=function(R){return !!R&&this.filter(R).length>0};r.fn.init.prototype=r.fn;r.overrideDefaults=function(T){var S;function R(U,V){S=S||T();if(arguments.length===0){U=S.element}if(!V){V=S.context}return new R.fn.init(U,V)}r.extend(R,this);return R};function u(T,S,R){s(R,function(U,V){T[U]=T[U]||{};T[U][S]=V})}if(o.ie&&o.ie<8){u(N,"get",{maxlength:function(S){var R=S.maxLength;if(R===2147483647){return p}return R},size:function(S){var R=S.size;if(R===20){return p}return R},"class":function(R){return R.className},style:function(S){var R=S.style.cssText;if(R.length===0){return p}return R}});u(N,"set",{"class":function(S,R){S.className=R},style:function(S,R){S.style.cssText=R}})}if(o.ie&&o.ie<9){m["float"]="styleFloat";u(O,"set",{opacity:function(T,S){var R=T.style;if(S===null||S===""){R.removeAttribute("filter")}else{R.zoom=1;R.filter="alpha(opacity="+(S*100)+")"}}})}r.attrHooks=N;r.cssHooks=O;return r});h("tinymce/html/Styles",[],function(){return function(o,q){var u=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,r=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,w=/\s+$/,p,s,k={},t,n,j,v="\uFEFF";o=o||{};if(q){n=q.getValidStyles();j=q.getInvalidStyles()}t=("\\\" \\' \\; \\: ; : "+v).split(" ");for(s=0;s<t.length;s++){k[t[s]]=v+s;k[v+s]=t[s]}function m(x,A,z,i){function y(B){B=parseInt(B,10).toString(16);return B.length>1?B:"0"+B}return"#"+y(A)+y(z)+y(i)}return{toHex:function(i){return i.replace(u,m)},parse:function(C){var I={},A,x,G,B,F=o.url_converter;var H=o.url_converter_scope||this;function z(O,R,L){var Q,M,K,P;Q=I[O+"-top"+R];if(!Q){return}M=I[O+"-right"+R];if(!M){return}K=I[O+"-bottom"+R];if(!K){return}P=I[O+"-left"+R];if(!P){return}var N=[Q,M,K,P];s=N.length-1;while(s--){if(N[s]!==N[s+1]){break}}if(s>-1&&L){return}I[O+R]=s==-1?N[0]:N.join(" ");delete I[O+"-top"+R];delete I[O+"-right"+R];delete I[O+"-bottom"+R];delete I[O+"-left"+R]}function E(L){var M=I[L],K;if(!M){return}M=M.split(" ");K=M.length;while(K--){if(M[K]!==M[0]){return false}}I[L]=M[0];return true}function J(M,L,K,N){if(!E(L)){return}if(!E(K)){return}if(!E(N)){return}I[M]=I[L]+" "+I[K]+" "+I[N];delete I[L];delete I[K];delete I[N]}function D(K){B=true;return k[K]}function i(L,K){if(B){L=L.replace(/\uFEFF[0-9]/g,function(M){return k[M]})}if(!K){L=L.replace(/\\([\'\";:])/g,"$1")}return L}function y(L,K,O,N,Q,M){Q=Q||M;if(Q){Q=i(Q);return"'"+Q.replace(/\'/g,"\\'")+"'"}K=i(K||O||N);if(!o.allow_script_urls){var P=K.replace(/[\s\r\n]+/,"");if(/(java|vb)script:/i.test(P)){return""}if(!o.allow_svg_data_urls&&/^data:image\/svg/i.test(P)){return""}}if(F){K=F.call(H,K,"style")}return"url('"+K.replace(/\'/g,"\\'")+"')"}if(C){C=C.replace(/[\u0000-\u001F]/g,"");C=C.replace(/\\[\"\';:\uFEFF]/g,D).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(K){return K.replace(/[;:]/g,D)});while((A=l.exec(C))){x=A[1].replace(w,"").toLowerCase();G=A[2].replace(w,"");G=G.replace(/\\[0-9a-f]+/g,function(K){return String.fromCharCode(parseInt(K.substr(1),16))});if(x&&G.length>0){if(!o.allow_script_urls&&(x=="behavior"||/expression\s*\(|\/\*|\*\//.test(G))){continue}if(x==="font-weight"&&G==="700"){G="bold"}else{if(x==="color"||x==="background-color"){G=G.toLowerCase()}}G=G.replace(u,m);G=G.replace(r,y);I[x]=B?i(G,true):G}l.lastIndex=A.index+A[0].length}z("border","",true);z("border","-width");z("border","-color");z("border","-style");z("padding","");z("margin","");J("border","border-width","border-style","border-color");if(I.border==="medium none"){delete I.border}if(I["border-image"]==="none"){delete I["border-image"]}}return I},serialize:function(A,i){var z="",y,B;function x(E){var H,F,D,G;H=n[E];if(H){for(F=0,D=H.length;F<D;F++){E=H[F];G=A[E];if(G!==p&&G.length>0){z+=(z.length>0?" ":"")+E+": "+G+";"}}}}function C(E,D){var F;F=j["*"];if(F&&F[E]){return false}F=j[D];if(F&&F[E]){return false}return true}if(i&&n){x("*");x(i)}else{for(y in A){B=A[y];if(B!==p&&B.length>0){if(!j||C(y,i)){z+=(z.length>0?" ":"")+y+": "+B+";"}}}}return z}}}});h("tinymce/dom/TreeWalker",[],function(){return function(j,i){var l=j;function m(r,n,o,s){var q,p;if(r){if(!s&&r[n]){return r[n]}if(r!=i){q=r[o];if(q){return q}for(p=r.parentNode;p&&p!=i;p=p.parentNode){q=p[o];if(q){return q}}}}}function k(r,n,o,s){var q,p,t;if(r){q=r[o];if(i&&q===i){return}if(q){if(!s){for(t=q[n];t;t=t[n]){if(!t[n]){return t}}}return q}p=r.parentNode;if(p&&p!==i){return p}}}this.current=function(){return l};this.next=function(n){l=m(l,"firstChild","nextSibling",n);return l};this.prev=function(n){l=m(l,"lastChild","previousSibling",n);return l};this.prev2=function(n){l=k(l,"lastChild","previousSibling",n);return l}}});h("tinymce/dom/Range",["tinymce/util/Tools"],function(i){function j(k){var o=this,m=k.doc,aa=0,M=1,s=2,L=true,Y=false,ac="startOffset",q="startContainer",W="endContainer",H="endOffset",t=i.extend,w=k.nodeIndex;function E(){return m.createDocumentFragment()}function z(ae,ad){J(L,ae,ad)}function B(ae,ad){J(Y,ae,ad)}function p(ad){z(ad.parentNode,w(ad))}function Q(ad){z(ad.parentNode,w(ad)+1)}function R(ad){B(ad.parentNode,w(ad))}function C(ad){B(ad.parentNode,w(ad)+1)}function I(ad){if(ad){o[W]=o[q];o[H]=o[ac]}else{o[q]=o[W];o[ac]=o[H]}o.collapsed=L}function F(ad){p(ad);C(ad)}function N(ad){z(ad,0);B(ad,ad.nodeType===1?ad.childNodes.length:ad.nodeValue.length)}function D(ah,ad){var ak=o[q],af=o[ac],aj=o[W],ae=o[H],ai=ad.startContainer,am=ad.startOffset,ag=ad.endContainer,al=ad.endOffset;if(ah===0){return O(ak,af,ai,am)}if(ah===1){return O(aj,ae,ai,am)}if(ah===2){return O(aj,ae,ag,al)}if(ah===3){return O(ak,af,ag,al)}}function y(){u(s)}function P(){return u(aa)}function l(){return u(M)}function K(ah){var ae=this[q],ad=this[ac],ag,af;if((ae.nodeType===3||ae.nodeType===4)&&ae.nodeValue){if(!ad){ae.parentNode.insertBefore(ah,ae)}else{if(ad>=ae.nodeValue.length){k.insertAfter(ah,ae)}else{ag=ae.splitText(ad);ae.parentNode.insertBefore(ah,ag)}}}else{if(ae.childNodes.length>0){af=ae.childNodes[ad]}if(af){ae.insertBefore(ah,af)}else{if(ae.nodeType==3){k.insertAfter(ah,ae)}else{ae.appendChild(ah)}}}}function U(ae){var ad=o.extractContents();o.insertNode(ae);ae.appendChild(ad);o.selectNode(ae)}function S(){return t(new j(k),{startContainer:o[q],startOffset:o[ac],endContainer:o[W],endOffset:o[H],collapsed:o.collapsed,commonAncestorContainer:o.commonAncestorContainer})}function V(ad,ae){var af;if(ad.nodeType==3){return ad}if(ae<0){return ad}af=ad.firstChild;while(af&&ae>0){--ae;af=af.nextSibling}if(af){return af}return ad}function v(){return(o[q]==o[W]&&o[ac]==o[H])}function O(ag,ai,ae,ah){var aj,af,ad,ak,am,al;if(ag==ae){if(ai==ah){return 0}if(ai<ah){return -1}return 1}aj=ae;while(aj&&aj.parentNode!=ag){aj=aj.parentNode}if(aj){af=0;ad=ag.firstChild;while(ad!=aj&&af<ai){af++;ad=ad.nextSibling}if(ai<=af){return -1}return 1}aj=ag;while(aj&&aj.parentNode!=ae){aj=aj.parentNode}if(aj){af=0;ad=ae.firstChild;while(ad!=aj&&af<ah){af++;ad=ad.nextSibling}if(af<ah){return -1}return 1}ak=k.findCommonAncestor(ag,ae);am=ag;while(am&&am.parentNode!=ak){am=am.parentNode}if(!am){am=ak}al=ae;while(al&&al.parentNode!=ak){al=al.parentNode}if(!al){al=ak}if(am==al){return 0}ad=ak.firstChild;while(ad){if(ad==am){return -1}if(ad==al){return 1}ad=ad.nextSibling}}function J(ae,ah,ag){var ad,af;if(ae){o[q]=ah;o[ac]=ag}else{o[W]=ah;o[H]=ag}ad=o[W];while(ad.parentNode){ad=ad.parentNode}af=o[q];while(af.parentNode){af=af.parentNode}if(af==ad){if(O(o[q],o[ac],o[W],o[H])>0){o.collapse(ae)}}else{o.collapse(ae)}o.collapsed=v();o.commonAncestorContainer=k.findCommonAncestor(o[q],o[W])}function u(ak){var aj,ag=0,am=0,ae,ai,af,ah,ad,al;if(o[q]==o[W]){return n(ak)}for(aj=o[W],ae=aj.parentNode;ae;aj=ae,ae=ae.parentNode){if(ae==o[q]){return A(aj,ak)}++ag}for(aj=o[q],ae=aj.parentNode;ae;aj=ae,ae=ae.parentNode){if(ae==o[W]){return ab(aj,ak)}++am}ai=am-ag;af=o[q];while(ai>0){af=af.parentNode;ai--}ah=o[W];while(ai<0){ah=ah.parentNode;ai++}for(ad=af.parentNode,al=ah.parentNode;ad!=al;ad=ad.parentNode,al=al.parentNode){af=ad;ah=al}return x(af,ah,ak)}function n(aj){var al,am,ad,af,ag,ak,ah,ae,ai;if(aj!=s){al=E()}if(o[ac]==o[H]){return al}if(o[q].nodeType==3){am=o[q].nodeValue;ad=am.substring(o[ac],o[H]);if(aj!=M){af=o[q];ae=o[ac];ai=o[H]-o[ac];if(ae===0&&ai>=af.nodeValue.length-1){af.parentNode.removeChild(af)}else{af.deleteData(ae,ai)}o.collapse(L)}if(aj==s){return}if(ad.length>0){al.appendChild(m.createTextNode(ad))}return al}af=V(o[q],o[ac]);ag=o[H]-o[ac];while(af&&ag>0){ak=af.nextSibling;ah=G(af,aj);if(al){al.appendChild(ah)}--ag;af=ak}if(aj!=M){o.collapse(L)}return al}function A(ak,ah){var aj,ai,ae,ad,ag,af;if(ah!=s){aj=E()}ai=r(ak,ah);if(aj){aj.appendChild(ai)}ae=w(ak);ad=ae-o[ac];if(ad<=0){if(ah!=M){o.setEndBefore(ak);o.collapse(Y)}return aj}ai=ak.previousSibling;while(ad>0){ag=ai.previousSibling;af=G(ai,ah);if(aj){aj.insertBefore(af,aj.firstChild)}--ad;ai=ag}if(ah!=M){o.setEndBefore(ak);o.collapse(Y)}return aj}function ab(ai,ah){var ak,ae,aj,ad,ag,af;if(ah!=s){ak=E()}aj=X(ai,ah);if(ak){ak.appendChild(aj)}ae=w(ai);++ae;ad=o[H]-ae;aj=ai.nextSibling;while(aj&&ad>0){ag=aj.nextSibling;af=G(aj,ah);if(ak){ak.appendChild(af)}--ad;aj=ag}if(ah!=M){o.setStartAfter(ai);o.collapse(L)}return ak}function x(ah,ad,ak){var ae,am,ai,aj,af,al,ag;if(ak!=s){am=E()}ae=X(ah,ak);if(am){am.appendChild(ae)}ai=w(ah);aj=w(ad);++ai;af=aj-ai;al=ah.nextSibling;while(af>0){ag=al.nextSibling;ae=G(al,ak);if(am){am.appendChild(ae)}al=ag;--af}ae=r(ad,ak);if(am){am.appendChild(ae)}if(ak!=M){o.setStartAfter(ah);o.collapse(L)}return am}function r(aj,ak){var af=V(o[W],o[H]-1),al,ai;var ah,ad,ae,ag=af!=o[W];if(af==aj){return T(af,ag,Y,ak)}al=af.parentNode;ai=T(al,Y,Y,ak);while(al){while(af){ah=af.previousSibling;ad=T(af,ag,Y,ak);if(ak!=s){ai.insertBefore(ad,ai.firstChild)}ag=L;af=ah}if(al==aj){return ai}af=al.previousSibling;al=al.parentNode;ae=T(al,Y,Y,ak);if(ak!=s){ae.appendChild(ai)}ai=ae}}function X(aj,ak){var ag=V(o[q],o[ac]),ah=ag!=o[q];var al,ai,af,ad,ae;if(ag==aj){return T(ag,ah,L,ak)}al=ag.parentNode;ai=T(al,Y,L,ak);while(al){while(ag){af=ag.nextSibling;ad=T(ag,ah,L,ak);if(ak!=s){ai.appendChild(ad)}ah=L;ag=af}if(al==aj){return ai}ag=al.nextSibling;al=al.parentNode;ae=T(al,Y,L,ak);if(ak!=s){ae.appendChild(ai)}ai=ae}}function T(ad,ah,ak,al){var ag,af,ai,ae,aj;if(ah){return G(ad,al)}if(ad.nodeType==3){ag=ad.nodeValue;if(ak){ae=o[ac];af=ag.substring(ae);ai=ag.substring(0,ae)}else{ae=o[H];af=ag.substring(0,ae);ai=ag.substring(ae)}if(al!=M){ad.nodeValue=ai}if(al==s){return}aj=k.clone(ad,Y);aj.nodeValue=af;return aj}if(al==s){return}return k.clone(ad,Y)}function G(ae,ad){if(ad!=s){return ad==M?k.clone(ae,L):ae}ae.parentNode.removeChild(ae)}function Z(){return k.create("body",null,l()).outerText}t(o,{startContainer:m,startOffset:0,endContainer:m,endOffset:0,collapsed:L,commonAncestorContainer:m,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:z,setEnd:B,setStartBefore:p,setStartAfter:Q,setEndBefore:R,setEndAfter:C,collapse:I,selectNode:F,selectNodeContents:N,compareBoundaryPoints:D,deleteContents:y,extractContents:P,cloneContents:l,insertNode:K,surroundContents:U,cloneRange:S,toStringIE:Z});return o}j.prototype.toString=function(){return this.toStringIE()};return j});h("tinymce/html/Entities",["tinymce/util/Tools"],function(l){var m=l.makeMap;var i,r,o,u=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,j=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,q=/[<>&\"\']/g,n=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,t={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"};r={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","\u0060":"&#96;"};o={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};function s(v){var w;w=document.createElement("div");w.innerHTML=v;return w.textContent||w.innerText||v}function p(w,z){var x,y,v,A={};if(w){w=w.split(",");z=z||10;for(x=0;x<w.length;x+=2){y=String.fromCharCode(parseInt(w[x],z));if(!r[y]){v="&"+w[x+1]+";";A[y]=v;A[v]=y}}return A}}i=p("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var k={encodeRaw:function(w,v){return w.replace(v?u:j,function(x){return r[x]||x})},encodeAllRaw:function(v){return(""+v).replace(q,function(w){return r[w]||w})},encodeNumeric:function(w,v){return w.replace(v?u:j,function(x){if(x.length>1){return"&#"+(((x.charCodeAt(0)-55296)*1024)+(x.charCodeAt(1)-56320)+65536)+";"}return r[x]||"&#"+x.charCodeAt(0)+";"})},encodeNamed:function(x,v,w){w=w||i;return x.replace(v?u:j,function(y){return r[y]||w[y]||y})},getEncodeFunc:function(v,y){y=p(y)||i;function w(A,z){return A.replace(z?u:j,function(B){return r[B]||y[B]||"&#"+B.charCodeAt(0)+";"||B})}function x(A,z){return k.encodeNamed(A,z,y)}v=m(v.replace(/\+/g,","));if(v.named&&v.numeric){return w}if(v.named){if(y){return x}return k.encodeNamed}if(v.numeric){return k.encodeNumeric}return k.encodeRaw},decode:function(v){return v.replace(n,function(x,w){if(w){if(w.charAt(0).toLowerCase()==="x"){w=parseInt(w.substr(1),16)}else{w=parseInt(w,10)}if(w>65535){w-=65536;return String.fromCharCode(55296+(w>>10),56320+(w&1023))}return t[w]||String.fromCharCode(w)}return o[x]||i[x]||s(x)})}};return k});h("tinymce/dom/StyleSheetLoader",["tinymce/util/Tools","tinymce/util/Delay"],function(i,j){return function(k,o){var l=0,n={},q;o=o||{};q=o.maxLoadTime||5000;function m(r){k.getElementsByTagName("head")[0].appendChild(r)}function p(t,x,B){var C,s,u,r;function y(){var F=r.passed,E=F.length;while(E--){F[E]()}r.status=2;r.passed=[];r.failed=[]}function A(){var F=r.failed,E=F.length;while(E--){F[E]()}r.status=3;r.passed=[];r.failed=[]}function D(){var E=navigator.userAgent.match(/WebKit\/(\d*)/);return !!(E&&E[1]<536)}function z(E,F){if(!E()){if((new Date().getTime())-u<q){j.setTimeout(F)}else{A()}}}function v(){z(function(){var G=k.styleSheets,H,F=G.length,E;while(F--){H=G[F];E=H.ownerNode?H.ownerNode:H.owningElement;if(E&&E.id===C.id){y();return true}}},v)}function w(){z(function(){try{var E=s.sheet.cssRules;y();return !!E}catch(F){}},w)}t=i._addCacheSuffix(t);if(!n[t]){r={passed:[],failed:[]};n[t]=r}else{r=n[t]}if(x){r.passed.push(x)}if(B){r.failed.push(B)}if(r.status==1){return}if(r.status==2){y();return}if(r.status==3){A();return}r.status=1;C=k.createElement("link");C.rel="stylesheet";C.type="text/css";C.id="u"+(l++);C.async=false;C.defer=false;u=new Date().getTime();if("onload" in C&&!D()){C.onload=v;C.onerror=A}else{if(navigator.userAgent.indexOf("Firefox")>0){s=k.createElement("style");s.textContent='@import "'+t+'"';w();m(s);return}v()}m(C);C.href=t}this.load=p}});h("tinymce/dom/DOMUtils",["tinymce/dom/Sizzle","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/EventUtils","tinymce/dom/TreeWalker","tinymce/dom/Range","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools","tinymce/dom/StyleSheetLoader"],function(k,o,r,n,p,B,l,j,i,v){var m=i.each,q=i.is,t=i.grep,x=i.trim;var w=j.ie;var u=/^([a-z0-9],?)+$/i;var C=/^[ \t\r\n]*$/;function z(E,G){var F={},D=G.keep_values,H;H={set:function(I,K,J){if(G.url_converter){K=G.url_converter.call(G.url_converter_scope||E,K,J,I[0])}I.attr("data-mce-"+J,K).attr(J,K)},get:function(I,J){return I.attr("data-mce-"+J)||I.attr(J)}};F={style:{set:function(I,J){if(J!==null&&typeof J==="object"){I.css(J);return}if(D){I.attr("data-mce-style",J)}I.attr("style",J)},get:function(I){var J=I.attr("data-mce-style")||I.attr("style");J=E.serializeStyle(E.parseStyle(J),I[0].nodeName);return J}}};if(D){F.href=F.src=H}return F}function s(D,E){var F=E.attr("style");F=D.serializeStyle(D.parseStyle(F),E[0].nodeName);if(!F){F=null}E.attr("data-mce-style",F)}function y(G,H){var D=0,F,E;if(G){for(F=G.nodeType,G=G.previousSibling;G;G=G.previousSibling){E=G.nodeType;if(H&&E==3){if(E==F||!G.nodeValue.length){continue}}D++;F=E}}return D}function A(G,E){var D=this,F;D.doc=G;D.win=window;D.files={};D.counter=0;D.stdMode=!w||G.documentMode>=8;D.boxModel=!w||G.compatMode=="CSS1Compat"||D.stdMode;D.styleSheetLoader=new v(G);D.boundEvents=[];D.settings=E=E||{};D.schema=E.schema;D.styles=new r({url_converter:E.url_converter,url_converter_scope:E.url_converter_scope},E.schema);D.fixDoc(G);D.events=E.ownEvents?new n(E.proxy):n.Event;D.attrHooks=z(D,E);F=E.schema?E.schema.getBlockElements():{};D.$=o.overrideDefaults(function(){return{context:G,element:D.getRoot()}});D.isBlock=function(I){if(!I){return false}var H=I.nodeType;if(H){return !!(H===1&&F[I.nodeName])}return !!F[I]}}A.prototype={$$:function(D){if(typeof D=="string"){D=this.get(D)}return this.$(D)},root:null,fixDoc:function(F){var E=this.settings,D;if(w&&E.schema){("abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video").replace(/\w+/g,function(G){F.createElement(G)});for(D in E.schema.getCustomElements()){F.createElement(D)}}},clone:function(F,D){var E=this,H,G;if(!w||F.nodeType!==1||D){return F.cloneNode(D)}G=E.doc;if(!D){H=G.createElement(F.nodeName);m(E.getAttribs(F),function(I){E.setAttrib(H,I.nodeName,E.getAttrib(F,I.nodeName))});return H}return H.firstChild},getRoot:function(){var D=this;return D.settings.root_element||D.doc.body},getViewPort:function(E){var D,F;E=!E?this.win:E;D=E.document;F=this.boxModel?D.documentElement:D.body;return{x:E.pageXOffset||F.scrollLeft,y:E.pageYOffset||F.scrollTop,w:E.innerWidth||F.clientWidth,h:E.innerHeight||F.clientHeight}},getRect:function(G){var D=this,F,E;G=D.get(G);F=D.getPos(G);E=D.getSize(G);return{x:F.x,y:F.y,w:E.w,h:E.h}},getSize:function(G){var E=this,D,F;G=E.get(G);D=E.getStyle(G,"width");F=E.getStyle(G,"height");if(D.indexOf("px")===-1){D=0}if(F.indexOf("px")===-1){F=0}return{w:parseInt(D,10)||G.offsetWidth||G.clientWidth,h:parseInt(F,10)||G.offsetHeight||G.clientHeight}},getParent:function(F,D,E){return this.getParents(F,D,E,false)},getParents:function(I,E,F,J){var H=this,G,D=[];I=H.get(I);J=J===g;F=F||(H.getRoot().nodeName!="BODY"?H.getRoot().parentNode:null);if(q(E,"string")){G=E;if(E==="*"){E=function(K){return K.nodeType==1}}else{E=function(K){return H.is(K,G)}}}while(I){if(I==F||!I.nodeType||I.nodeType===9){break}if(!E||E(I)){if(J){D.push(I)}else{return I}}I=I.parentNode}return J?D:null},get:function(E){var D;if(E&&this.doc&&typeof E=="string"){D=E;E=this.doc.getElementById(E);if(E&&E.id!==D){return this.doc.getElementsByName(D)[1]}}return E},getNext:function(E,D){return this._findSib(E,D,"nextSibling")},getPrev:function(E,D){return this._findSib(E,D,"previousSibling")},select:function(D,F){var E=this;return k(D,E.get(F)||E.settings.root_element||E.doc,[])},is:function(G,D){var E;if(G.length===g){if(D==="*"){return G.nodeType==1}if(u.test(D)){D=D.toLowerCase().split(/,/);G=G.nodeName.toLowerCase();for(E=D.length-1;E>=0;E--){if(D[E]==G){return true}}return false}}if(G.nodeType&&G.nodeType!=1){return false}var F=G.nodeType?[G]:G;return k(D,F[0].ownerDocument||F[0],null,F).length>0},add:function(I,F,E,H,G){var D=this;return this.run(I,function(K){var J;J=q(F,"string")?D.doc.createElement(F):F;D.setAttribs(J,E);if(H){if(H.nodeType){J.appendChild(H)}else{D.setHTML(J,H)}}return !G?K.appendChild(J):J})},create:function(E,D,F){return this.add(this.doc.createElement(E),E,D,F,1)},createHTML:function(E,D,G){var H="",F;H+="<"+E;for(F in D){if(D.hasOwnProperty(F)&&D[F]!==null&&typeof D[F]!="undefined"){H+=" "+F+'="'+this.encode(D[F])+'"'}}if(typeof G!="undefined"){return H+">"+G+"</"+E+">"}return H+" />"},createFragment:function(E){var H,F,G=this.doc,D;D=G.createElement("div");H=G.createDocumentFragment();if(E){D.innerHTML=E}while((F=D.firstChild)){H.appendChild(F)}return H},remove:function(D,E){D=this.$$(D);if(E){D.each(function(){var F;while((F=this.firstChild)){if(F.nodeType==3&&F.data.length===0){this.removeChild(F)}else{this.parentNode.insertBefore(F,this)}}}).remove()}else{D.remove()}return D.length>1?D.toArray():D[0]},setStyle:function(F,D,E){F=this.$$(F).css(D,E);if(this.settings.update_styles){s(this,F)}},getStyle:function(F,D,E){F=this.$$(F);if(E){return F.css(D)}D=D.replace(/-(\D)/g,function(H,G){return G.toUpperCase()});if(D=="float"){D=j.ie&&j.ie<12?"styleFloat":"cssFloat"}return F[0]&&F[0].style?F[0].style[D]:g},setStyles:function(E,D){E=this.$$(E).css(D);if(this.settings.update_styles){s(this,E)}},removeAllAttribs:function(D){return this.run(D,function(G){var F,E=G.attributes;for(F=E.length-1;F>=0;F--){G.removeAttributeNode(E.item(F))}})},setAttrib:function(J,F,I){var E=this,D,H,G=E.settings;if(I===""){I=null}J=E.$$(J);D=J.attr(F);if(!J.length){return}H=E.attrHooks[F];if(H&&H.set){H.set(J,I,F)}else{J.attr(F,I)}if(D!=I&&G.onSetAttrib){G.onSetAttrib({attrElm:J,attrName:F,attrValue:I})}},setAttribs:function(F,E){var D=this;D.$$(F).each(function(G,H){m(E,function(J,I){D.setAttrib(H,I,J)})})},getAttrib:function(I,E,H){var D=this,G,F;I=D.$$(I);if(I.length){G=D.attrHooks[E];if(G&&G.get){F=G.get(I,E)}else{F=I.attr(E)}}if(typeof F=="undefined"){F=H||""}return F},getPos:function(F,G){var L=this,J=0,I=0,D,K=L.doc,E=K.body,H;F=L.get(F);G=G||E;if(F){if(G===E&&F.getBoundingClientRect&&o(E).css("position")==="static"){H=F.getBoundingClientRect();G=L.boxModel?K.documentElement:E;J=H.left+(K.documentElement.scrollLeft||E.scrollLeft)-G.clientLeft;I=H.top+(K.documentElement.scrollTop||E.scrollTop)-G.clientTop;return{x:J,y:I}}D=F;while(D&&D!=G&&D.nodeType){J+=D.offsetLeft||0;I+=D.offsetTop||0;D=D.offsetParent}D=F.parentNode;while(D&&D!=G&&D.nodeType){J-=D.scrollLeft||0;I-=D.scrollTop||0;D=D.parentNode}}return{x:J,y:I}},parseStyle:function(D){return this.styles.parse(D)},serializeStyle:function(E,D){return this.styles.serialize(E,D)},addStyle:function(G){var E=this,H=E.doc,F,I;if(E!==A.DOM&&H===document){var D=A.DOM.addedStyles;D=D||[];if(D[G]){return}D[G]=true;A.DOM.addedStyles=D}I=H.getElementById("mceDefaultStyles");if(!I){I=H.createElement("style");I.id="mceDefaultStyles";I.type="text/css";F=H.getElementsByTagName("head")[0];if(F.firstChild){F.insertBefore(I,F.firstChild)}else{F.appendChild(I)}}if(I.styleSheet){I.styleSheet.cssText+=G}else{I.appendChild(H.createTextNode(G))}},loadCSS:function(E){var D=this,G=D.doc,F;if(D!==A.DOM&&G===document){A.DOM.loadCSS(E);return}if(!E){E=""}F=G.getElementsByTagName("head")[0];m(E.split(","),function(H){var I;H=i._addCacheSuffix(H);if(D.files[H]){return}D.files[H]=true;I=D.create("link",{rel:"stylesheet",href:H});if(w&&G.documentMode&&G.recalc){I.onload=function(){if(G.recalc){G.recalc()}I.onload=null}}F.appendChild(I)})},addClass:function(E,D){this.$$(E).addClass(D)},removeClass:function(E,D){this.toggleClass(E,D,false)},hasClass:function(E,D){return this.$$(E).hasClass(D)},toggleClass:function(F,D,E){this.$$(F).toggleClass(D,E).each(function(){if(this.className===""){o(this).attr("class",null)}})},show:function(D){this.$$(D).show()},hide:function(D){this.$$(D).hide()},isHidden:function(D){return this.$$(D).css("display")=="none"},uniqueId:function(D){return(!D?"mce_":D)+(this.counter++)},setHTML:function(E,D){E=this.$$(E);if(w){E.each(function(G,H){if(H.canHaveHTML===false){return}while(H.firstChild){H.removeChild(H.firstChild)}try{H.innerHTML="<br>"+D;H.removeChild(H.firstChild)}catch(F){o("<div>").html("<br>"+D).contents().slice(1).appendTo(H)}return D})}else{E.html(D)}},getOuterHTML:function(D){D=this.get(D);return D.nodeType==1&&"outerHTML" in D?D.outerHTML:o("<div>").append(o(D).clone()).html()},setOuterHTML:function(F,E){var D=this;D.$$(F).each(function(){try{if("outerHTML" in this){this.outerHTML=E;return}}catch(G){}D.remove(o(this).html(E),true)})},decode:l.decode,encode:l.encodeAllRaw,insertAfter:function(E,D){D=this.get(D);return this.run(E,function(G){var F,H;F=D.parentNode;H=D.nextSibling;if(H){F.insertBefore(G,H)}else{F.appendChild(G)}return G})},replace:function(F,E,G){var D=this;return D.run(E,function(H){if(q(H,"array")){F=F.cloneNode(true)}if(G){m(t(H.childNodes),function(I){F.appendChild(I)})}return H.parentNode.replaceChild(F,H)})},rename:function(G,E){var D=this,F;if(G.nodeName!=E.toUpperCase()){F=D.create(E);m(D.getAttribs(G),function(H){D.setAttrib(F,H.nodeName,D.getAttrib(G,H.nodeName))});D.replace(F,G,1)}return F||G},findCommonAncestor:function(F,D){var G=F,E;while(G){E=D;while(E&&G!=E){E=E.parentNode}if(G==E){break}G=G.parentNode}if(!G&&F.ownerDocument){return F.ownerDocument.documentElement}return G},toHex:function(D){return this.styles.toHex(i.trim(D))},run:function(H,G,F){var E=this,D;if(typeof H==="string"){H=E.get(H)}if(!H){return false}F=F||this;if(!H.nodeType&&(H.length||H.length===0)){D=[];m(H,function(J,I){if(J){if(typeof J=="string"){J=E.get(J)}D.push(G.call(F,J,I))}});return D}return G.call(F,H)},getAttribs:function(F){var D;F=this.get(F);if(!F){return[]}if(w){D=[];if(F.nodeName=="OBJECT"){return F.attributes}if(F.nodeName==="OPTION"&&this.getAttrib(F,"selected")){D.push({specified:1,nodeName:"selected"})}var E=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;F.cloneNode(false).outerHTML.replace(E,"").replace(/[\w:\-]+/gi,function(G){D.push({specified:1,nodeName:G})});return D}return F.attributes},isEmpty:function(G,E){var L=this,I,H,K,D,F,J=0;G=G.firstChild;if(G){D=new p(G,G.parentNode);E=E||(L.schema?L.schema.getNonEmptyElements():null);do{K=G.nodeType;if(K===1){if(G.getAttribute("data-mce-bogus")){continue}F=G.nodeName.toLowerCase();if(E&&E[F]){if(F==="br"){J++;continue}return false}H=L.getAttribs(G);I=H.length;while(I--){F=H[I].nodeName;if(F==="name"||F==="data-mce-bookmark"){return false}}}if(K==8){return false}if((K===3&&!C.test(G.nodeValue))){return false}}while((G=D.next()))}return J<=1},createRng:function(){var D=this.doc;return D.createRange?D.createRange():new B(this)},nodeIndex:y,split:function(H,I,E){var L=this,D=L.createRng(),J,G,K;function F(Q){var O,N=Q.childNodes,P=Q.nodeType;function R(U){var T=U.previousSibling&&U.previousSibling.nodeName=="SPAN";var S=U.nextSibling&&U.nextSibling.nodeName=="SPAN";return T&&S}if(P==1&&Q.getAttribute("data-mce-type")=="bookmark"){return}for(O=N.length-1;O>=0;O--){F(N[O])}if(P!=9){if(P==3&&Q.nodeValue.length>0){var M=x(Q.nodeValue).length;if(!L.isBlock(Q.parentNode)||M>0||M===0&&R(Q)){return}}else{if(P==1){N=Q.childNodes;if(N.length==1&&N[0]&&N[0].nodeType==1&&N[0].getAttribute("data-mce-type")=="bookmark"){Q.parentNode.insertBefore(N[0],Q)}if(N.length||/^(br|hr|input|img)$/i.test(Q.nodeName)){return}}}L.remove(Q)}return Q}if(H&&I){D.setStart(H.parentNode,L.nodeIndex(H));D.setEnd(I.parentNode,L.nodeIndex(I));J=D.extractContents();D=L.createRng();D.setStart(I.parentNode,L.nodeIndex(I)+1);D.setEnd(H.parentNode,L.nodeIndex(H)+1);G=D.extractContents();K=H.parentNode;K.insertBefore(F(J),H);if(E){K.insertBefore(E,H)}else{K.insertBefore(I,H)}K.insertBefore(F(G),H);L.remove(H);return E||I}},bind:function(I,E,H,G){var D=this;if(i.isArray(I)){var F=I.length;while(F--){I[F]=D.bind(I[F],E,H,G)}return I}if(D.settings.collect&&(I===D.doc||I===D.win)){D.boundEvents.push([I,E,H,G])}return D.events.bind(I,E,H,G||D)},unbind:function(I,E,H){var D=this,F;if(i.isArray(I)){F=I.length;while(F--){I[F]=D.unbind(I[F],E,H)}return I}if(D.boundEvents&&(I===D.doc||I===D.win)){F=D.boundEvents.length;while(F--){var G=D.boundEvents[F];if(I==G[0]&&(!E||E==G[1])&&(!H||H==G[2])){this.events.unbind(G[0],G[1],G[2])}}}return this.events.unbind(I,E,H)},fire:function(F,E,D){return this.events.fire(F,E,D)},getContentEditable:function(E){var D;if(!E||E.nodeType!=1){return null}D=E.getAttribute("data-mce-contenteditable");if(D&&D!=="inherit"){return D}return E.contentEditable!=="inherit"?E.contentEditable:null},getContentEditableParent:function(E){var D=this.getRoot(),F=null;for(;E&&E!==D;E=E.parentNode){F=this.getContentEditable(E);if(F!==null){break}}return F},destroy:function(){var D=this;if(D.boundEvents){var E=D.boundEvents.length;while(E--){var F=D.boundEvents[E];this.events.unbind(F[0],F[1],F[2])}D.boundEvents=null}if(k.setDocument){k.setDocument()}D.win=D.doc=D.root=D.events=D.frag=null},isChildOf:function(E,D){while(E){if(D===E){return true}E=E.parentNode}return false},dumpRng:function(D){return("startContainer: "+D.startContainer.nodeName+", startOffset: "+D.startOffset+", endContainer: "+D.endContainer.nodeName+", endOffset: "+D.endOffset)},_findSib:function(H,D,F){var E=this,G=D;if(H){if(typeof G=="string"){G=function(I){return E.is(I,D)}}for(H=H[F];H;H=H[F]){if(G(H)){return H}}}return null}};A.DOM=new A(document);A.nodeIndex=y;return A});h("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(m,i){var k=m.DOM;var l=i.each,j=i.grep;function n(){var p=0,w=1,u=2,x={},v=[],r={},q=[],t=0,s;function o(A,E){var B=k,D,C;function y(){B.remove(C);if(D){D.onreadystatechange=D.onload=D=null}E()}function z(){if(typeof console!=="undefined"&&console.log){console.log("Failed to load: "+A)}}C=B.uniqueId();D=document.createElement("script");D.id=C;D.type="text/javascript";D.src=i._addCacheSuffix(A);if("onreadystatechange" in D){D.onreadystatechange=function(){if(/loaded|complete/.test(D.readyState)){y()}}}else{D.onload=y}D.onerror=z;(document.getElementsByTagName("head")[0]||document.body).appendChild(D)}this.isDone=function(y){return x[y]==u};this.markDone=function(y){x[y]=u};this.add=this.load=function(y,B,z){var A=x[y];if(A==s){v.push(y);x[y]=p}if(B){if(!r[y]){r[y]=[]}r[y].push({func:B,scope:z||this})}};this.remove=function(y){delete x[y];delete r[y]};this.loadQueue=function(z,y){this.loadScripts(v,z,y)};this.loadScripts=function(y,C,B){var A;function z(D){l(r[D],function(E){E.func.call(E.scope)});r[D]=s}q.push({func:C,scope:B||this});A=function(){var D=j(y);y.length=0;l(D,function(E){if(x[E]==u){z(E);return}if(x[E]!=w){x[E]=w;t++;o(E,function(){x[E]=u;t--;z(E);A()})}});if(!t){l(q,function(E){E.func.call(E.scope)});q.length=0}};A()}}n.ScriptLoader=new n();return n});h("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(l,i){var k=i.each;function j(){var m=this;m.items=[];m.urls={};m.lookup={}}j.prototype={get:function(m){if(this.lookup[m]){return this.lookup[m].instance}return g},dependencies:function(n){var m;if(this.lookup[n]){m=this.lookup[n].dependencies}return m||[]},requireLangPack:function(m,n){var o=j.language;if(o&&j.languageLoad!==false){if(n){n=","+n+",";if(n.indexOf(","+o.substr(0,2)+",")!=-1){o=o.substr(0,2)}else{if(n.indexOf(","+o+",")==-1){return}}}l.ScriptLoader.add(this.urls[m]+"/langs/"+o+".js")}},add:function(o,m,n){this.items.push(m);this.lookup[o]={instance:m,dependencies:n};return m},remove:function(m){delete this.urls[m];delete this.lookup[m]},createUrl:function(m,n){if(typeof n==="object"){return n}return{prefix:m.prefix,resource:n,suffix:m.suffix}},addComponents:function(o,m){var n=this.urls[o];k(m,function(p){l.ScriptLoader.add(n+"/"+p)})},load:function(o,q,s,p){var m=this,n=q;function r(){var t=m.dependencies(o);k(t,function(v){var u=m.createUrl(q,v);m.load(u.resource,u,g,g)});if(s){if(p){s.call(p)}else{s.call(l)}}}if(m.urls[o]){return}if(typeof q==="object"){n=q.prefix+q.resource+q.suffix}if(n.indexOf("/")!==0&&n.indexOf("://")==-1){n=j.baseURL+"/"+n}m.urls[o]=n.substring(0,n.lastIndexOf("/"));if(m.lookup[o]){r()}else{l.ScriptLoader.add(n,r,p)}}};j.PluginManager=new j();j.ThemeManager=new j();return j});h("tinymce/dom/NodeType",[],function(){function p(q){return function(r){return !!r&&r.nodeType==q}}var j=p(1);function i(q){q=q.toLowerCase().split(" ");return function(t){var s,r;if(t&&t.nodeType){r=t.nodeName.toLowerCase();for(s=0;s<q.length;s++){if(r===q[s]){return true}}}return false}}function o(r,q){q=q.toLowerCase().split(" ");return function(u){var t,s;if(j(u)){for(t=0;t<q.length;t++){s=getComputedStyle(u,null).getPropertyValue(r);if(s===q[t]){return true}}}return false}}function n(q,r){return function(s){return j(s)&&s[q]===r}}function l(q,r){return function(s){return j(s)&&s.getAttribute(q)===r}}function k(q){return j(q)&&q.hasAttribute("data-mce-bogus")}function m(q){return function(r){if(j(r)){if(r.contentEditable===q){return true}if(r.getAttribute("data-mce-contenteditable")===q){return true}}return false}}return{isText:p(3),isElement:j,isComment:p(8),isBr:i("br"),isContentEditableTrue:m("true"),isContentEditableFalse:m("false"),matchNodeNames:i,hasPropValue:n,hasAttributeValue:l,matchStyleValues:o,isBogus:k}});h("tinymce/text/Zwsp",[],function(){var k="\uFEFF";function j(l){return l==k}function i(l){return l.replace(new RegExp(k,"g"),"")}return{isZwsp:j,ZWSP:k,trim:i}});h("tinymce/caret/CaretContainer",["tinymce/dom/NodeType","tinymce/text/Zwsp"],function(k,s){var u=k.isElement,q=k.isText;function r(x){if(q(x)){x=x.parentNode}return u(x)&&x.hasAttribute("data-mce-caret")}function n(x){return q(x)&&s.isZwsp(x.data)}function i(x){return r(x)||n(x)}function l(y){var x=y.parentNode;if(x){x.removeChild(y)}}function j(y){try{return y.nodeValue}catch(x){return""}}function t(x,y){if(y.length===0){l(x)}else{x.nodeValue=y}}function p(z,A){var B,y,C,x;B=z.ownerDocument;C=B.createTextNode(s.ZWSP);x=z.parentNode;if(!A){y=z.nextSibling;if(q(y)){if(i(y)){return y}if(m(y)){y.splitText(1);return y}}if(z.nextSibling){x.insertBefore(C,z.nextSibling)}else{x.appendChild(C)}}else{y=z.previousSibling;if(q(y)){if(i(y)){return y}if(v(y)){return y.splitText(y.data.length-1)}}x.insertBefore(C,z)}return C}function w(y,A,B){var C,z,x;C=A.ownerDocument;z=C.createElement(y);z.setAttribute("data-mce-caret",B?"before":"after");z.setAttribute("data-mce-bogus","all");z.appendChild(C.createTextNode("\u00a0"));x=A.parentNode;if(!B){if(A.nextSibling){x.insertBefore(z,A.nextSibling)}else{x.appendChild(z)}}else{x.insertBefore(z,A)}return z}function o(x){if(u(x)&&i(x)){if(x.innerHTML!="&nbsp;"){x.removeAttribute("data-mce-caret")}else{l(x)}}if(q(x)){var y=s.trim(j(x));t(x,y)}}function m(x){return q(x)&&x.data[0]==s.ZWSP}function v(x){return q(x)&&x.data[x.data.length-1]==s.ZWSP}return{isCaretContainer:i,isCaretContainerBlock:r,isCaretContainerInline:n,insertInline:p,insertBlock:w,remove:o,startsWithCaretContainer:m,endsWithCaretContainer:v}});h("tinymce/dom/RangeUtils",["tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/dom/NodeType","tinymce/dom/Range","tinymce/caret/CaretContainer"],function(l,r,j,k,p){var q=l.each,o=j.isContentEditableFalse,i=p.isCaretContainer;function n(t,u){var v=t.childNodes;u--;if(u>v.length-1){u=v.length-1}else{if(u<0){u=0}}return v[u]||t}function m(t){this.walk=function(u,J){var z=u.startContainer,C=u.startOffset,K=u.endContainer,D=u.endOffset,A,x,F,y,I,H,v;v=t.select("td[data-mce-selected],th[data-mce-selected]");if(v.length>0){q(v,function(L){J([L])});return}function w(L){var M;M=L[0];if(M.nodeType===3&&M===z&&C>=M.nodeValue.length){L.splice(0,1)}M=L[L.length-1];if(D===0&&L.length>0&&M===K&&M.nodeType===3){L.splice(L.length-1,1)}return L}function G(N,M,L){var O=[];for(;N&&N!=L;N=N[M]){O.push(N)}return O}function E(M,L){do{if(M.parentNode==L){return M}M=M.parentNode}while(M)}function B(N,M,O){var L=O?"nextSibling":"previousSibling";for(y=N,I=y.parentNode;y&&y!=M;y=I){I=y.parentNode;H=G(y==N?y:y[L],L);if(H.length){if(!O){H.reverse()}J(w(H))}}}if(z.nodeType==1&&z.hasChildNodes()){z=z.childNodes[C]}if(K.nodeType==1&&K.hasChildNodes()){K=n(K,D)}if(z==K){return J(w([z]))}A=t.findCommonAncestor(z,K);for(y=z;y;y=y.parentNode){if(y===K){return B(z,A,true)}if(y===A){break}}for(y=K;y;y=y.parentNode){if(y===z){return B(K,A)}if(y===A){break}}x=E(z,A)||z;F=E(K,A)||K;B(z,x,true);H=G(x==z?x:x.nextSibling,"nextSibling",F==K?F.nextSibling:F);if(H.length){J(w(H))}B(K,F)};this.split=function(v){var y=v.startContainer,u=v.startOffset,z=v.endContainer,x=v.endOffset;function w(A,B){return A.splitText(B)}if(y==z&&y.nodeType==3){if(u>0&&u<y.nodeValue.length){z=w(y,u);y=z.previousSibling;if(x>u){x=x-u;y=z=w(z,x).previousSibling;x=z.nodeValue.length;u=0}else{x=0}}}else{if(y.nodeType==3&&u>0&&u<y.nodeValue.length){y=w(y,u);u=0}if(z.nodeType==3&&x>0&&x<z.nodeValue.length){z=w(z,x).previousSibling;x=z.nodeValue.length}}return{startContainer:y,startOffset:u,endContainer:z,endOffset:x}};this.normalize=function(u){var x,w;function v(B){var A,F,y,H=t.getRoot(),C,G;var J,D;function E(M){return M&&/^(TD|TH|CAPTION)$/.test(M.nodeName)}function L(M,N){var O=new r(M,t.getParent(M.parentNode,t.isBlock)||H);while((M=O[N?"prev":"next"]())){if(M.nodeName==="BR"){return true}}}function z(M){while(M&&M!=H){if(o(M)){return true}M=M.parentNode}return false}function I(N,M){return N.previousSibling&&N.previousSibling.nodeName==M}function K(P,M){var Q,N,O;M=M||A;O=t.getParent(M.parentNode,t.isBlock)||H;if(P&&M.nodeName=="BR"&&D&&t.isEmpty(O)){A=M.parentNode;F=t.nodeIndex(M);x=true;return}Q=new r(M,O);while((C=Q[P?"prev":"next"]())){if(t.getContentEditableParent(C)==="false"||i(C)){return}if(C.nodeType===3&&C.nodeValue.length>0){A=C;F=P?C.nodeValue.length:0;x=true;return}if(t.isBlock(C)||G[C.nodeName.toLowerCase()]){return}N=C}if(w&&N){A=N;x=true;F=0}}A=u[(B?"start":"end")+"Container"];F=u[(B?"start":"end")+"Offset"];D=A.nodeType==1&&F===A.childNodes.length;G=t.schema.getNonEmptyElements();J=B;if(i(A)){return}if(A.nodeType==1&&F>A.childNodes.length-1){J=false}if(A.nodeType===9){A=t.getRoot();F=0}if(A===H){if(J){C=A.childNodes[F>0?F-1:0];if(C){if(i(C)){return}if(G[C.nodeName]||C.nodeName=="TABLE"){return}}}if(A.hasChildNodes()){F=Math.min(!J&&F>0?F-1:F,A.childNodes.length-1);A=A.childNodes[F];F=0;if(!w&&A===H.lastChild&&A.nodeName==="TABLE"){return}if(z(A)||i(A)){return}if(A.hasChildNodes()&&!/TABLE/.test(A.nodeName)){C=A;y=new r(A,H);do{if(o(C)||i(C)){x=false;break}if(C.nodeType===3&&C.nodeValue.length>0){F=J?0:C.nodeValue.length;A=C;x=true;break}if(G[C.nodeName.toLowerCase()]&&!E(C)){F=t.nodeIndex(C);A=C.parentNode;if(C.nodeName=="IMG"&&!J){F++}x=true;break}}while((C=(J?y.next():y.prev())))}}}if(w){if(A.nodeType===3&&F===0){K(true)}if(A.nodeType===1){C=A.childNodes[F];if(!C){C=A.childNodes[F-1]}if(C&&C.nodeName==="BR"&&!I(C,"A")&&!L(C)&&!L(C,true)){K(true,C)}}}if(J&&!w&&A.nodeType===3&&F===A.nodeValue.length){K(false)}if(x){u["set"+(B?"Start":"End")](A,F)}}w=u.collapsed;v(true);if(!w){v()}if(x&&w){u.collapse(true)}return x}}m.compareRanges=function(u,t){if(u&&t){if(u.item||u.duplicate){if(u.item&&t.item&&u.item(0)===t.item(0)){return true}if(u.isEqual&&t.isEqual&&t.isEqual(u)){return true}}else{return u.startContainer==t.startContainer&&u.startOffset==t.startOffset}}return false};function s(y,x,z){var w,t,u;w=z.elementFromPoint(y,x);t=z.body.createTextRange();if(!w||w.tagName=="HTML"){w=z.body}t.moveToElementText(w);u=l.toArray(t.getClientRects());u=u.sort(function(B,A){B=Math.abs(Math.max(B.top-x,B.bottom-x));A=Math.abs(Math.max(A.top-x,A.bottom-x));return B-A});if(u.length>0){x=(u[0].bottom+u[0].top)/2;try{t.moveToPoint(y,x);t.collapse(true);return t}catch(v){}}return null}m.getCaretRangeFromPoint=function(x,w,y){var u,t;if(y.caretPositionFromPoint){t=y.caretPositionFromPoint(x,w);u=y.createRange();u.setStart(t.offsetNode,t.offset);u.collapse(true)}else{if(y.caretRangeFromPoint){u=y.caretRangeFromPoint(x,w)}else{if(y.body.createTextRange){u=y.body.createTextRange();try{u.moveToPoint(x,w);u.collapse(true)}catch(v){u=s(x,w,y)}}}}return u};m.getSelectedNode=function(u){var v=u.startContainer,t=u.startOffset;if(v.hasChildNodes()&&u.endOffset==t+1){return v.childNodes[t]}return null};m.getNode=function(t,u){if(t.nodeType==1&&t.hasChildNodes()){if(u>=t.childNodes.length){u=t.childNodes.length-1}t=t.childNodes[u]}return t};return m});h("tinymce/NodeChange",["tinymce/dom/RangeUtils","tinymce/Env","tinymce/util/Delay"],function(j,i,k){return function(l){var n,m=[];function o(p){var q,r;r=l.$(p).parentsUntil(l.getBody()).add(p);if(r.length===m.length){for(q=r.length;q>=0;q--){if(r[q]!==m[q]){break}}if(q===-1){m=r;return true}}m=r;return false}if(!("onselectionchange" in l.getDoc())){l.on("NodeChange Click MouseUp KeyUp Focus",function(q){var r,p;r=l.selection.getRng();p={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};if(q.type=="nodechange"||!j.compareRanges(p,n)){l.fire("SelectionChange")}n=p})}l.on("contextmenu",function(){l.fire("SelectionChange")});l.on("SelectionChange",function(){var p=l.selection.getStart(true);if(!i.range&&l.selection.isCollapsed()){return}if(!o(p)&&l.dom.isChildOf(p,l.getBody())){l.nodeChanged({selectionChange:true})}});l.on("MouseUp",function(p){if(!p.isDefaultPrevented()){if(l.selection.getNode().nodeName=="IMG"){k.setEditorTimeout(l,function(){l.nodeChanged()})}else{l.nodeChanged()}}});this.nodeChanged=function(r){var s=l.selection,t,q,p;if(l.initialized&&s&&!l.settings.disable_nodechange&&!l.readonly){p=l.getBody();t=s.getStart()||p;if(t.ownerDocument!=l.getDoc()||!l.dom.isChildOf(t,p)){t=p}if(t.nodeName=="IMG"&&s.isCollapsed()){t=t.parentNode}q=[];l.dom.getParent(t,function(u){if(u===p){return true}q.push(u)});r=r||{};r.element=t;r.parents=q;l.fire("NodeChange",r)}}}});h("tinymce/html/Node",[],function(){var k=/^[ \t\r\n]*$/,l={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};function i(r,s,q){var p,o,m=q?"lastChild":"firstChild",n=q?"prev":"next";if(r[m]){return r[m]}if(r!==s){p=r[n];if(p){return p}for(o=r.parent;o&&o!==s;o=o.parent){p=o[n];if(p){return p}}}}function j(m,n){this.name=m;this.type=n;if(n===1){this.attributes=[];this.attributes.map={}}}j.prototype={replace:function(n){var m=this;if(n.parent){n.remove()}m.insert(n,m);m.remove();return m},attr:function(o,r){var m=this,n,p,q;if(typeof o!=="string"){for(p in o){m.attr(p,o[p])}return m}if((n=m.attributes)){if(r!==q){if(r===null){if(o in n.map){delete n.map[o];p=n.length;while(p--){if(n[p].name===o){n=n.splice(p,1);return m}}}return m}if(o in n.map){p=n.length;while(p--){if(n[p].name===o){n[p].value=r;break}}}else{n.push({name:o,value:r})}n.map[o]=r;return m}return n.map[o]}},clone:function(){var n=this,s=new j(n.name,n.type),o,m,r,p,q;if((r=n.attributes)){q=[];q.map={};for(o=0,m=r.length;o<m;o++){p=r[o];if(p.name!=="id"){q[q.length]={name:p.name,value:p.value};q.map[p.name]=p.value}}s.attributes=q}s.value=n.value;s.shortEnded=n.shortEnded;return s},wrap:function(n){var m=this;m.parent.insert(n,m);n.append(m);return m},unwrap:function(){var m=this,o,n;for(o=m.firstChild;o;){n=o.next;m.insert(o,m,true);o=n}m.remove()},remove:function(){var m=this,o=m.parent,n=m.next,p=m.prev;if(o){if(o.firstChild===m){o.firstChild=n;if(n){n.prev=null}}else{p.next=n}if(o.lastChild===m){o.lastChild=p;if(p){p.next=null}}else{n.prev=p}m.parent=m.next=m.prev=null}return m},append:function(o){var m=this,n;if(o.parent){o.remove()}n=m.lastChild;if(n){n.next=o;o.prev=n;m.lastChild=o}else{m.lastChild=m.firstChild=o}o.parent=m;return o},insert:function(o,m,p){var n;if(o.parent){o.remove()}n=m.parent||this;if(p){if(m===n.firstChild){n.firstChild=o}else{m.prev.next=o}o.prev=m.prev;o.next=m;m.prev=o}else{if(m===n.lastChild){n.lastChild=o}else{m.next.prev=o}o.next=m.next;o.prev=m;m.next=o}o.parent=n;return o},getAll:function(n){var m=this,o,p=[];for(o=m.firstChild;o;o=i(o,m)){if(o.name===n){p.push(o)}}return p},empty:function(){var n=this,m,o,p;if(n.firstChild){m=[];for(p=n.firstChild;p;p=i(p,n)){m.push(p)}o=m.length;while(o--){p=m[o];p.parent=p.firstChild=p.lastChild=p.next=p.prev=null}}n.firstChild=n.lastChild=null;return n},isEmpty:function(q){var m=this,p=m.firstChild,o,n;if(p){do{if(p.type===1){if(p.attributes.map["data-mce-bogus"]){continue}if(q[p.name]){return false}o=p.attributes.length;while(o--){n=p.attributes[o].name;if(n==="name"||n.indexOf("data-mce-bookmark")===0){return false}}}if(p.type===8){return false}if((p.type===3&&!k.test(p.value))){return false}}while((p=i(p,m)))}return true},walk:function(m){return i(this,null,m)}};j.create=function(n,m){var p,o;p=new j(n,l[n]||1);if(m){for(o in m){p.attr(o,m[o])}}return p};return j});h("tinymce/html/Schema",["tinymce/util/Tools"],function(j){var k={},m={};var l=j.makeMap,q=j.each,n=j.extend,p=j.explode,s=j.inArray;function o(t,u){return t?t.split(u||" "):[]}function r(A){var x={},B,u;var y,z,t,w;function C(G,D,J){var I,H,K,F=arguments;function E(P,O){var N={},M,L;for(M=0,L=P.length;M<L;M++){N[P[M]]=O||{}}return N}J=J||[];D=D||"";if(typeof J==="string"){J=o(J)}for(H=3;H<F.length;H++){if(typeof F[H]==="string"){F[H]=o(F[H])}J.push.apply(J,F[H])}G=o(G);I=G.length;while(I--){K=[].concat(B,o(D));x[G[I]]={attributes:E(K),attributesOrder:K,children:E(J,m)}}}function v(G,F){var I,E,H,D;G=o(G);I=G.length;F=o(F);while(I--){E=x[G[I]];for(H=0,D=F.length;H<D;H++){E.attributes[F[H]]={};E.attributesOrder.push(F[H])}}}if(k[A]){return k[A]}B=o("id accesskey class dir lang style tabindex title");u=o("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul");y=o("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u variables #text #comment");if(A!="html4"){B.push.apply(B,o("contenteditable contextmenu draggable dropzone hidden spellcheck translate"));u.push.apply(u,o("article aside details dialog figure header footer hgroup section nav"));y.push.apply(y,o("audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"))}if(A!="html5-strict"){B.push("xml:lang");w=o("acronym applet basefont big font strike tt");y.push.apply(y,w);q(w,function(D){C(D,"",y)});t=o("center dir isindex noframes");u.push.apply(u,t);z=[].concat(u,y);q(t,function(D){C(D,"",z)})}z=z||[].concat(u,y);C("html","manifest","head body");C("head","","base command link meta noscript script style title");C("title hr noscript br");C("base","href target");C("link","href rel media hreflang type sizes hreflang");C("meta","name http-equiv content charset");C("style","media type scoped");C("script","src async defer type charset");C("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",z);C("address dt dd div caption","",z);C("h1 h2 h3 h4 h5 h6 pre p abbr code variables samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",y);C("blockquote","cite",z);C("ol","reversed start type","li");C("ul","","li");C("li","value",z);C("dl","","dt dd");C("a","href target rel media hreflang type",y);C("q","cite",y);C("ins del","cite datetime",z);C("img","src sizes srcset alt usemap ismap width height");C("iframe","src name width height",z);C("embed","src type width height");C("object","data type typemustmatch name usemap form width height",z,"param");C("param","name value");C("map","name",z,"area");C("area","alt coords shape href target rel media hreflang type");C("table","border","caption colgroup thead tfoot tbody tr"+(A=="html4"?" col":""));C("colgroup","span","col");C("col","span");C("tbody thead tfoot","","tr");C("tr","","td th");C("td","colspan rowspan headers",z);C("th","colspan rowspan headers scope abbr",z);C("form","accept-charset action autocomplete enctype method name novalidate target",z);C("fieldset","disabled form name",z,"legend");C("label","form for",y);C("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width");C("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",A=="html4"?z:y);C("select","disabled form multiple name required size","option optgroup");C("optgroup","disabled label","option");C("option","disabled label selected value");C("textarea","cols dirname disabled form maxlength name readonly required rows wrap");C("menu","type label",z,"li");C("noscript","",z);if(A!="html4"){C("wbr");C("ruby","",y,"rt rp");C("figcaption","",z);C("mark rt rp summary bdi","",y);C("canvas","width height",z);C("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",z,"track source");C("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",z,"track source");C("picture","","img source");C("source","src srcset type media sizes");C("track","kind src srclang label default");C("datalist","",y,"option");C("article section nav aside header footer","",z);C("hgroup","","h1 h2 h3 h4 h5 h6");C("figure","",z,"figcaption");C("time","datetime",y);C("dialog","open",z);C("command","type label icon disabled checked radiogroup command");C("output","for form name",y);C("progress","value max",y);C("meter","value min max low high optimum",y);C("details","open",z,"summary");C("keygen","autofocus challenge disabled form keytype name")}if(A!="html5-strict"){v("script","language xml:space");v("style","xml:space");v("object","declare classid code codebase codetype archive standby align border hspace vspace");v("embed","align name hspace vspace");v("param","valuetype type");v("a","charset name rev shape coords");v("br","clear");v("applet","codebase archive code object alt name width height align hspace vspace");v("img","name longdesc align border hspace vspace");v("iframe","longdesc frameborder marginwidth marginheight scrolling align");v("font basefont","size color face");v("input","usemap align");v("select","onchange");v("textarea");v("h1 h2 h3 h4 h5 h6 div p legend caption","align");v("ul","type compact");v("li","type");v("ol dl menu dir","compact");v("pre","width xml:space");v("hr","align noshade size width");v("isindex","prompt");v("table","summary width frame rules cellspacing cellpadding align bgcolor");v("col","width align char charoff valign");v("colgroup","width align char charoff valign");v("thead","align char charoff valign");v("tr","align char charoff valign bgcolor");v("th","axis align char charoff valign nowrap bgcolor width height");v("form","accept");v("td","abbr axis scope align char charoff valign nowrap bgcolor width height");v("tfoot","align char charoff valign");v("tbody","align char charoff valign");v("area","nohref");v("body","background bgcolor text link vlink alink")}if(A!="html4"){v("input button select textarea","autofocus");v("input textarea","placeholder");v("a","download");v("link script img","crossorigin");v("iframe","sandbox seamless allowfullscreen")}q(o("a form meter progress dfn"),function(D){if(x[D]){delete x[D].children[D]}});delete x.caption.children.table;delete x.script;k[A]=x;return x}function i(u,v){var t;if(u){t={};if(typeof u=="string"){u={"*":u}}q(u,function(x,w){t[w]=t[w.toUpperCase()]=v=="map"?l(x,/[, ]/):p(x,/[, ]/)})}return t}return function(P){var K=this,I={},x={},w=[],T,t,N;var D,F,O,G,H;var L,C,B,u,S;var E={},y={};function A(W,U,V){var X=P[W];if(!X){X=k[W];if(!X){X=l(U," ",l(U.toUpperCase()," "));X=n(X,V);k[W]=X}}else{X=l(X,/[, ]/,l(X.toUpperCase(),/[, ]/))}return X}P=P||{};N=r(P.schema);if(P.verify_html===false){P.valid_elements="*[*]"}T=i(P.valid_styles);t=i(P.invalid_styles,"map");H=i(P.valid_classes,"map");D=A("whitespace_elements","pre script noscript style textarea video audio iframe object");F=A("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr");O=A("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track");G=A("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls");C=A("non_empty_elements","td th iframe video audio object script",O);B=A("move_caret_before_on_enter_elements","table",C);u=A("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure");L=A("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",u);S=A("text_inline_elements","span strong b em i font strike u variables cite dfn code mark q sup sub samp");q((P.special||"script noscript style textarea").split(" "),function(U){y[U]=new RegExp("</"+U+"[^>]*>","gi")});function v(U){return new RegExp("^"+U.replace(/([?+*])/g,".$1")+"$")}function R(ag){var aa,W,aq,am,V,Y,ak,ao,ae,ap,ar,ad,Z,an,U,ah,X,at,aj,ac=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,af=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,ab=/[*?+]/;if(ag){ag=o(ag,",");if(I["@"]){ah=I["@"].attributes;X=I["@"].attributesOrder}for(aa=0,W=ag.length;aa<W;aa++){V=ac.exec(ag[aa]);if(V){an=V[1];ae=V[2];U=V[3];ao=V[5];ad={};Z=[];Y={attributes:ad,attributesOrder:Z};if(an==="#"){Y.paddEmpty=true}if(an==="-"){Y.removeEmpty=true}if(V[4]==="!"){Y.removeEmptyAttrs=true}if(ah){for(at in ah){ad[at]=ah[at]}Z.push.apply(Z,X)}if(ao){ao=o(ao,"|");for(aq=0,am=ao.length;aq<am;aq++){V=af.exec(ao[aq]);if(V){ak={};ar=V[1];ap=V[2].replace(/::/g,":");an=V[3];aj=V[4];if(ar==="!"){Y.attributesRequired=Y.attributesRequired||[];Y.attributesRequired.push(ap);ak.required=true}if(ar==="-"){delete ad[ap];Z.splice(s(Z,ap),1);continue}if(an){if(an==="="){Y.attributesDefault=Y.attributesDefault||[];Y.attributesDefault.push({name:ap,value:aj});ak.defaultValue=aj}if(an===":"){Y.attributesForced=Y.attributesForced||[];Y.attributesForced.push({name:ap,value:aj});ak.forcedValue=aj}if(an==="<"){ak.validValues=l(aj,"?")}}if(ab.test(ap)){Y.attributePatterns=Y.attributePatterns||[];ak.pattern=v(ap);Y.attributePatterns.push(ak)}else{if(!ad[ap]){Z.push(ap)}ad[ap]=ak}}}}if(!ah&&ae=="@"){ah=ad;X=Z}if(U){Y.outputName=ae;I[U]=Y}if(ab.test(ae)){Y.pattern=v(ae);w.push(Y)}else{I[ae]=Y}}}}}function J(U){I={};w=[];R(U);q(N,function(W,V){x[V]=W.children})}function z(V){var U=/^(~)?(.+)$/;if(V){k.text_block_elements=k.block_elements=null;q(o(V,","),function(aa){var Y=U.exec(aa),Z=Y[1]==="~",ab=Z?"span":"div",X=Y[2];x[X]=x[ab];E[X]=ab;if(!Z){L[X.toUpperCase()]={};L[X]={}}if(!I[X]){var W=I[ab];W=n({},W);delete W.removeEmptyAttrs;delete W.removeEmpty;I[X]=W}q(x,function(ac,ad){if(ac[ab]){x[ad]=ac=n({},x[ad]);ac[X]=ac[ab]}})})}}function M(U){var V=/^([+\-]?)(\w+)\[([^\]]+)\]$/;k[P.schema]=null;if(U){q(o(U,","),function(Z){var Y=V.exec(Z),W,X;if(Y){X=Y[1];if(X){W=x[Y[2]]}else{W=x[Y[2]]={"#comment":{}}}W=x[Y[2]];q(o(Y[3],"|"),function(aa){if(X==="-"){delete W[aa]}else{W[aa]={}}})}})}}function Q(U){var W=I[U],V;if(W){return W}V=w.length;while(V--){W=w[V];if(W.pattern.test(U)){return W}}}if(!P.valid_elements){q(N,function(V,U){I[U]={attributes:V.attributes,attributesOrder:V.attributesOrder};x[U]=V.children});if(P.schema!="html5"){q(o("strong/b em/i"),function(U){U=o(U,"/");I[U[1]].outputName=U[0]})}q(o("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(U){if(I[U]){I[U].removeEmpty=true}});q(o("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(U){I[U].paddEmpty=true});q(o("span"),function(U){I[U].removeEmptyAttrs=true})}else{J(P.valid_elements)}z(P.custom_elements);M(P.valid_children);R(P.extended_valid_elements);M("+ol[ul|ol],+ul[ul|ol]");if(P.invalid_elements){q(p(P.invalid_elements),function(U){if(I[U]){delete I[U]}})}if(!Q("span")){R("span[!data-mce-type|*]")}K.children=x;K.getValidStyles=function(){return T};K.getInvalidStyles=function(){return t};K.getValidClasses=function(){return H};K.getBoolAttrs=function(){return G};K.getBlockElements=function(){return L};K.getTextBlockElements=function(){return u};K.getTextInlineElements=function(){return S};K.getShortEndedElements=function(){return O};K.getSelfClosingElements=function(){return F};K.getNonEmptyElements=function(){return C};K.getMoveCaretBeforeOnEnterElements=function(){return B};K.getWhiteSpaceElements=function(){return D};K.getSpecialElements=function(){return y};K.isValidChild=function(U,W){var V=x[U];return !!(V&&V[W])};K.isValid=function(V,U){var X,W,Y=Q(V);if(Y){if(U){if(Y.attributes[U]){return true}X=Y.attributePatterns;if(X){W=X.length;while(W--){if(X[W].pattern.test(V)){return true}}}}else{return true}}return false};K.getElementRule=Q;K.getCustomElements=function(){return E};K.addValidElements=R;K.setValidElements=J;K.addCustomElements=z;K.addValidChildren=M;K.elements=I}});h("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(l,n,k){var m=k.each;function j(s,q,v){var r=1,o,u,t,p;p=s.getShortEndedElements();t=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;t.lastIndex=o=v;while((u=t.exec(q))){o=t.lastIndex;if(u[1]==="/"){r--}else{if(!u[1]){if(u[2] in p){continue}r++}}if(r===0){break}}return o}function i(p,r){var o=this;function q(){}p=p||{};o.schema=r=r||new l();if(p.fix_self_closing!==false){p.fix_self_closing=true}m("comment cdata text start end pi doctype".split(" "),function(s){if(s){o[s]=p[s]||q}});o.parse=function(P){var B=this,t,R=0,U,M,L=[],Z,ac,N,D;var K,E,Y,S,aa;var H,A,x,F,ae,ab,Q;var af,X,s;var ad,V,y,O,W,u,I=0;var w=n.decode,J,T=k.makeMap("src,href,data,background,formaction,poster");var v=/((java|vb)script|mhtml):/i,z=/^data:/i;function G(ag){var ai,ah;ai=L.length;while(ai--){if(L[ai].name===ag){break}}if(ai>=0){for(ah=L.length-1;ah>=ai;ah--){ag=L[ah];if(ag.valid){B.end(ag.name)}}L.length=ai}}function C(al,ah,ap,an,am){var aj,ak,ag=/[\s\u0000-\u001F]+/g;ah=ah.toLowerCase();ap=ah in S?ah:w(ap||an||am||"");if(H&&!K&&ah.indexOf("data-")!==0){aj=ab[ah];if(!aj&&Q){ak=Q.length;while(ak--){aj=Q[ak];if(aj.pattern.test(ah)){break}}if(ak===-1){aj=null}}if(!aj){return}if(aj.validValues&&!(ap in aj.validValues)){return}}if(T[ah]&&!p.allow_script_urls){var ai=ap.replace(ag,"");try{ai=decodeURIComponent(ai)}catch(ao){ai=unescape(ai)}if(v.test(ai)){return}if(!p.allow_html_data_urls&&z.test(ai)&&!/^data:image\//i.test(ai)){return}}Z.map[ah]=ap;Z.push({name:ah,value:ap})}y=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g");O=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g;Y=r.getShortEndedElements();V=p.self_closing_elements||r.getSelfClosingElements();S=r.getBoolAttrs();H=p.validate;E=p.remove_internals;J=p.fix_self_closing;W=r.getSpecialElements();while((t=y.exec(P))){if(R<t.index){B.text(w(P.substr(R,t.index-R)))}if((U=t[6])){U=U.toLowerCase();if(U.charAt(0)===":"){U=U.substr(1)}G(U)}else{if((U=t[7])){U=U.toLowerCase();if(U.charAt(0)===":"){U=U.substr(1)}aa=U in Y;if(J&&V[U]&&L.length>0&&L[L.length-1].name===U){G(U)}if(!H||(A=r.getElementRule(U))){x=true;if(H){ab=A.attributes;Q=A.attributePatterns}if((ae=t[8])){K=ae.indexOf("data-mce-type")!==-1;if(K&&E){x=false}Z=[];Z.map={};ae.replace(O,C)}else{Z=[];Z.map={}}if(H&&!K){af=A.attributesRequired;X=A.attributesDefault;s=A.attributesForced;ad=A.removeEmptyAttrs;if(ad&&!Z.length){x=false}if(s){ac=s.length;while(ac--){F=s[ac];D=F.name;u=F.value;if(u==="{$uid}"){u="mce_"+I++}Z.map[D]=u;Z.push({name:D,value:u})}}if(X){ac=X.length;while(ac--){F=X[ac];D=F.name;if(!(D in Z.map)){u=F.value;if(u==="{$uid}"){u="mce_"+I++}Z.map[D]=u;Z.push({name:D,value:u})}}}if(af){ac=af.length;while(ac--){if(af[ac] in Z.map){break}}if(ac===-1){x=false}}if((F=Z.map["data-mce-bogus"])){if(F==="all"){R=j(r,P,y.lastIndex);y.lastIndex=R;continue}x=false}}if(x){B.start(U,Z,aa)}}else{x=false}if((M=W[U])){M.lastIndex=R=t.index+t[0].length;if((t=M.exec(P))){if(x){N=P.substr(R,t.index-R)}R=t.index+t[0].length}else{N=P.substr(R);R=P.length}if(x){if(N.length>0){B.text(N,true)}B.end(U)}y.lastIndex=R;continue}if(!aa){if(!ae||ae.indexOf("/")!=ae.length-1){L.push({name:U,valid:x})}else{if(x){B.end(U)}}}}else{if((U=t[1])){if(U.charAt(0)===">"){U=" "+U}if(!p.allow_conditional_comments&&U.substr(0,3)==="[if"){U=" "+U}B.comment(U)}else{if((U=t[2])){B.cdata(U)}else{if((U=t[3])){B.doctype(U)}else{if((U=t[4])){B.pi(U,t[5])}}}}}}R=t.index+t[0].length}if(R<P.length){B.text(w(P.substr(R)))}for(ac=L.length-1;ac>=0;ac--){U=L[ac];if(U.valid){B.end(U.name)}}}}i.findEndTag=j;return i});h("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(k,m,i,j){var n=j.makeMap,o=j.each,l=j.explode,p=j.extend;return function(u,v){var t=this,s={},r=[],w={},q={};u=u||{};u.validate="validate" in u?u.validate:true;u.root_name=u.root_name||"body";t.schema=v=v||new m();function x(C){var E,F,L,K,N,D,G,z,J;var y,I,B,A,M,H;I=n("tr,td,th,tbody,thead,tfoot,table");y=v.getNonEmptyElements();B=v.getTextBlockElements();A=v.getSpecialElements();for(E=0;E<C.length;E++){F=C[E];if(!F.parent||F.fixed){continue}if(B[F.name]&&F.parent.name=="li"){M=F.next;while(M){if(B[M.name]){M.name="li";M.fixed=true;F.parent.insert(M,F.parent)}else{break}M=M.next}F.unwrap(F);continue}K=[F];for(L=F.parent;L&&!v.isValidChild(L.name,F.name)&&!I[L.name];L=L.parent){K.push(L)}if(L&&K.length>1){K.reverse();N=D=t.filterNode(K[0].clone());for(J=0;J<K.length-1;J++){if(v.isValidChild(D.name,K[J].name)){G=t.filterNode(K[J].clone());D.append(G)}else{G=D}for(z=K[J].firstChild;z&&z!=K[J+1];){H=z.next;G.append(z);z=H}D=G}if(!N.isEmpty(y)){L.insert(N,K[0],true);L.insert(F,N)}else{L.insert(F,K[0],true)}L=K[0];if(L.isEmpty(y)||L.firstChild===L.lastChild&&L.firstChild.name==="br"){L.empty().remove()}}else{if(F.parent){if(F.name==="li"){M=F.prev;if(M&&(M.name==="ul"||M.name==="ul")){M.append(F);continue}M=F.next;if(M&&(M.name==="ul"||M.name==="ul")){M.insert(F,M.firstChild,true);continue}F.wrap(t.filterNode(new k("ul",1)));continue}if(v.isValidChild(F.parent.name,"div")&&v.isValidChild("div",F.name)){F.wrap(t.filterNode(new k("div",1)))}else{if(A[F.name]){F.empty().remove()}else{F.unwrap()}}}}}}t.filterNode=function(A){var z,y,B;if(y in s){B=w[y];if(B){B.push(A)}else{w[y]=[A]}}z=r.length;while(z--){y=r[z].name;if(y in A.attributes.map){B=q[y];if(B){B.push(A)}else{q[y]=[A]}}}return A};t.addNodeFilter=function(y,z){o(l(y),function(A){var B=s[A];if(!B){s[A]=B=[]}B.push(z)})};t.addAttributeFilter=function(y,z){o(l(y),function(A){var B;for(B=0;B<r.length;B++){if(r[B].name===A){r[B].callbacks.push(z);return}}r.push({name:A,callbacks:[z]})})};t.parse=function(I,z){var A,V,N,M,P,O,J,E,R,Z,L;var B,Q,Y=[],X;var G,y,K,F;var C,H,D;z=z||{};w={};q={};B=p(n("script,style,head,html,body,title,meta,param"),v.getBlockElements());H=v.getNonEmptyElements();C=v.children;L=u.validate;D="forced_root_block" in z?z.forced_root_block:u.forced_root_block;F=v.getWhiteSpaceElements();Q=/^[ \t\r\n]+/;G=/[ \t\r\n]+$/;y=/[ \t\r\n]+/g;K=/^[ \t\r\n]+$/;function S(){var ac=V.firstChild,ab,ad;function aa(ae){if(ae){ac=ae.firstChild;if(ac&&ac.type==3){ac.value=ac.value.replace(Q,"")}ac=ae.lastChild;if(ac&&ac.type==3){ac.value=ac.value.replace(G,"")}}}if(!v.isValidChild(V.name,D.toLowerCase())){return}while(ac){ab=ac.next;if(ac.type==3||(ac.type==1&&ac.name!=="p"&&!B[ac.name]&&!ac.attr("data-mce-type"))){if(!ad){ad=W(D,1);ad.attr(u.forced_root_block_attrs);V.insert(ad,ac);ad.append(ac)}else{ad.append(ac)}}else{aa(ad);ad=null}ac=ab}aa(ad)}function W(aa,ab){var ac=new k(aa,ab),ad;if(aa in s){ad=w[aa];if(ad){ad.push(ac)}else{w[aa]=[ac]}}return ac}function U(ad){var ae,af,aa,ab,ac=v.getBlockElements();for(ae=ad.prev;ae&&ae.type===3;){aa=ae.value.replace(G,"");if(aa.length>0){ae.value=aa;return}af=ae.next;if(af){if(af.type==3&&af.value.length){ae=ae.prev;continue}if(!ac[af.name]&&af.name!="script"&&af.name!="style"){ae=ae.prev;continue}}ab=ae.prev;ae.remove();ae=ab}}function T(ab){var ac,aa={};for(ac in ab){if(ac!=="li"&&ac!="p"){aa[ac]=ab[ac]}}return aa}A=new i({validate:L,allow_script_urls:u.allow_script_urls,allow_conditional_comments:u.allow_conditional_comments,self_closing_elements:T(v.getSelfClosingElements()),cdata:function(aa){N.append(W("#cdata",4)).value=aa},text:function(ac,aa){var ab;if(!X){ac=ac.replace(y," ");if(N.lastChild&&B[N.lastChild.name]){ac=ac.replace(Q,"")}}if(ac.length!==0){ab=W("#text",3);ab.raw=!!aa;N.append(ab).value=ac}},comment:function(aa){N.append(W("#comment",8)).value=aa},pi:function(aa,ab){N.append(W(aa,7)).value=ab;U(N)},doctype:function(ab){var aa;aa=N.append(W("#doctype",10));aa.value=ab;U(N)},start:function(ac,ab,ah){var ae,aa,ag,ad,af;ag=L?v.getElementRule(ac):{};if(ag){ae=W(ag.outputName||ac,1);ae.attributes=ab;ae.shortEnded=ah;N.append(ae);af=C[N.name];if(af&&C[ae.name]&&!af[ae.name]){Y.push(ae)}aa=r.length;while(aa--){ad=r[aa].name;if(ad in ab.map){R=q[ad];if(R){R.push(ae)}else{q[ad]=[ae]}}}if(B[ac]){U(ae)}if(!ah){N=ae}if(!X&&F[ac]){X=true}}},end:function(aa){var af,ac,ae,ab,ad;ac=L?v.getElementRule(aa):{};if(ac){if(B[aa]){if(!X){af=N.firstChild;if(af&&af.type===3){ae=af.value.replace(Q,"");if(ae.length>0){af.value=ae;af=af.next}else{ab=af.next;af.remove();af=ab;while(af&&af.type===3){ae=af.value;ab=af.next;if(ae.length===0||K.test(ae)){af.remove();af=ab}af=ab}}}af=N.lastChild;if(af&&af.type===3){ae=af.value.replace(G,"");if(ae.length>0){af.value=ae;af=af.prev}else{ab=af.prev;af.remove();af=ab;while(af&&af.type===3){ae=af.value;ab=af.prev;if(ae.length===0||K.test(ae)){af.remove();af=ab}af=ab}}}}}if(X&&F[aa]){X=false}if(ac.removeEmpty||ac.paddEmpty){if(N.isEmpty(H)){if(ac.paddEmpty){N.empty().append(new k("#text","3")).value="\u00a0"}else{if(!N.attributes.map.name&&!N.attributes.map.id){ad=N.parent;if(B[N.name]){N.empty().remove()}else{N.unwrap()}N=ad;return}}}}N=N.parent}}},v);V=N=new k(z.context||u.root_name,11);A.parse(I);if(L&&Y.length){if(!z.context){x(Y)}else{z.invalid=true}}if(D&&(V.name=="body"||z.isRootContent)){S()}if(!z.invalid){for(Z in w){R=s[Z];M=w[Z];J=M.length;while(J--){if(!M[J].parent){M.splice(J,1)}}for(P=0,O=R.length;P<O;P++){R[P](M,Z,z)}}for(P=0,O=r.length;P<O;P++){R=r[P];if(R.name in q){M=q[R.name];J=M.length;while(J--){if(!M[J].parent){M.splice(J,1)}}for(J=0,E=R.callbacks.length;J<E;J++){R.callbacks[J](M,R.name,z)}}}}return V};if(u.remove_trailing_brs){t.addNodeFilter("br",function(z){var E,D=z.length,A,J=p({},v.getBlockElements());var y=v.getNonEmptyElements(),H,F,C,I;var G,B;J.body=1;for(E=0;E<D;E++){A=z[E];H=A.parent;if(J[A.parent.name]&&A===H.lastChild){C=A.prev;while(C){I=C.name;if(I!=="span"||C.attr("data-mce-type")!=="bookmark"){if(I!=="br"){break}if(I==="br"){A=null;break}}C=C.prev}if(A){A.remove();if(H.isEmpty(y)){G=v.getElementRule(H.name);if(G){if(G.removeEmpty){H.remove()}else{if(G.paddEmpty){H.empty().append(new k("#text",3)).value="\u00a0"}}}}}}else{F=A;while(H&&H.firstChild===F&&H.lastChild===F){F=H;if(J[H.name]){break}H=H.parent}if(F===H){B=new k("#text",3);B.value="\u00a0";A.replace(B)}}}})}if(!u.allow_html_in_named_anchor){t.addAttributeFilter("id,name",function(y){var A=y.length,C,z,B,D;while(A--){D=y[A];if(D.name==="a"&&D.firstChild&&!D.attr("href")){B=D.parent;C=D.lastChild;do{z=C.prev;B.insert(C,D);C=z}while(C)}}})}if(u.validate&&v.getValidClasses()){t.addAttributeFilter("class",function(z){var D=z.length,C,A,H,F,B;var G=v.getValidClasses(),E,y;while(D--){C=z[D];A=C.attr("class").split(" ");B="";for(H=0;H<A.length;H++){F=A[H];y=false;E=G["*"];if(E&&E[F]){y=true}E=G[C.name];if(!y&&E&&E[F]){y=true}if(y){if(B){B+=" "}B+=F}}if(!B.length){B=null}C.attr("class",B)}})}}});h("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(k,i){var j=i.makeMap;return function(p){var n=[],l,m,o,q,r;p=p||{};l=p.indent;m=j(p.indent_before||"");o=j(p.indent_after||"");q=k.getEncodeFunc(p.entity_encoding||"raw",p.entities);r=p.element_format=="html";return{start:function(v,u,y){var w,t,s,x;if(l&&m[v]&&n.length>0){x=n[n.length-1];if(x.length>0&&x!=="\n"){n.push("\n")}}n.push("<",v);if(u){for(w=0,t=u.length;w<t;w++){s=u[w];n.push(" ",s.name,'="',q(s.value,true),'"')}}if(!y||r){n[n.length]=">"}else{n[n.length]=" />"}if(y&&l&&o[v]&&n.length>0){x=n[n.length-1];if(x.length>0&&x!=="\n"){n.push("\n")}}},end:function(s){var t;n.push("</",s,">");if(l&&o[s]&&n.length>0){t=n[n.length-1];if(t.length>0&&t!=="\n"){n.push("\n")}}},text:function(t,s){if(t.length>0){n[n.length]=s?t:q(t)}},cdata:function(s){n.push("<![CDATA[",s,"]]>")},comment:function(s){n.push("<!--",s,"-->")},pi:function(s,t){if(t){n.push("<?",s," ",q(t),"?>")}else{n.push("<?",s,"?>")}if(l){n.push("\n")}},doctype:function(s){n.push("<!DOCTYPE",s,">",l?"\n":"")},reset:function(){n.length=0},getContent:function(){return n.join("").replace(/\n$/,"")}}}});h("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(j,i){return function(l,m){var k=this,n=new j(l);l=l||{};l.validate="validate" in l?l.validate:true;k.schema=m=m||new i();k.writer=n;k.serialize=function(q){var p,r;r=l.validate;p={3:function(s){n.text(s.value,s.raw)},8:function(s){n.comment(s.value)},7:function(s){n.pi(s.name,s.value)},10:function(s){n.doctype(s.value)},4:function(s){n.cdata(s.value)},11:function(s){if((s=s.firstChild)){do{o(s)}while((s=s.next))}}};n.reset();function o(t){var B=p[t.type],s,w,A,z,x,C,v,u,y;if(!B){s=t.name;w=t.shortEnded;A=t.attributes;if(r&&A&&A.length>1){C=[];C.map={};y=m.getElementRule(t.name);if(y){for(v=0,u=y.attributesOrder.length;v<u;v++){z=y.attributesOrder[v];if(z in A.map){x=A.map[z];C.map[z]=x;C.push({name:z,value:x})}}for(v=0,u=A.length;v<u;v++){z=A[v].name;if(!(z in C.map)){x=A.map[z];C.map[z]=x;C.push({name:z,value:x})}}A=C}}n.start(t.name,A,w);if(!w){if((t=t.firstChild)){do{o(t)}while((t=t.next))}n.end(s)}}else{B(t)}}if(q.type==1&&!l.inner){o(q)}else{p[11](q)}return n.getContent()}}});h("tinymce/dom/Serializer",["tinymce/dom/DOMUtils","tinymce/html/DomParser","tinymce/html/SaxParser","tinymce/html/Entities","tinymce/html/Serializer","tinymce/html/Node","tinymce/html/Schema","tinymce/Env","tinymce/util/Tools","tinymce/text/Zwsp"],function(r,w,u,l,q,o,n,p,k,m){var t=k.each,j=k.trim;var v=r.DOM,i=["data-mce-selected"];function s(y){var A,z;function x(B){return B&&B.name==="br"}A=y.lastChild;if(x(A)){z=A.prev;if(x(z)){A.remove();z.remove()}}}return function(B,A){var E,C,y;if(A){E=A.dom;C=A.schema}function z(F){var G=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200B\uFEFF]+<\\/span>","\\s?("+i.join("|")+')="[^"]+"'].join("|"),"gi");F=m.trim(F.replace(G,""));return F}function x(){var K=A.getBody().innerHTML;var I=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g;var F,G,M,L,H,J=A.schema;K=z(K);H=J.getShortEndedElements();while((L=I.exec(K))){G=I.lastIndex;M=L[0].length;if(H[L[1]]){F=G}else{F=u.findEndTag(J,K,G)}K=K.substring(0,G-M)+K.substring(F);I.lastIndex=G-M}return j(K)}function D(F){if(k.inArray(i,F)===-1){y.addAttributeFilter(F,function(G,H){var I=G.length;while(I--){G[I].attr(H,null)}});i.push(F)}}E=E||v;C=C||new n(B);B.entity_encoding=B.entity_encoding||"named";B.remove_trailing_brs="remove_trailing_brs" in B?B.remove_trailing_brs:true;y=new w(B,C);y.addAttributeFilter("data-mce-tabindex",function(F,G){var H=F.length,I;while(H--){I=F[H];I.attr("tabindex",I.attributes.map["data-mce-tabindex"]);I.attr(G,null)}});y.addAttributeFilter("src,href,style",function(G,F){var K=G.length,H,M,J="data-mce-"+F;var L=B.url_converter,N=B.url_converter_scope,I;while(K--){H=G[K];M=H.attributes.map[J];if(M!==I){H.attr(F,M.length>0?M:null);H.attr(J,null)}else{M=H.attributes.map[F];if(F==="style"){M=E.serializeStyle(E.parseStyle(M),H.name)}else{if(L){M=L.call(N,M,F,H.name)}}H.attr(F,M.length>0?M:null)}}});y.addAttributeFilter("class",function(F){var G=F.length,H,I;while(G--){H=F[G];I=H.attr("class");if(I){I=H.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,"");H.attr("class",I.length>0?I:null)}}});y.addAttributeFilter("data-mce-type",function(F,H,G){var I=F.length,J;while(I--){J=F[I];if(J.attributes.map["data-mce-type"]==="bookmark"&&!G.cleanup){J.remove()}}});y.addNodeFilter("noscript",function(F){var G=F.length,H;while(G--){H=F[G].firstChild;if(H){H.value=l.decode(H.value)}}});y.addNodeFilter("script,style",function(G,H){var I=G.length,K,L,J;function F(M){return M.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}while(I--){K=G[I];L=K.firstChild?K.firstChild.value:"";if(H==="script"){J=K.attr("type");if(J){K.attr("type",J=="mce-no/type"?null:J.replace(/^mce\-/,""))}if(L.length>0){K.firstChild.value="// <![CDATA[\n"+F(L)+"\n// ]]>"}}else{if(L.length>0){K.firstChild.value="<!--\n"+F(L)+"\n-->"}}}});y.addNodeFilter("#comment",function(F){var G=F.length,H;while(G--){H=F[G];if(H.value.indexOf("[CDATA[")===0){H.name="#cdata";H.type=4;H.value=H.value.replace(/^\[CDATA\[|\]\]$/g,"")}else{if(H.value.indexOf("mce:protected ")===0){H.name="#text";H.type=3;H.raw=true;H.value=unescape(H.value).substr(14)}}}});y.addNodeFilter("xml:namespace,input",function(F,G){var H=F.length,I;while(H--){I=F[H];if(I.type===7){I.remove()}else{if(I.type===1){if(G==="input"&&!("type" in I.attributes.map)){I.attr("type","text")}}}}});if(B.fix_list_elements){y.addNodeFilter("ul,ol",function(G){var H=G.length,I,F;while(H--){I=G[H];F=I.parent;if(F.name==="ul"||F.name==="ol"){if(I.prev&&I.prev.name==="li"){I.prev.append(I)}}}})}y.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(F,G){var H=F.length;while(H--){F[H].attr(G,null)}});return{schema:C,addNodeFilter:y.addNodeFilter,addAttributeFilter:y.addAttributeFilter,serialize:function(G,K){var N=this,L,M,I,H,J,F;if(p.ie&&E.select("script,style,select,map").length>0){J=G.innerHTML;G=G.cloneNode(false);E.setHTML(G,J)}else{G=G.cloneNode(true)}L=document.implementation;if(L.createHTMLDocument){M=L.createHTMLDocument("");t(G.nodeName=="BODY"?G.childNodes:[G],function(O){M.body.appendChild(M.importNode(O,true))});if(G.nodeName!="BODY"){G=M.body.firstChild}else{G=M.body}I=E.doc;E.doc=M}K=K||{};K.format=K.format||"html";if(K.selection){K.forced_root_block=""}if(!K.no_events){K.node=G;N.onPreProcess(K)}F=y.parse(j(K.getInner?G.innerHTML:E.getOuterHTML(G)),K);s(F);H=new q(B,C);K.content=H.serialize(F);if(!K.cleanup){K.content=m.trim(K.content);K.content=K.content.replace(/\uFEFF/g,"")}if(!K.no_events){N.onPostProcess(K)}if(I){E.doc=I}K.node=null;return K.content},addRules:function(F){C.addValidElements(F)},setRules:function(F){C.setValidElements(F)},onPreProcess:function(F){if(A){A.fire("PreProcess",F)}},onPostProcess:function(F){if(A){A.fire("PostProcess",F)}},addTempAttr:D,trimHtml:z,getTrimmedContent:x}}});h("tinymce/dom/TridentSelection",[],function(){function i(k){var j=this,o=k.dom,m=false;function l(p,q){var r,A=0,x,u,t,s,v,y,w=-1,z;r=p.duplicate();r.collapse(q);z=r.parentElement();if(z.ownerDocument!==k.dom.doc){return}while(z.contentEditable==="false"){z=z.parentNode}if(!z.hasChildNodes()){return{node:z,inside:1}}t=z.children;x=t.length-1;while(A<=x){y=Math.floor((A+x)/2);s=t[y];r.moveToElementText(s);w=r.compareEndPoints(q?"StartToStart":"EndToEnd",p);if(w>0){x=y-1}else{if(w<0){A=y+1}else{return{node:s}}}}if(w<0){if(!s){r.moveToElementText(z);r.collapse(true);s=z;u=true}else{r.collapse(false)}v=0;while(r.compareEndPoints(q?"StartToStart":"StartToEnd",p)!==0){if(r.move("character",1)===0||z!=r.parentElement()){break}v++}}else{r.collapse(true);v=0;while(r.compareEndPoints(q?"StartToStart":"StartToEnd",p)!==0){if(r.move("character",-1)===0||z!=r.parentElement()){break}v++}}return{node:s,position:w,offset:v,inside:u}}function n(){var p=k.getRng(),x=o.createRng(),r,q,v,w,s;r=p.item?p.item(0):p.parentElement();if(r.ownerDocument!=o.doc){return x}q=k.isCollapsed();if(p.item){x.setStart(r.parentNode,o.nodeIndex(r));x.setEnd(x.startContainer,x.startOffset+1);return x}function u(F){var A=l(p,F),y,D,E=0,C,B,z;y=A.node;D=A.offset;if(A.inside&&!y.hasChildNodes()){x[F?"setStart":"setEnd"](y,0);return}if(D===B){x[F?"setStartBefore":"setEndAfter"](y);return}if(A.position<0){C=A.inside?y.firstChild:y.nextSibling;if(!C){x[F?"setStartAfter":"setEndAfter"](y);return}if(!D){if(C.nodeType==3){x[F?"setStart":"setEnd"](C,0)}else{x[F?"setStartBefore":"setEndBefore"](C)}return}while(C){if(C.nodeType==3){z=C.nodeValue;E+=z.length;if(E>=D){y=C;E-=D;E=z.length-E;break}}C=C.nextSibling}}else{C=y.previousSibling;if(!C){return x[F?"setStartBefore":"setEndBefore"](y)}if(!D){if(y.nodeType==3){x[F?"setStart":"setEnd"](C,y.nodeValue.length)}else{x[F?"setStartAfter":"setEndAfter"](C)}return}while(C){if(C.nodeType==3){E+=C.nodeValue.length;if(E>=D){y=C;E-=D;break}}C=C.previousSibling}}x[F?"setStart":"setEnd"](y,E)}try{u(true);if(!q){u()}}catch(t){if(t.number==-2147024809){s=j.getBookmark(2);v=p.duplicate();v.collapse(true);r=v.parentElement();if(!q){v=p.duplicate();v.collapse(false);w=v.parentElement();w.innerHTML=w.innerHTML}r.innerHTML=r.innerHTML;j.moveToBookmark(s);p=k.getRng();u(true);if(!q){u()}}else{throw t}}return x}this.getBookmark=function(s){var p=k.getRng(),r={};function t(z){var y,u,x,w,v=[];y=z.parentNode;u=o.getRoot().parentNode;while(y!=u&&y.nodeType!==9){x=y.children;w=x.length;while(w--){if(z===x[w]){v.push(w);break}}z=y;y=y.parentNode}return v}function q(v){var u;u=l(p,v);if(u){return{position:u.position,offset:u.offset,indexes:t(u.node),inside:u.inside}}}if(s===2){if(!p.item){r.start=q(true);if(!k.isCollapsed()){r.end=q()}}else{r.start={ctrl:true,indexes:t(p.item(0))}}}return r};this.moveToBookmark=function(r){var q,p=o.doc.body;function t(v){var y,x,u,w;y=o.getRoot();for(x=v.length-1;x>=0;x--){w=y.children;u=v[x];if(u<=w.length-1){y=w[u]}}return y}function s(z){var u=r[z?"start":"end"],x,w,v,y;if(u){x=u.position>0;w=p.createTextRange();w.moveToElementText(t(u.indexes));y=u.offset;if(y!==v){w.collapse(u.inside||x);w.moveStart("character",x?-y:y)}else{w.collapse(z)}q.setEndPoint(z?"StartToStart":"EndToStart",w);if(z){q.collapse(true)}}}if(r.start){if(r.start.ctrl){q=p.createControlRange();q.addElement(t(r.start.indexes));q.select()}else{q=p.createTextRange();s(true);s();q.select()}}};this.addRange=function(p){var u,s,r,w,C,x,A,z=k.dom.doc,t=z.body,y,B;function q(I){var E,H,D,G,F;D=o.create("a");E=I?r:C;H=I?w:x;G=u.duplicate();if(E==z||E==z.documentElement){E=t;H=0}if(E.nodeType==3){E.parentNode.insertBefore(D,E);G.moveToElementText(D);G.moveStart("character",H);o.remove(D);u.setEndPoint(I?"StartToStart":"EndToEnd",G)}else{F=E.childNodes;if(F.length){if(H>=F.length){o.insertAfter(D,F[F.length-1])}else{E.insertBefore(D,F[H])}G.moveToElementText(D)}else{if(E.canHaveHTML){E.innerHTML="<span>&#xFEFF;</span>";D=E.firstChild;G.moveToElementText(D);G.collapse(m)}}u.setEndPoint(I?"StartToStart":"EndToEnd",G);o.remove(D)}}r=p.startContainer;w=p.startOffset;C=p.endContainer;x=p.endOffset;u=t.createTextRange();if(r==C&&r.nodeType==1){if(w==x&&!r.hasChildNodes()){if(r.canHaveHTML){A=r.previousSibling;if(A&&!A.hasChildNodes()&&o.isBlock(A)){A.innerHTML="&#xFEFF;"}else{A=null}r.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>";u.moveToElementText(r.lastChild);u.select();o.doc.selection.clear();r.innerHTML="";if(A){A.innerHTML=""}return}w=o.nodeIndex(r);r=r.parentNode}if(w==x-1){try{B=r.childNodes[w];s=t.createControlRange();s.addElement(B);s.select();y=k.getRng();if(y.item&&B===y.item(0)){return}}catch(v){}}}q(true);q();u.select()};this.getRangeAt=n}return i});h("tinymce/util/VK",["tinymce/Env"],function(i){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(j){return j.shiftKey||j.ctrlKey||j.altKey||this.metaKeyPressed(j)},metaKeyPressed:function(j){return(i.mac?j.metaKey:j.ctrlKey&&!j.altKey)}}});h("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/util/Delay","tinymce/Env","tinymce/dom/NodeType"],function(n,l,o,i,k){var m=k.isContentEditableFalse;var p=k.isContentEditableTrue;function j(q,r){while(r&&r!=q){if(p(r)||m(r)){return r}r=r.parentNode}return null}return function(D,r){var s=r.dom,aa=l.each;var A,aj,U,W,ah,af;var I,G,R,Q,J,O,X,w;var q,t,B=r.getDoc(),ag=document,z=i.ie&&i.ie<11;var N=Math.abs,ae=Math.round,F=r.getBody(),K,u;W={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var H=".mce-content-body";r.contentStyles.push(H+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+H+" .mce-resizehandle:hover {background: #000}"+H+" img[data-mce-selected],"+H+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+H+" .mce-clonedresizable {position: absolute;"+(i.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+H+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");function ab(al){var ak=r.settings.object_resizing;if(ak===false||i.iOS){return false}if(typeof ak!="string"){ak="table,img,div"}if(al.getAttribute("data-mce-resize")==="false"){return false}if(al==r.getBody()){return false}return r.dom.is(al,ak)}function v(an){var al,ak,am;var ap,ao;al=an.screenX-I;ak=an.screenY-G;q=al*ah[2]+J;t=ak*ah[3]+O;q=q<5?5:q;t=t<5?5:t;if(A.nodeName=="IMG"&&r.settings.resize_img_proportional!==false){am=!n.modifierPressed(an)}else{am=n.modifierPressed(an)||(A.nodeName=="IMG"&&ah[2]*ah[3]!==0)}if(am){if(N(al)>N(ak)){t=ae(q*X);q=ae(t/X)}else{q=ae(t/X);t=ae(q*X)}}s.setStyles(aj,{width:q,height:t});ap=ah.startPos.x+al;ao=ah.startPos.y+ak;ap=ap>0?ap:0;ao=ao>0?ao:0;s.setStyles(U,{left:ap,top:ao,display:"block"});U.innerHTML=q+" &times; "+t;if(ah[2]<0&&aj.clientWidth<=q){s.setStyle(aj,"left",R+(J-q))}if(ah[3]<0&&aj.clientHeight<=t){s.setStyle(aj,"top",Q+(O-t))}al=F.scrollWidth-K;ak=F.scrollHeight-u;if(al+ak!==0){s.setStyles(U,{left:ap-al,top:ao-ak})}if(!w){r.fire("ObjectResizeStart",{target:A,width:J,height:O});w=true}}function V(){w=false;function ak(al,am){if(am){if(A.style[al]||!r.schema.isValid(A.nodeName.toLowerCase(),al)){s.setStyle(A,al,am)}else{s.setAttrib(A,al,am)}}}ak("width",q);ak("height",t);s.unbind(B,"mousemove",v);s.unbind(B,"mouseup",V);if(ag!=B){s.unbind(ag,"mousemove",v);s.unbind(ag,"mouseup",V)}s.remove(aj);s.remove(U);if(!z||A.nodeName=="TABLE"){P(A)}r.fire("ObjectResized",{target:A,width:q,height:t});s.setAttrib(A,"style",s.getAttrib(A,"style"));r.nodeChanged()}function P(aq,ao,am){var al,an,ak,ar,ap;L();ai();al=s.getPos(aq,F);R=al.x;Q=al.y;ap=aq.getBoundingClientRect();an=ap.width||(ap.right-ap.left);ak=ap.height||(ap.bottom-ap.top);if(A!=aq){ac();A=aq;q=t=0}ar=r.fire("ObjectSelected",{target:aq});if(ab(aq)&&!ar.isDefaultPrevented()){aa(W,function(aw,au){var av;function at(ax){I=ax.screenX;G=ax.screenY;J=A.clientWidth;O=A.clientHeight;X=O/J;ah=aw;aw.startPos={x:an*aw[0]+R,y:ak*aw[1]+Q};K=F.scrollWidth;u=F.scrollHeight;aj=A.cloneNode(true);s.addClass(aj,"mce-clonedresizable");s.setAttrib(aj,"data-mce-bogus","all");aj.contentEditable=false;aj.unSelectabe=true;s.setStyles(aj,{left:R,top:Q,margin:0});aj.removeAttribute("data-mce-selected");F.appendChild(aj);s.bind(B,"mousemove",v);s.bind(B,"mouseup",V);if(ag!=B){s.bind(ag,"mousemove",v);s.bind(ag,"mouseup",V)}U=s.add(F,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},J+" &times; "+O)}if(ao){if(au==ao){at(am)}return}av=s.get("mceResizeHandle"+au);if(av){s.remove(av)}av=s.add(F,"div",{id:"mceResizeHandle"+au,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:true,style:"cursor:"+au+"-resize; margin:0; padding:0"});if(i.ie){av.contentEditable=false}s.bind(av,"mousedown",function(ax){ax.stopImmediatePropagation();ax.preventDefault();at(ax)});aw.elm=av;s.setStyles(av,{left:(an*aw[0]+R)-(av.offsetWidth/2),top:(ak*aw[1]+Q)-(av.offsetHeight/2)})})}else{L()}A.setAttribute("data-mce-selected","1")}function L(){var ak,al;ai();if(A){A.removeAttribute("data-mce-selected")}for(ak in W){al=s.get("mceResizeHandle"+ak);if(al){s.unbind(al);s.remove(al)}}}function M(an){var am,ak;function al(ap,ao){if(ap){do{if(ap===ao){return true}}while((ap=ap.parentNode))}}if(w||r.removed){return}aa(s.select("img[data-mce-selected],hr[data-mce-selected]"),function(ao){ao.removeAttribute("data-mce-selected")});ak=an.type=="mousedown"?an.target:D.getNode();ak=s.$(ak).closest(z?"table":"table,img,hr")[0];if(al(ak,F)){S();am=D.getStart(true);if(al(am,ak)&&al(D.getEnd(true),ak)){if(!z||(ak!=am&&am.nodeName!=="IMG")){P(ak);return}}}L()}function x(am,ak,al){if(am&&am.attachEvent){am.attachEvent("on"+ak,al)}}function E(am,ak,al){if(am&&am.detachEvent){am.detachEvent("on"+ak,al)}}function C(am){var an=am.srcElement,ar,ak,at,aq,ao,ap,al;ar=an.getBoundingClientRect();ap=af.clientX-ar.left;al=af.clientY-ar.top;for(ak in W){at=W[ak];aq=an.offsetWidth*at[0];ao=an.offsetHeight*at[1];if(N(aq-ap)<8&&N(ao-al)<8){ah=at;break}}w=true;r.fire("ObjectResizeStart",{target:A,width:A.clientWidth,height:A.clientHeight});r.getDoc().selection.empty();P(an,ak,af)}function T(ak){if(ak.preventDefault){ak.preventDefault()}else{ak.returnValue=false}}function Y(ak){return m(j(r.getBody(),ak))}function ad(al){var ak=al.srcElement;if(Y(ak)){T(al);return}if(ak!=A){r.fire("ObjectSelected",{target:ak});ac();if(ak.id.indexOf("mceResizeHandle")===0){al.returnValue=false;return}if(ak.nodeName=="IMG"||ak.nodeName=="TABLE"){L();A=ak;x(ak,"resizestart",C)}}}function ac(){E(A,"resizestart",C)}function ai(){for(var ak in W){var al=W[ak];if(al.elm){s.unbind(al.elm);delete al.elm}}}function S(){try{r.getDoc().execCommand("enableObjectResizing",false,false)}catch(ak){}}function y(am){var al;if(!z){return}al=B.body.createControlRange();try{al.addElement(am);al.select();return true}catch(ak){}}r.on("init",function(){if(z){r.on("ObjectResized",function(al){if(al.target.nodeName!="TABLE"){L();y(al.target)}});x(F,"controlselect",ad);r.on("mousedown",function(al){af=al})}else{S();if(i.ie>=11){r.on("mousedown click",function(am){var al=am.target,an=al.nodeName;if(!w&&/^(TABLE|IMG|HR)$/.test(an)&&!Y(al)){r.selection.select(al,an=="TABLE");if(am.type=="mousedown"){r.nodeChanged()}}});r.dom.bind(F,"mscontrolselect",function(am){function al(an){o.setEditorTimeout(r,function(){r.selection.select(an)})}if(Y(am.target)){am.preventDefault();al(am.target);return}if(/^(TABLE|IMG|HR)$/.test(am.target.nodeName)){am.preventDefault();if(am.target.tagName=="IMG"){al(am.target)}}})}}var ak=o.throttle(function(al){if(!r.composing){M(al)}});r.on("nodechange ResizeEditor ResizeWindow drop",ak);r.on("keyup compositionend",function(al){if(A&&A.nodeName=="TABLE"){ak(al)}});r.on("hide blur",L)});r.on("remove",ai);function Z(){A=aj=null;if(z){ac();E(F,"controlselect",ad)}}return{isResizable:ab,showResizeRect:P,hideResizeRect:L,updateResizeRect:M,controlSelect:y,destroy:Z}}});h("tinymce/util/Fun",[],function(){var o=[].slice;function j(p){return function(){return p}}function n(p){return function(q){return !p(q)}}function m(q,p){return function(r){return q(p(r))}}function l(){var p=o.call(arguments);return function(q){for(var r=0;r<p.length;r++){if(p[r](q)){return true}}return false}}function k(){var p=o.call(arguments);return function(q){for(var r=0;r<p.length;r++){if(!p[r](q)){return false}}return true}}function i(q){var p=o.call(arguments);if(p.length-1>=q.length){return q.apply(this,p.slice(1))}return function(){var r=p.concat([].slice.call(arguments));return i.apply(this,r)}}return{constant:j,negate:n,and:k,or:l,curry:i,compose:m}});h("tinymce/caret/CaretCandidate",["tinymce/dom/NodeType","tinymce/util/Arr","tinymce/caret/CaretContainer"],function(j,q,u){var x=j.isContentEditableTrue,r=j.isContentEditableFalse,t=j.isBr,p=j.isText,l=j.matchNodeNames("script style textarea"),k=j.matchNodeNames("img input textarea hr iframe video audio object"),w=j.matchNodeNames("table"),i=u.isCaretContainer;function s(y){if(i(y)){return false}if(p(y)){if(l(y.parentNode)){return false}return true}return k(y)||t(y)||w(y)||r(y)}function n(z,y){for(z=z.parentNode;z&&z!=y;z=z.parentNode){if(r(z)){return false}if(x(z)){return true}}return true}function v(y){if(!r(y)){return false}return q.reduce(y.getElementsByTagName("*"),function(z,A){return z||x(A)},false)!==true}function m(y){return k(y)||v(y)}function o(z,y){return s(z)&&n(z,y)}return{isCaretCandidate:s,isInEditable:n,isAtomic:m,isEditableCaretCandidate:o}});h("tinymce/geom/ClientRect",[],function(){var s=Math.round;function n(t){if(!t){return{left:0,top:0,bottom:0,right:0,width:0,height:0}}return{left:s(t.left),top:s(t.top),bottom:s(t.bottom),right:s(t.right),width:s(t.width),height:s(t.height)}}function q(u,t){u=n(u);if(t){u.right=u.left}else{u.left=u.left+u.width;u.right=u.left}u.width=0;return u}function m(u,t){return(u.left===t.left&&u.top===t.top&&u.bottom===t.bottom&&u.right===t.right)}function j(t,v,u){return t>=0&&t<=Math.min(v.height,u.height)/2}function l(u,t){if(u.bottom<t.top){return true}if(u.top>t.bottom){return false}return j(t.top-u.bottom,u,t)}function o(u,t){if(u.top>t.bottom){return true}if(u.bottom<t.top){return false}return j(t.bottom-u.top,u,t)}function r(u,t){return u.left<t.left}function p(u,t){return u.right>t.right}function i(u,t){if(l(u,t)){return -1}if(o(u,t)){return 1}if(r(u,t)){return -1}if(p(u,t)){return 1}return 0}function k(v,u,t){return(u>=v.left&&u<=v.right&&t>=v.top&&t<=v.bottom)}return{clone:n,collapse:q,isEqual:m,isAbove:l,isBelow:o,isLeft:r,isRight:p,compare:i,containsXY:k}});h("tinymce/text/ExtendingChar",[],function(){var j=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]");function i(k){return typeof k=="string"&&k.charCodeAt(0)>=768&&j.test(k)}return{isExtendingChar:i}});h("tinymce/caret/CaretPosition",["tinymce/util/Fun","tinymce/dom/NodeType","tinymce/dom/DOMUtils","tinymce/dom/RangeUtils","tinymce/caret/CaretCandidate","tinymce/geom/ClientRect","tinymce/text/ExtendingChar"],function(k,l,z,C,x,j,q){var v=l.isElement,s=x.isCaretCandidate,o=l.matchStyleValues("display","block table"),D=l.matchStyleValues("float","left right"),n=k.and(v,s,k.negate(D)),u=k.negate(l.matchStyleValues("white-space","pre pre-line pre-wrap")),r=l.isText,m=l.isBr,y=z.nodeIndex,w=C.getNode;function B(E){return"createRange" in E?E.createRange():z.DOM.createRng()}function p(E){return E&&/[\r\n\t ]/.test(E)}function A(F){var E=F.startContainer,H=F.startOffset,G;if(p(F.toString())&&u(E.parentNode)){G=E.data;if(p(G[H-1])||p(G[H+1])){return true}}return false}function t(I){var H=[],K,E;function G(S){var R=S.ownerDocument,P=B(R),O=R.createTextNode("\u00a0"),N=S.parentNode,Q;N.insertBefore(O,S);P.setStart(O,0);P.setEnd(O,1);Q=j.clone(P.getBoundingClientRect());N.removeChild(O);return Q}function F(O){var P,N;N=O.getClientRects();if(N.length>0){P=j.clone(N[0])}else{P=j.clone(O.getBoundingClientRect())}if(m(O)&&P.left===0){return G(O)}return P}function J(O,N){O=j.collapse(O,N);O.width=1;O.right=O.left+1;return O}function L(N){if(N.height===0){return}if(H.length>0){if(j.isEqual(N,H[H.length-1])){return}}H.push(N)}function M(N,P){var O=B(N.ownerDocument);if(P<N.data.length){if(q.isExtendingChar(N.data[P])){return H}if(q.isExtendingChar(N.data[P-1])){O.setStart(N,P);O.setEnd(N,P+1);if(!A(O)){L(J(F(O),false));return H}}}if(P>0){O.setStart(N,P-1);O.setEnd(N,P);if(!A(O)){L(J(F(O),false))}}if(P<N.data.length){O.setStart(N,P);O.setEnd(N,P+1);if(!A(O)){L(J(F(O),true))}}}if(r(I.container())){M(I.container(),I.offset());return H}if(v(I.container())){if(I.isAtEnd()){E=w(I.container(),I.offset());if(r(E)){M(E,E.data.length)}if(n(E)&&!m(E)){L(J(F(E),false))}}else{E=w(I.container(),I.offset());if(r(E)){M(E,0)}if(n(E)&&I.isAtEnd()){L(J(F(E),false));return H}K=w(I.container(),I.offset()-1);if(n(K)&&!m(K)){if(o(K)||o(E)||!n(E)){L(J(F(K),false))}}if(n(E)){L(J(F(E),true))}}}return H}function i(E,H,K){function J(){if(r(E)){return H===0}return H===0}function L(){if(r(E)){return H>=E.data.length}return H>=E.childNodes.length}function G(){var O;O=B(E.ownerDocument);O.setStart(E,H);O.setEnd(E,H);return O}function N(){if(!K){K=t(new i(E,H))}return K}function I(){return N().length>0}function M(O){return O&&E===O.container()&&H===O.offset()}function F(O){return w(E,O?H-1:H)}return{container:k.constant(E),offset:k.constant(H),toRange:G,getClientRects:N,isVisible:I,isAtStart:J,isAtEnd:L,isEqual:M,getNode:F}}i.fromRangeStart=function(E){return new i(E.startContainer,E.startOffset)};i.fromRangeEnd=function(E){return new i(E.endContainer,E.endOffset)};i.after=function(E){return new i(E.parentNode,y(E)+1)};i.before=function(E){return new i(E.parentNode,y(E))};return i});h("tinymce/caret/CaretBookmark",["tinymce/dom/NodeType","tinymce/dom/DOMUtils","tinymce/util/Fun","tinymce/util/Arr","tinymce/caret/CaretPosition"],function(n,A,m,p,i){var u=n.isText,t=n.isBogus,z=A.nodeIndex;function k(C){var B=C.parentNode;if(t(B)){return k(B)}return B}function q(B){if(!B){return[]}return p.reduce(B.childNodes,function(C,D){if(t(D)&&D.nodeName!="BR"){C=C.concat(q(D))}else{C.push(D)}return C},[])}function r(C,B){while((C=C.previousSibling)){if(!u(C)){break}B+=C.data.length}return B}function v(B){return function(C){return B===C}}function o(E){var B,C,D;B=q(k(E));C=p.findIndex(B,v(E),E);B=B.slice(0,C+1);D=p.reduce(B,function(F,H,G){if(u(H)&&u(B[G-1])){F++}return F},0);B=p.filter(B,n.matchNodeNames(E.nodeName));C=p.findIndex(B,v(E),E);return C-D}function y(C){var B;if(u(C)){B="text()"}else{B=C.nodeName.toLowerCase()}return B+"["+o(C)+"]"}function l(C,E,B){var D=[];for(E=E.parentNode;E!=C;E=E.parentNode){if(B&&B(E)){break}D.push(E)}return D}function s(D,G){var C,I,F=[],B,H,E;C=G.container();I=G.offset();if(u(C)){B=r(C,I)}else{H=C.childNodes;if(I>=H.length){B="after";I=H.length-1}else{B="before"}C=H[I]}F.push(y(C));E=l(D,C);E=p.filter(E,m.negate(n.isBogus));F=F.concat(p.map(E,function(J){return y(J)}));return F.reverse().join("/")+","+B}function w(E,D,C){var B=q(E);B=p.filter(B,function(G,F){return !u(G)||!u(B[F-1])});B=p.filter(B,n.matchNodeNames(D));return B[C]}function j(B,F){var D=B,E=0,C;while(u(D)){C=D.data.length;if(F>=E&&F<=E+C){B=D;F=F-E;break}if(!u(D.nextSibling)){B=D;F=C;break}E+=C;D=D.nextSibling}if(F>B.data.length){F=B.data.length}return new i(B,F)}function x(C,E){var D,B,F;if(!E){return null}D=E.split(",");E=D[0].split("/");F=D.length>1?D[1]:"before";B=p.reduce(E,function(G,H){H=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(H);if(!H){return null}if(H[1]==="text()"){H[1]="#text"}return w(G,H[1],parseInt(H[2],10))},C);if(!B){return null}if(!u(B)){if(F==="after"){F=z(B)+1}else{F=z(B)}return new i(B.parentNode,F)}return j(B,parseInt(F,10))}return{create:s,resolve:x}});h("tinymce/dom/BookmarkManager",["tinymce/Env","tinymce/util/Tools","tinymce/caret/CaretContainer","tinymce/caret/CaretBookmark","tinymce/caret/CaretPosition","tinymce/dom/NodeType"],function(j,m,n,p,i,l){var o=l.isContentEditableFalse;function k(q){var r=q.dom;this.getBookmark=function(D,F){var t,w,v,z,u,A,y="&#xFEFF;",G;function s(H,I){var J=0;m.each(r.select(H),function(K){if(K.getAttribute("data-mce-bogus")==="all"){return}if(K==I){return false}J++});return J}function E(H){function I(N){var J,M,L,K=N?"start":"end";J=H[K+"Container"];M=H[K+"Offset"];if(J.nodeType==1&&J.nodeName=="TR"){L=J.childNodes;J=L[Math.min(N?M:M-1,L.length-1)];if(J){M=N?0:J.childNodes.length;H["set"+(N?"Start":"End")](J,M)}}}I(true);I();return H}function x(I){var H=r.getRoot(),J={};function K(N,S){var M=N[S?"startContainer":"endContainer"],R=N[S?"startOffset":"endOffset"],L=[],O,Q,P=0;if(M.nodeType==3){if(F){for(O=M.previousSibling;O&&O.nodeType==3;O=O.previousSibling){R+=O.nodeValue.length}}L.push(R)}else{Q=M.childNodes;if(R>=Q.length&&Q.length){P=1;R=Math.max(0,Q.length-1)}L.push(r.nodeIndex(Q[R],F)+P)}for(;M&&M!=H;M=M.parentNode){L.push(r.nodeIndex(M,F))}return L}J.start=K(I,true);if(!q.isCollapsed()){J.end=K(I)}return J}function C(H){function I(K){var J;if(n.isCaretContainer(K)){if(l.isText(K)&&n.isCaretContainerBlock(K)){K=K.parentNode}J=K.previousSibling;if(o(J)){return J}J=K.nextSibling;if(o(J)){return J}}}return I(H.startContainer)||I(H.endContainer)}if(D==2){A=q.getNode();u=A?A.nodeName:null;t=q.getRng();if(o(A)||u=="IMG"){return{name:u,index:s(u,A)}}if(q.tridentSel){return q.tridentSel.getBookmark(D)}A=C(t);if(A){u=A.tagName;return{name:u,index:s(u,A)}}return x(t)}if(D==3){t=q.getRng();return{start:p.create(r.getRoot(),i.fromRangeStart(t)),end:p.create(r.getRoot(),i.fromRangeEnd(t))}}if(D){return{rng:q.getRng()}}t=q.getRng();v=r.uniqueId();z=q.isCollapsed();G="overflow:hidden;line-height:0px";if(t.duplicate||t.item){if(!t.item){w=t.duplicate();try{t.collapse();t.pasteHTML('<span data-mce-type="bookmark" id="'+v+'_start" style="'+G+'">'+y+"</span>");if(!z){w.collapse(false);t.moveToElementText(w.parentElement());if(t.compareEndPoints("StartToEnd",w)===0){w.move("character",-1)}w.pasteHTML('<span data-mce-type="bookmark" id="'+v+'_end" style="'+G+'">'+y+"</span>")}}catch(B){return null}}else{A=t.item(0);u=A.nodeName;return{name:u,index:s(u,A)}}}else{A=q.getNode();u=A.nodeName;if(u=="IMG"){return{name:u,index:s(u,A)}}w=E(t.cloneRange());if(!z){w.collapse(false);w.insertNode(r.create("span",{"data-mce-type":"bookmark",id:v+"_end",style:G},y))}t=E(t);t.collapse(true);t.insertNode(r.create("span",{"data-mce-type":"bookmark",id:v+"_start",style:G},y))}q.moveToBookmark({id:v,keep:1});return{id:v}};this.moveToBookmark=function(x){var s,B,u,C,y,z;function t(I){var D=x[I?"start":"end"],F,G,H,E;if(D){H=D[0];for(G=B,F=D.length-1;F>=1;F--){E=G.childNodes;if(D[F]>E.length-1){return}G=E[D[F]]}if(G.nodeType===3){H=Math.min(D[0],G.nodeValue.length)}if(G.nodeType===1){H=Math.min(D[0],G.childNodes.length)}if(I){s.setStart(G,H)}else{s.setEnd(G,H)}}return true}function v(J){var E=r.get(x.id+"_"+J),I,D,G,H,F=x.keep;if(E){I=E.parentNode;if(J=="start"){if(!F){D=r.nodeIndex(E)}else{I=E.firstChild;D=1}u=C=I;y=z=D}else{if(!F){D=r.nodeIndex(E)}else{I=E.firstChild;D=1}C=I;z=D}if(!F){H=E.previousSibling;G=E.nextSibling;m.each(m.grep(E.childNodes),function(K){if(K.nodeType==3){K.nodeValue=K.nodeValue.replace(/\uFEFF/g,"")}});while((E=r.get(x.id+"_"+J))){r.remove(E,1)}if(H&&G&&H.nodeType==G.nodeType&&H.nodeType==3&&!j.opera){D=H.nodeValue.length;H.appendData(G.nodeValue);r.remove(G);if(J=="start"){u=C=H;y=z=D}else{C=H;z=D}}}}}function w(D){if(r.isBlock(D)&&!D.innerHTML&&!j.ie){D.innerHTML='<br data-mce-bogus="1" />'}return D}function A(){var D,E;D=r.createRng();E=p.resolve(r.getRoot(),x.start);D.setStart(E.container(),E.offset());E=p.resolve(r.getRoot(),x.end);D.setEnd(E.container(),E.offset());return D}if(x){if(m.isArray(x.start)){s=r.createRng();B=r.getRoot();if(q.tridentSel){return q.tridentSel.moveToBookmark(x)}if(t(true)&&t()){q.setRng(s)}}else{if(typeof x.start=="string"){q.setRng(A(x))}else{if(x.id){v("start");v("end");if(u){s=r.createRng();s.setStart(w(u),y);s.setEnd(w(C),z);q.setRng(s)}}else{if(x.name){q.select(r.select(x.name)[x.index])}else{if(x.rng){q.setRng(x.rng)}}}}}}}}k.isBookmarkNode=function(q){return q&&q.tagName==="SPAN"&&q.getAttribute("data-mce-type")==="bookmark"};return k});h("tinymce/dom/Selection",["tinymce/dom/TreeWalker","tinymce/dom/TridentSelection","tinymce/dom/ControlSelection","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/dom/NodeType","tinymce/Env","tinymce/util/Tools","tinymce/caret/CaretPosition"],function(s,q,i,o,t,j,p,m,n){var r=m.each,l=m.trim;var k=p.ie;function u(z,y,x,w){var v=this;v.dom=z;v.win=y;v.serializer=x;v.editor=w;v.bookmarkManager=new t(v);v.controlSelection=new i(v,w);if(!v.win.getSelection){v.tridentSel=new q(v)}}u.prototype={setCursorLocation:function(x,y){var w=this,v=w.dom.createRng();if(!x){w._moveEndPoint(v,w.editor.getBody(),true);w.setRng(v)}else{v.setStart(x,y);v.setEnd(x,y);w.setRng(v);w.collapse(false)}},getContent:function(z){var x=this,w=x.getRng(),v=x.dom.create("body");var C=x.getSel(),B,A,y;z=z||{};B=A="";z.get=true;z.format=z.format||"html";z.selection=true;x.editor.fire("BeforeGetContent",z);if(z.format=="text"){return x.isCollapsed()?"":(w.text||(C.toString?C.toString():""))}if(w.cloneContents){y=w.cloneContents();if(y){v.appendChild(y)}}else{if(w.item!==g||w.htmlText!==g){v.innerHTML="<br>"+(w.item?w.item(0).outerHTML:w.htmlText);v.removeChild(v.firstChild)}else{v.innerHTML=w.toString()}}if(/^\s/.test(v.innerHTML)){B=" "}if(/\s+$/.test(v.innerHTML)){A=" "}z.getInner=true;z.content=x.isCollapsed()?"":B+x.serializer.serialize(v,z)+A;x.editor.fire("GetContent",z);return z.content},setContent:function(w,y){var D=this,v=D.getRng(),z,A=D.win.document,C,B;y=y||{format:"html"};y.set=true;y.selection=true;y.content=w;if(!y.no_events){D.editor.fire("BeforeSetContent",y)}w=y.content;if(v.insertNode){w+='<span id="__caret">_</span>';if(v.startContainer==A&&v.endContainer==A){A.body.innerHTML=w}else{v.deleteContents();if(A.body.childNodes.length===0){A.body.innerHTML=w}else{if(v.createContextualFragment){v.insertNode(v.createContextualFragment(w))}else{C=A.createDocumentFragment();B=A.createElement("div");C.appendChild(B);B.outerHTML=w;v.insertNode(C)}}}z=D.dom.get("__caret");v=A.createRange();v.setStartBefore(z);v.setEndBefore(z);D.setRng(v);D.dom.remove("__caret");try{D.setRng(v)}catch(x){}}else{if(v.item){A.execCommand("Delete",false,null);v=D.getRng()}if(/^\s+/.test(w)){v.pasteHTML('<span id="__mce_tmp">_</span>'+w);D.dom.remove("__mce_tmp")}else{v.pasteHTML(w)}}if(!y.no_events){D.editor.fire("SetContent",y)}},getStart:function(B){var x=this,w=x.getRng(),y,v,A,z;if(w.duplicate||w.item){if(w.item){return w.item(0)}A=w.duplicate();A.collapse(1);y=A.parentElement();if(y.ownerDocument!==x.dom.doc){y=x.dom.getRoot()}v=z=w.parentElement();while((z=z.parentNode)){if(z==y){y=v;break}}return y}y=w.startContainer;if(y.nodeType==1&&y.hasChildNodes()){if(!B||!w.collapsed){y=y.childNodes[Math.min(y.childNodes.length-1,w.startOffset)]}}if(y&&y.nodeType==3){return y.parentNode}return y},getEnd:function(z){var w=this,v=w.getRng(),y,x;if(v.duplicate||v.item){if(v.item){return v.item(0)}v=v.duplicate();v.collapse(0);y=v.parentElement();if(y.ownerDocument!==w.dom.doc){y=w.dom.getRoot()}if(y&&y.nodeName=="BODY"){return y.lastChild||y}return y}y=v.endContainer;x=v.endOffset;if(y.nodeType==1&&y.hasChildNodes()){if(!z||!v.collapsed){y=y.childNodes[x>0?x-1:x]}}if(y&&y.nodeType==3){return y.parentNode}return y},getBookmark:function(v,w){return this.bookmarkManager.getBookmark(v,w)},moveToBookmark:function(v){return this.bookmarkManager.moveToBookmark(v)},select:function(z,y){var x=this,A=x.dom,w=A.createRng(),v;x.lastFocusBookmark=null;if(z){if(!y&&x.controlSelection.controlSelect(z)){return}v=A.nodeIndex(z);w.setStart(z.parentNode,v);w.setEnd(z.parentNode,v+1);if(y){x._moveEndPoint(w,z,true);x._moveEndPoint(w,z)}x.setRng(w)}return z},isCollapsed:function(){var w=this,v=w.getRng(),x=w.getSel();if(!v||v.item){return false}if(v.compareEndPoints){return v.compareEndPoints("StartToEnd",v)===0}return !x||v.collapsed},collapse:function(x){var w=this,v=w.getRng(),y;if(v.item){y=v.item(0);v=w.win.document.body.createTextRange();v.moveToElementText(y)}v.collapse(!!x);w.setRng(v)},getSel:function(){var v=this.win;return v.getSelection?v.getSelection():v.document.selection},getRng:function(B){var F=this,D,v,z,C,x,E;function A(I,J,G){try{return J.compareBoundaryPoints(I,G)}catch(H){return -1}}if(!F.win){return null}C=F.win.document;if(!B&&F.lastFocusBookmark){var w=F.lastFocusBookmark;if(w.startContainer){v=C.createRange();v.setStart(w.startContainer,w.startOffset);v.setEnd(w.endContainer,w.endOffset)}else{v=w}return v}if(B&&F.tridentSel){return F.tridentSel.getRangeAt(0)}try{if((D=F.getSel())){if(D.rangeCount>0){v=D.getRangeAt(0)}else{v=D.createRange?D.createRange():C.createRange()}}}catch(y){}E=F.editor.fire("GetSelectionRange",{range:v});if(E.range!==v){return E.range}if(k&&v&&v.setStart&&C.selection){try{x=C.selection.createRange()}catch(y){}if(x&&x.item){z=x.item(0);v=C.createRange();v.setStartBefore(z);v.setEndAfter(z)}}if(!v){v=C.createRange?C.createRange():C.body.createTextRange()}if(v.setStart&&v.startContainer.nodeType===9&&v.collapsed){z=F.dom.getRoot();v.setStart(z,0);v.setEnd(z,0)}if(F.selectedRange&&F.explicitRange){if(A(v.START_TO_START,v,F.selectedRange)===0&&A(v.END_TO_END,v,F.selectedRange)===0){v=F.explicitRange}else{F.selectedRange=null;F.explicitRange=null}}return v},setRng:function(w,y){var x=this,B,A,v;if(!w){return}if(w.select){x.explicitRange=null;try{w.select()}catch(z){}return}if(!x.tridentSel){B=x.getSel();v=x.editor.fire("SetSelectionRange",{range:w});w=v.range;if(B){x.explicitRange=w;try{B.removeAllRanges();B.addRange(w)}catch(z){}if(y===false&&B.extend){B.collapse(w.endContainer,w.endOffset);B.extend(w.startContainer,w.startOffset)}x.selectedRange=B.rangeCount>0?B.getRangeAt(0):null}if(!w.collapsed&&w.startContainer==w.endContainer&&B.setBaseAndExtent&&!p.ie){if(w.endOffset-w.startOffset<2){if(w.startContainer.hasChildNodes()){A=w.startContainer.childNodes[w.startOffset];if(A&&A.tagName=="IMG"){x.getSel().setBaseAndExtent(A,0,A,1)}}}}}else{if(w.cloneRange){try{x.tridentSel.addRange(w)}catch(z){}}}},setNode:function(w){var v=this;v.setContent(v.dom.getOuterHTML(w));return w},getNode:function(){var C=this,v=C.getRng(),y;var w,D,z,A,B=C.dom.getRoot();function x(F,E){var G=F;while(F&&F.nodeType===3&&F.length===0){F=E?F.nextSibling:F.previousSibling}return F||G}if(!v){return B}w=v.startContainer;D=v.endContainer;z=v.startOffset;A=v.endOffset;if(v.setStart){y=v.commonAncestorContainer;if(!v.collapsed){if(w==D){if(A-z<2){if(w.hasChildNodes()){y=w.childNodes[z]}}}if(w.nodeType===3&&D.nodeType===3){if(w.length===z){w=x(w.nextSibling,true)}else{w=w.parentNode}if(A===0){D=x(D.previousSibling,false)}else{D=D.parentNode}if(w&&w===D){return w}}}if(y&&y.nodeType==3){return y.parentNode}return y}y=v.item?v.item(0):v.parentElement();if(y.ownerDocument!==C.win.document){y=B}return y},getSelectedBlocks:function(y,x){var w=this,C=w.dom,z,v,B=[];v=C.getRoot();y=C.getParent(y||w.getStart(),C.isBlock);x=C.getParent(x||w.getEnd(),C.isBlock);if(y&&y!=v){B.push(y)}if(y&&x&&y!=x){z=y;var A=new s(y,v);while((z=A.next())&&z!=x){if(C.isBlock(z)){B.push(z)}}}if(x&&y!=x&&x!=v){B.push(x)}return B},isForward:function(){var x=this.dom,v=this.getSel(),y,w;if(!v||!v.anchorNode||!v.focusNode){return true}y=x.createRng();y.setStart(v.anchorNode,v.anchorOffset);y.collapse(true);w=x.createRng();w.setStart(v.focusNode,v.focusOffset);w.collapse(true);return y.compareBoundaryPoints(y.START_TO_START,w)<=0},normalize:function(){var w=this,v=w.getRng();if(p.range&&new o(w.dom).normalize(v)){w.setRng(v,w.isForward())}return v},selectorChanged:function(v,y){var w=this,x;if(!w.selectorChangedData){w.selectorChangedData={};x={};w.editor.on("NodeChange",function(C){var B=C.element,D=w.dom,z=D.getParents(B,null,D.getRoot()),A={};r(w.selectorChangedData,function(F,E){r(z,function(G){if(D.is(G,E)){if(!x[E]){r(F,function(H){H(true,{node:G,selector:E,parents:z})});x[E]=F}A[E]=F;return false}})});r(x,function(F,E){if(!A[E]){delete x[E];r(F,function(G){G(false,{node:B,selector:E,parents:z})})}})})}if(!w.selectorChangedData[v]){w.selectorChangedData[v]=[]}w.selectorChangedData[v].push(y);return w},getScrollContainer:function(){var v,w=this.dom.getRoot();while(w&&w.nodeName!="BODY"){if(w.scrollHeight>w.clientHeight){v=w;break}w=w.parentNode}return v},scrollIntoView:function(A,E){var C,G,H=this,x=H.dom,D=x.getRoot(),v,F,z=0;function w(L){var I=0,K=0;var J=L;while(J&&J.nodeType){I+=J.offsetLeft||0;K+=J.offsetTop||0;J=J.offsetParent}return{x:I,y:K}}if(!j.isElement(A)){return}if(E===false){z=A.offsetHeight}if(D.nodeName!="BODY"){var B=H.getScrollContainer();if(B){C=w(A).y-w(B).y+z;F=B.clientHeight;v=B.scrollTop;if(C<v||C+25>v+F){B.scrollTop=C<v?C:C-F+25}return}}G=x.getViewPort(H.editor.getWin());C=x.getPos(A).y+z;v=G.y;F=G.h;if(C<G.y||C+25>v+F){H.editor.getWin().scrollTo(0,C<v?C:C-F+25)}},placeCaretAt:function(w,v){this.setRng(o.getCaretRangeFromPoint(w,v,this.editor.getDoc()))},_moveEndPoint:function(w,y,A){var v=y,z=new s(y,v);var x=this.dom.schema.getNonEmptyElements();do{if(y.nodeType==3&&l(y.nodeValue).length!==0){if(A){w.setStart(y,0)}else{w.setEnd(y,y.nodeValue.length)}return}if(x[y.nodeName]&&!/^(TD|TH)$/.test(y.nodeName)){if(A){w.setStartBefore(y)}else{if(y.nodeName=="BR"){w.setEndBefore(y)}else{w.setEndAfter(y)}}return}if(p.ie&&p.ie<11&&this.dom.isBlock(y)&&this.dom.isEmpty(y)){if(A){w.setStart(y,0)}else{w.setEnd(y,0)}return}}while((y=(A?z.next():z.prev())));if(v.nodeName=="BODY"){if(A){w.setStart(v,0)}else{w.setEnd(v,v.childNodes.length)}}},getBoundingClientRect:function(){var v=this.getRng();return v.collapsed?n.fromRangeStart(v).getClientRects()[0]:v.getBoundingClientRect()},destroy:function(){this.win=null;this.controlSelection.destroy()}};return u});h("tinymce/dom/ElementUtils",["tinymce/dom/BookmarkManager","tinymce/util/Tools"],function(i,k){var l=k.each;function j(m){this.compare=function(p,o){if(p.nodeName!=o.nodeName){return false}function n(r){var s={};l(m.getAttribs(r),function(t){var u=t.nodeName.toLowerCase();if(u.indexOf("_")!==0&&u!=="style"&&u.indexOf("data-")!==0){s[u]=m.getAttrib(r,u)}});return s}function q(u,t){var s,r;for(r in u){if(u.hasOwnProperty(r)){s=t[r];if(typeof s=="undefined"){return false}if(u[r]!=s){return false}delete t[r]}}for(r in t){if(t.hasOwnProperty(r)){return false}}return true}if(!q(n(p),n(o))){return false}if(!q(m.parseStyle(m.getAttrib(p,"style")),m.parseStyle(m.getAttrib(o,"style")))){return false}return !i.isBookmarkNode(p)&&!i.isBookmarkNode(o)}}return j});h("tinymce/fmt/Preview",["tinymce/util/Tools"],function(i){var k=i.each;function j(q,t){var m,n,p=q.dom;var l="",o,s;s=q.settings.preview_styles;if(s===false){return""}if(!s){s="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}function r(u){return u.replace(/%(\w+)/g,"")}if(typeof t=="string"){t=q.formatter.get(t);if(!t){return}t=t[0]}m=t.block||t.inline||"span";n=p.create(m);k(t.styles,function(v,u){v=r(v);if(v){p.setStyle(n,u,v)}});k(t.attributes,function(v,u){v=r(v);if(v){p.setAttrib(n,u,v)}});k(t.classes,function(u){u=r(u);if(!p.hasClass(n,u)){p.addClass(n,u)}});q.fire("PreviewFormats");p.setStyles(n,{position:"absolute",left:-65535});q.getBody().appendChild(n);o=p.getStyle(q.getBody(),"fontSize",true);o=/px$/.test(o)?parseInt(o,10):0;k(s.split(" "),function(u){var v=p.getStyle(n,u,true);if(u=="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(v)){v=p.getStyle(q.getBody(),u,true);if(p.toHex(v).toLowerCase()=="#ffffff"){return}}if(u=="color"){if(p.toHex(v).toLowerCase()=="#000000"){return}}if(u=="font-size"){if(/em|%$/.test(v)){if(o===0){return}v=parseFloat(v,10)/(/%$/.test(v)?100:1);v=(v*o)+"px"}}if(u=="border"&&v){l+="padding:0 2px;"}l+=u+":"+v+";"});q.fire("AfterPreviewFormats");p.remove(n);return l}return{getCssText:j}});h("tinymce/fmt/Hooks",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/dom/DomQuery"],function(p,i,o){var n=[],k=p.filter,m=p.each;function j(r,s){var q=n[r];if(!q){n[r]=q=[]}n[r].push(s)}function l(q,r){m(n[q],function(s){s(r)})}j("pre",function(u){var r=u.selection.getRng(),s,v;function t(w){return s(w.previousSibling)&&p.indexOf(v,w.previousSibling)!=-1}function q(x,w){o(w).remove();o(x).append("<br><br>").append(w.childNodes)}s=i.matchNodeNames("pre");if(!r.collapsed){v=u.selection.getSelectedBlocks();m(k(k(v,s),t),function(w){q(w.previousSibling,w)})}});return{postProcess:l}});h("tinymce/Formatter",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/dom/ElementUtils","tinymce/util/Tools","tinymce/fmt/Preview","tinymce/fmt/Hooks"],function(l,m,i,k,j,o,n){return function(ay){var aj={},q=ay.dom,K=ay.selection,ag=new m(q),s=ay.schema.isValidChild,aa=q.isBlock,D=ay.settings.forced_root_block,M=q.nodeIndex,Y="\uFEFF",t=/^(src|href|style)$/,at=false,U=true,ai,V,P=q.getContentEditable,Z,B,ad=i.isBookmarkNode;var am=j.each,aw=j.grep,H=j.walk,I=j.extend;function ab(az){if(az.nodeType){az=az.nodeName}return !!ay.schema.getTextBlockElements()[az.toLowerCase()]}function ao(az){return/^(TH|TD)$/.test(az.nodeName)}function ap(az){return az&&/^(IMG)$/.test(az.nodeName)}function E(aA,az){return q.getParents(aA,az,q.getRoot())}function p(az){return az.nodeType===1&&az.id==="_mce_caret"}function z(){C({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:false,classes:"align-left",ceFalseOverride:true},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:false,defaultBlock:"div"},{selector:"img,table",collapsed:false,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:false,defaultBlock:"div"},{selector:"figure.image",collapsed:false,classes:"align-center",ceFalseOverride:true},{selector:"img",collapsed:false,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:false,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure.image",collapsed:false,classes:"align-right",ceFalseOverride:true},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:false,defaultBlock:"div"},{selector:"img,table",collapsed:false,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:false,defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:true},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:true},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:true,remove_similar:true},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:true,remove_similar:true},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:true,deep:true,onmatch:function(){return true},onformat:function(aB,az,aA){am(aA,function(aD,aC){q.setAttrib(aB,aC,aD)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,variables,cite,mark,q,del,ins",remove:"all",split:true,expand:false,block_expand:true,deep:true},{selector:"span",attributes:["style","class"],remove:"empty",split:true,expand:false,deep:true},{selector:"*",attributes:["style","class"],split:false,expand:false,deep:true}]});am("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(az){C(az,{block:az,remove:"all"})});C(ay.settings.formats)}function ar(){ay.addShortcut("meta+b","bold_desc","Bold");ay.addShortcut("meta+i","italic_desc","Italic");ay.addShortcut("meta+u","underline_desc","Underline");for(var az=1;az<=6;az++){ay.addShortcut("access+"+az,"",["FormatBlock",false,"h"+az])}ay.addShortcut("access+7","",["FormatBlock",false,"p"]);ay.addShortcut("access+8","",["FormatBlock",false,"div"]);ay.addShortcut("access+9","",["FormatBlock",false,"address"])}function aq(az){return az?aj[az]:aj}function C(az,aA){if(az){if(typeof az!=="string"){am(az,function(aC,aB){C(aB,aC)})}else{aA=aA.length?aA:[aA];am(aA,function(aB){if(aB.deep===V){aB.deep=!aB.selector}if(aB.split===V){aB.split=!aB.selector||aB.inline}if(aB.remove===V&&aB.selector&&!aB.inline){aB.remove="none"}if(aB.selector&&aB.inline){aB.mixed=true;aB.block_expand=true}if(typeof aB.classes==="string"){aB.classes=aB.classes.split(/\s+/)}});aj[az]=aA}}}function Q(az){if(az&&aj[az]){delete aj[az]}return aj}function y(aB,az){var aC=aq(az);if(aC){for(var aA=0;aA<aC.length;aA++){if(aC[aA].inherit===false&&q.is(aB,aC[aA].selector)){return true}}}return false}function x(aA){var az;ay.dom.getParent(aA,function(aB){az=ay.dom.getStyle(aB,"text-decoration");return az&&az!=="none"});return az}function ae(az){var aA;if(az.nodeType===1&&az.parentNode&&az.parentNode.nodeType===1){aA=x(az.parentNode);if(ay.dom.getStyle(az,"color")&&aA){ay.dom.setStyle(az,"text-decoration",aA)}else{if(ay.dom.getStyle(az,"text-decoration")===aA){ay.dom.setStyle(az,"text-decoration",null)}}}}function av(aB,aJ,aD){var aF=aq(aB),aK=aF[0],aI,aA,aH=!aD&&K.isCollapsed();function az(aP,aN){aN=aN||aK;if(aP){if(aN.onformat){aN.onformat(aP,aN,aJ,aD)}am(aN.styles,function(aR,aQ){q.setStyle(aP,aQ,J(aR,aJ))});if(aN.styles){var aO=q.getAttrib(aP,"style");if(aO){aP.setAttribute("data-mce-style",aO)}}am(aN.attributes,function(aR,aQ){q.setAttrib(aP,aQ,J(aR,aJ))});am(aN.classes,function(aQ){aQ=J(aQ,aJ);if(!q.hasClass(aP,aQ)){q.addClass(aP,aQ)}})}}function aC(){function aP(aV,aT){var aU=new l(aT);for(aD=aU.prev2();aD;aD=aU.prev2()){if(aD.nodeType==3&&aD.data.length>0){return aD}if(aD.childNodes.length>1||aD==aV||aD.tagName=="BR"){return aD}}}var aO=ay.selection.getRng();var aS=aO.startContainer;var aN=aO.endContainer;if(aS!=aN&&aO.endOffset===0){var aR=aP(aS,aN);var aQ=aR.nodeType==3?aR.data.length:aR.childNodes.length;aO.setEnd(aR,aQ)}return aO}function aL(aO,aQ,aT){var aN=[],aS,aP,aR=true;aS=aK.inline||aK.block;aP=q.create(aS);az(aP);ag.walk(aO,function(aU){var aV;function aW(aX){var a2,a0,aY,aZ,a1;a1=aR;a2=aX.nodeName.toLowerCase();a0=aX.parentNode.nodeName.toLowerCase();if(aX.nodeType===1&&P(aX)){a1=aR;aR=P(aX)==="true";aZ=true}if(v(a2,"br")){aV=0;if(aK.block){q.remove(aX)}return}if(aK.wrapper&&R(aX,aB,aJ)){aV=0;return}if(aR&&!aZ&&aK.block&&!aK.wrapper&&ab(a2)&&s(a0,aS)){aX=q.rename(aX,aS);az(aX);aN.push(aX);aV=0;return}if(aK.selector){am(aF,function(a3){if("collapsed" in a3&&a3.collapsed!==aH){return}if(q.is(aX,a3.selector)&&!p(aX)){az(aX,a3);aY=true;return false}});if(!aK.inline||aY){aV=0;return}}if(aR&&!aZ&&s(aS,a2)&&s(a0,aS)&&!(!aT&&aX.nodeType===3&&aX.nodeValue.length===1&&aX.nodeValue.charCodeAt(0)===65279)&&!p(aX)&&(!aK.inline||!aa(aX))){if(!aV){aV=q.clone(aP,at);aX.parentNode.insertBefore(aV,aX);aN.push(aV)}aV.appendChild(aX)}else{aV=0;am(aw(aX.childNodes),aW);if(aZ){aR=a1}aV=0}}am(aU,aW)});if(aK.links===true){am(aN,function(aU){function aV(aW){if(aW.nodeName==="A"){az(aW,aK)}am(aw(aW.childNodes),aV)}aV(aU)})}am(aN,function(aW){var aU;function aX(aZ){var aY=0;am(aZ.childNodes,function(a0){if(!u(a0)&&!ad(a0)){aY++}});return aY}function aV(aY){var a0,aZ;am(aY.childNodes,function(a1){if(a1.nodeType==1&&!ad(a1)&&!p(a1)){a0=a1;return at}});if(a0&&!ad(a0)&&w(a0,aK)){aZ=q.clone(a0,at);az(aZ);q.replace(aZ,aY,U);q.remove(a0,1)}return aZ||aY}aU=aX(aW);if((aN.length>1||!aa(aW))&&aU===0){q.remove(aW,1);return}if(aK.inline||aK.wrapper){if(!aK.exact&&aU===1){aW=aV(aW)}am(aF,function(aY){am(q.select(aY.inline,aW),function(aZ){if(ad(aZ)){return}ax(aY,aJ,aZ,aY.exact?aZ:null)})});if(R(aW.parentNode,aB,aJ)){q.remove(aW,1);aW=0;return U}if(aK.merge_with_parents){q.getParent(aW.parentNode,function(aY){if(R(aY,aB,aJ)){q.remove(aW,1);aW=0;return U}})}if(aW&&aK.merge_siblings!==false){aW=N(W(aW),aW);aW=N(aW,W(aW,U))}}})}if(P(K.getNode())==="false"){aD=K.getNode();for(var aG=0,aE=aF.length;aG<aE;aG++){if(aF[aG].ceFalseOverride&&q.is(aD,aF[aG].selector)){az(aD,aF[aG]);return}}return}if(aK){if(aD){if(aD.nodeType){aA=q.createRng();aA.setStartBefore(aD);aA.setEndAfter(aD);aL(G(aA,aF),null,true)}else{aL(aD,null,true)}}else{if(!aH||!aK.inline||q.select("td[data-mce-selected],th[data-mce-selected]").length){var aM=ay.selection.getNode();if(!D&&aF[0].defaultBlock&&!q.getParent(aM,q.isBlock)){av(aF[0].defaultBlock)}ay.selection.setRng(aC());aI=K.getBookmark();aL(G(K.getRng(U),aF),aI);if(aK.styles&&(aK.styles.color||aK.styles.textDecoration)){H(aM,ae,"childNodes");ae(aM)}K.moveToBookmark(aI);ak(K.getRng(U));ay.nodeChanged()}else{an("apply",aB,aJ)}}n.postProcess(aB,ay)}}function T(aB,aM,aD,aH){var aF=aq(aB),aO=aF[0],aK,aA,aL=true;function aC(aT){var aS,aR,aQ,aV,aU;if(aT.nodeType===1&&P(aT)){aV=aL;aL=P(aT)==="true";aU=true}aS=aw(aT.childNodes);if(aL&&!aU){for(aR=0,aQ=aF.length;aR<aQ;aR++){if(ax(aF[aR],aM,aT,aT)){break}}}if(aO.deep){if(aS.length){for(aR=0,aQ=aS.length;aR<aQ;aR++){aC(aS[aR])}if(aU){aL=aV}}}}function aG(aQ){var aR;am(E(aQ.parentNode).reverse(),function(aS){var aT;if(!aR&&aS.id!="_start"&&aS.id!="_end"){aT=R(aS,aB,aM,aH);if(aT&&aT.split!==false){aR=aS}}});return aR}function az(aU,aQ,aV,aY){var aZ,aX,aW,aS,aT,aR;if(aU){aR=aU.parentNode;for(aZ=aQ.parentNode;aZ&&aZ!=aR;aZ=aZ.parentNode){aX=q.clone(aZ,at);for(aT=0;aT<aF.length;aT++){if(ax(aF[aT],aM,aX,aX)){aX=0;break}}if(aX){if(aW){aX.appendChild(aW)}if(!aS){aS=aX}aW=aX}}if(aY&&(!aO.mixed||!aa(aU))){aQ=q.split(aU,aQ)}if(aW){aV.parentNode.insertBefore(aW,aV);aS.appendChild(aV)}}return aQ}function aN(aQ){return az(aG(aQ),aQ,aQ,true)}function aJ(aS){var aR=q.get(aS?"_start":"_end"),aQ=aR[aS?"firstChild":"lastChild"];if(ad(aQ)){aQ=aQ[aS?"firstChild":"lastChild"]}if(aQ.nodeType==3&&aQ.data.length===0){aQ=aS?aR.previousSibling||aR.nextSibling:aR.nextSibling||aR.previousSibling}q.remove(aR,true);return aQ}function aP(aQ){var aR,aS;var aT=aQ.commonAncestorContainer;aQ=G(aQ,aF,U);if(aO.split){aR=af(aQ,U);aS=af(aQ);if(aR!=aS){if(/^(TR|TH|TD)$/.test(aR.nodeName)&&aR.firstChild){if(aR.nodeName=="TR"){aR=aR.firstChild.firstChild||aR}else{aR=aR.firstChild||aR}}if(aT&&/^T(HEAD|BODY|FOOT|R)$/.test(aT.nodeName)&&ao(aS)&&aS.firstChild){aS=aS.firstChild||aS}if(q.isChildOf(aR,aS)&&!aa(aS)&&!ao(aR)&&!ao(aS)){aR=al(aR,"span",{id:"_start","data-mce-type":"bookmark"});aN(aR);aR=aJ(U);return}aR=al(aR,"span",{id:"_start","data-mce-type":"bookmark"});aS=al(aS,"span",{id:"_end","data-mce-type":"bookmark"});aN(aR);aN(aS);aR=aJ(U);aS=aJ()}else{aR=aS=aN(aR)}aQ.startContainer=aR.parentNode?aR.parentNode:aR;aQ.startOffset=M(aR);aQ.endContainer=aS.parentNode?aS.parentNode:aS;aQ.endOffset=M(aS)+1}ag.walk(aQ,function(aU){am(aU,function(aV){aC(aV);if(aV.nodeType===1&&ay.dom.getStyle(aV,"text-decoration")==="underline"&&aV.parentNode&&x(aV.parentNode)==="underline"){ax({deep:false,exact:true,inline:"span",styles:{textDecoration:"underline"}},null,aV)}})})}if(aD){if(aD.nodeType){aA=q.createRng();aA.setStartBefore(aD);aA.setEndAfter(aD);aP(aA)}else{aP(aD)}return}if(P(K.getNode())==="false"){aD=K.getNode();for(var aI=0,aE=aF.length;aI<aE;aI++){if(aF[aI].ceFalseOverride){if(ax(aF[aI],aM,aD,aD)){break}}}return}if(!K.isCollapsed()||!aO.inline||q.select("td[data-mce-selected],th[data-mce-selected]").length){aK=K.getBookmark();aP(K.getRng(U));K.moveToBookmark(aK);if(aO.inline&&A(aB,aM,K.getStart())){ak(K.getRng(true))}ay.nodeChanged()}else{an("remove",aB,aM,aH)}}function X(aA,aC,aB){var az=aq(aA);if(A(aA,aC,aB)&&(!("toggle" in az[0])||az[0].toggle)){T(aA,aC,aB)}else{av(aA,aC,aB)}}function R(aA,az,aF,aD){var aB=aq(az),aG,aE,aC;function aH(aL,aN,aO){var aK,aM,aI=aN[aO],aJ;if(aN.onmatch){return aN.onmatch(aL,aN,aO)}if(aI){if(aI.length===V){for(aK in aI){if(aI.hasOwnProperty(aK)){if(aO==="attributes"){aM=q.getAttrib(aL,aK)}else{aM=ah(aL,aK)}if(aD&&!aM&&!aN.exact){return}if((!aD||aN.exact)&&!v(aM,L(J(aI[aK],aF),aK))){return}}}}else{for(aJ=0;aJ<aI.length;aJ++){if(aO==="attributes"?q.getAttrib(aL,aI[aJ]):ah(aL,aI[aJ])){return aN}}}}return aN}if(aB&&aA){for(aE=0;aE<aB.length;aE++){aG=aB[aE];if(w(aA,aG)&&aH(aA,aG,"attributes")&&aH(aA,aG,"styles")){if((aC=aG.classes)){for(aE=0;aE<aC.length;aE++){if(!q.hasClass(aA,aC[aE])){return}}}return aG}}}}function A(aB,aD,aC){var aA;function az(aF){var aE=q.getRoot();if(aF===aE){return false}aF=q.getParent(aF,function(aG){if(y(aG,aB)){return true}return aG.parentNode===aE||!!R(aG,aB,aD,true)});return R(aF,aB,aD)}if(aC){return az(aC)}aC=K.getNode();if(az(aC)){return U}aA=K.getStart();if(aA!=aC){if(az(aA)){return U}}return at}function O(aD,aC){var aA,aB=[],az={};aA=K.getStart();q.getParent(aA,function(aG){var aF,aE;for(aF=0;aF<aD.length;aF++){aE=aD[aF];if(!az[aE]&&R(aG,aE,aC)){az[aE]=true;aB.push(aE)}}},q.getRoot());return aB}function S(aD){var aF=aq(aD),aC,aB,aE,aA,az;if(aF){aC=K.getStart();aB=E(aC);for(aA=aF.length-1;aA>=0;aA--){az=aF[aA].selector;if(!az||aF[aA].defaultBlock){return U}for(aE=aB.length-1;aE>=0;aE--){if(q.is(aB[aE],az)){return U}}}}return at}function ac(az,aC,aA){var aB;if(!ai){ai={};aB={};ay.on("NodeChange",function(aE){var aD=E(aE.element),aF={};aD=j.grep(aD,function(aG){return aG.nodeType==1&&!aG.getAttribute("data-mce-bogus")});am(ai,function(aG,aH){am(aD,function(aI){if(R(aI,aH,{},aG.similar)){if(!aB[aH]){am(aG,function(aJ){aJ(true,{node:aI,format:aH,parents:aD})});aB[aH]=aG}aF[aH]=aG;return false}if(y(aI,aH)){return false}})});am(aB,function(aG,aH){if(!aF[aH]){delete aB[aH];am(aG,function(aI){aI(false,{node:aE.element,format:aH,parents:aD})})}})})}am(az.split(","),function(aD){if(!ai[aD]){ai[aD]=[];ai[aD].similar=aA}ai[aD].push(aC)});return this}function au(az){return o.getCssText(ay,az)}I(this,{get:aq,register:C,unregister:Q,apply:av,remove:T,toggle:X,match:A,matchAll:O,matchNode:R,canApply:S,formatChanged:ac,getCssText:au});z();ar();ay.on("BeforeGetContent",function(az){if(B&&az.format!="raw"){B()}});ay.on("mouseup keydown",function(az){if(Z){Z(az)}});function w(az,aA){if(v(az,aA.inline)){return U}if(v(az,aA.block)){return U}if(aA.selector){return az.nodeType==1&&q.is(az,aA.selector)}}function v(aA,az){aA=aA||"";az=az||"";aA=""+(aA.nodeName||aA);az=""+(az.nodeName||az);return aA.toLowerCase()==az.toLowerCase()}function ah(aA,az){return L(q.getStyle(aA,az),az)}function L(aA,az){if(az=="color"||az=="backgroundColor"){aA=q.toHex(aA)}if(az=="fontWeight"&&aA==700){aA="bold"}if(az=="fontFamily"){aA=aA.replace(/[\'\"]/g,"").replace(/,\s+/g,",")}return""+aA}function J(az,aA){if(typeof az!="string"){az=az(aA)}else{if(aA){az=az.replace(/%(\w+)/g,function(aC,aB){return aA[aB]||aC})}}return az}function u(az){return az&&az.nodeType===3&&/^([\t \r\n]+|)$/.test(az.nodeValue)}function al(aB,aA,az){var aC=q.create(aA,az);aB.parentNode.insertBefore(aC,aB);aC.appendChild(aB);return aC}function G(az,aK,aC){var aL,aF,aJ,aB=az.startContainer,aG=az.startOffset,aO=az.endContainer,aI=az.endOffset;function aM(aV){var aQ,aT,aS,aR,aP;aQ=aT=aV?aB:aO;aR=aV?"previousSibling":"nextSibling";aP=q.getRoot();function aU(aW){return aW.nodeName=="BR"&&aW.getAttribute("data-mce-bogus")&&!aW.nextSibling}if(aQ.nodeType==3&&!u(aQ)){if(aV?aG>0:aI<aQ.nodeValue.length){return aQ}}while(true){if(!aK[0].block_expand&&aa(aT)){return aT}for(aS=aT[aR];aS;aS=aS[aR]){if(!ad(aS)&&!u(aS)&&!aU(aS)){return aT}}if(aT==aP||aT.parentNode==aP){aQ=aT;break}aT=aT.parentNode}return aQ}function aE(aP,aQ){if(aQ===V){aQ=aP.nodeType===3?aP.length:aP.childNodes.length}while(aP&&aP.hasChildNodes()){aP=aP.childNodes[aQ];if(aP){aQ=aP.nodeType===3?aP.length:aP.childNodes.length}}return{node:aP,offset:aQ}}if(aB.nodeType==1&&aB.hasChildNodes()){aL=aB.childNodes.length-1;aB=aB.childNodes[aG>aL?aL:aG];if(aB.nodeType==3){aG=0}}if(aO.nodeType==1&&aO.hasChildNodes()){aL=aO.childNodes.length-1;aO=aO.childNodes[aI>aL?aL:aI-1];if(aO.nodeType==3){aI=aO.nodeValue.length}}function aN(aQ){var aP=aQ;while(aP){if(aP.nodeType===1&&P(aP)){return P(aP)==="false"?aP:aQ}aP=aP.parentNode}return aQ}function aH(aQ,aU,aW){var aT,aR,aV,aP;function aS(aY,a0){var a1,aX,aZ=aY.nodeValue;if(typeof a0=="undefined"){a0=aW?aZ.length:0}if(aW){a1=aZ.lastIndexOf(" ",a0);aX=aZ.lastIndexOf("\u00a0",a0);a1=a1>aX?a1:aX;if(a1!==-1&&!aC){a1++}}else{a1=aZ.indexOf(" ",a0);aX=aZ.indexOf("\u00a0",a0);a1=a1!==-1&&(aX===-1||a1<aX)?a1:aX}return a1}if(aQ.nodeType===3){aV=aS(aQ,aU);if(aV!==-1){return{container:aQ,offset:aV}}aP=aQ}aT=new l(aQ,q.getParent(aQ,aa)||ay.getBody());while((aR=aT[aW?"prev":"next"]())){if(aR.nodeType===3){aP=aR;aV=aS(aR);if(aV!==-1){return{container:aR,offset:aV}}}else{if(aa(aR)){break}}}if(aP){if(aW){aU=0}else{aU=aP.length}return{container:aP,offset:aU}}}function aD(aQ,aP){var aR,aS,aU,aT;if(aQ.nodeType==3&&aQ.nodeValue.length===0&&aQ[aP]){aQ=aQ[aP]}aR=E(aQ);for(aS=0;aS<aR.length;aS++){for(aU=0;aU<aK.length;aU++){aT=aK[aU];if("collapsed" in aT&&aT.collapsed!==az.collapsed){continue}if(q.is(aR[aS],aT.selector)){return aR[aS]}}}return aQ}function aA(aR,aP){var aS,aQ=q.getRoot();if(!aK[0].wrapper){aS=q.getParent(aR,aK[0].block,aQ)}if(!aS){aS=q.getParent(aR.nodeType==3?aR.parentNode:aR,function(aT){return aT!=aQ&&ab(aT)})}if(aS&&aK[0].wrapper){aS=E(aS,"ul,ol").reverse()[0]||aS}if(!aS){aS=aR;while(aS[aP]&&!aa(aS[aP])){aS=aS[aP];if(v(aS,"br")){break}}}return aS||aR}aB=aN(aB);aO=aN(aO);if(ad(aB.parentNode)||ad(aB)){aB=ad(aB)?aB:aB.parentNode;aB=aB.nextSibling||aB;if(aB.nodeType==3){aG=0}}if(ad(aO.parentNode)||ad(aO)){aO=ad(aO)?aO:aO.parentNode;aO=aO.previousSibling||aO;if(aO.nodeType==3){aI=aO.length}}if(aK[0].inline){if(az.collapsed){aJ=aH(aB,aG,true);if(aJ){aB=aJ.container;aG=aJ.offset}aJ=aH(aO,aI);if(aJ){aO=aJ.container;aI=aJ.offset}}aF=aE(aO,aI);if(aF.node){while(aF.node&&aF.offset===0&&aF.node.previousSibling){aF=aE(aF.node.previousSibling)}if(aF.node&&aF.offset>0&&aF.node.nodeType===3&&aF.node.nodeValue.charAt(aF.offset-1)===" "){if(aF.offset>1){aO=aF.node;aO.splitText(aF.offset-1)}}}}if(aK[0].inline||aK[0].block_expand){if(!aK[0].inline||(aB.nodeType!=3||aG===0)){aB=aM(true)}if(!aK[0].inline||(aO.nodeType!=3||aI===aO.nodeValue.length)){aO=aM()}}if(aK[0].selector&&aK[0].expand!==at&&!aK[0].inline){aB=aD(aB,"previousSibling");aO=aD(aO,"nextSibling")}if(aK[0].block||aK[0].selector){aB=aA(aB,"previousSibling");aO=aA(aO,"nextSibling");if(aK[0].block){if(!aa(aB)){aB=aM(true)}if(!aa(aO)){aO=aM()}}}if(aB.nodeType==1){aG=M(aB);aB=aB.parentNode}if(aO.nodeType==1){aI=M(aO)+1;aO=aO.parentNode}return{startContainer:aB,startOffset:aG,endContainer:aO,endOffset:aI}}function r(az,aA){return aA.links&&az.tagName=="A"}function ax(aG,aF,aD,az){var aC,aA,aE;if(!w(aD,aG)&&!r(aD,aG)){return at}if(aG.remove!="all"){am(aG.styles,function(aI,aH){aI=L(J(aI,aF),aH);if(typeof aH==="number"){aH=aI;az=0}if(aG.remove_similar||(!az||v(ah(az,aH),aI))){q.setStyle(aD,aH,"")}aE=1});if(aE&&q.getAttrib(aD,"style")===""){aD.removeAttribute("style");aD.removeAttribute("data-mce-style")}am(aG.attributes,function(aJ,aH){var aI;aJ=J(aJ,aF);if(typeof aH==="number"){aH=aJ;az=0}if(!az||v(q.getAttrib(az,aH),aJ)){if(aH=="class"){aJ=q.getAttrib(aD,aH);if(aJ){aI="";am(aJ.split(/\s+/),function(aK){if(/mce\-\w+/.test(aK)){aI+=(aI?" ":"")+aK}});if(aI){q.setAttrib(aD,aH,aI);return}}}if(aH=="class"){aD.removeAttribute("className")}if(t.test(aH)){aD.removeAttribute("data-mce-"+aH)}aD.removeAttribute(aH)}});am(aG.classes,function(aH){aH=J(aH,aF);if(!az||q.hasClass(az,aH)){q.removeClass(aD,aH)}});aA=q.getAttribs(aD);for(aC=0;aC<aA.length;aC++){var aB=aA[aC].nodeName;if(aB.indexOf("_")!==0&&aB.indexOf("data-")!==0){return at}}}if(aG.remove!="none"){F(aD,aG);return U}}function F(aB,aC){var az=aB.parentNode,aA;function aD(aF,aE,aG){aF=W(aF,aE,aG);return !aF||(aF.nodeName=="BR"||aa(aF))}if(aC.block){if(!D){if(aa(aB)&&!aa(az)){if(!aD(aB,at)&&!aD(aB.firstChild,U,1)){aB.insertBefore(q.create("br"),aB.firstChild)}if(!aD(aB,U)&&!aD(aB.lastChild,at,1)){aB.appendChild(q.create("br"))}}}else{if(az==q.getRoot()){if(!aC.list_block||!v(aB,aC.list_block)){am(aw(aB.childNodes),function(aE){if(s(D,aE.nodeName.toLowerCase())){if(!aA){aA=al(aE,D);q.setAttribs(aA,ay.settings.forced_root_block_attrs)}else{aA.appendChild(aE)}}else{aA=0}})}}}}if(aC.selector&&aC.inline&&!v(aC.inline,aB)){return}q.remove(aB,1)}function W(aA,az,aB){if(aA){az=az?"nextSibling":"previousSibling";for(aA=aB?aA:aA[az];aA;aA=aA[az]){if(aA.nodeType==1||!u(aA)){return aA}}}}function N(aD,aC){var aB,aA,az=new k(q);function aE(aG,aF){for(aB=aG;aB;aB=aB[aF]){if(aB.nodeType==3&&aB.nodeValue.length!==0){return aG}if(aB.nodeType==1&&!ad(aB)){return aB}}return aG}if(aD&&aC){aD=aE(aD,"previousSibling");aC=aE(aC,"nextSibling");if(az.compare(aD,aC)){for(aB=aD.nextSibling;aB&&aB!=aC;){aA=aB;aB=aB.nextSibling;aD.appendChild(aA)}q.remove(aC);am(aw(aC.childNodes),function(aF){aD.appendChild(aF)});return aD}}return aC}function af(aA,aD){var az,aC,aB;az=aA[aD?"startContainer":"endContainer"];aC=aA[aD?"startOffset":"endOffset"];if(az.nodeType==1){aB=az.childNodes.length-1;if(!aD&&aC){aC--}az=az.childNodes[aC>aB?aB:aC]}if(az.nodeType===3&&aD&&aC>=az.nodeValue.length){az=new l(az,ay.getBody()).next()||az}if(az.nodeType===3&&!aD&&aC===0){az=new l(az,ay.getBody()).prev()||az}return az}function an(aJ,az,aH,aD){var aK="_mce_caret",aA=ay.settings.caret_debug;function aB(aO){var aN=q.create("span",{id:aK,"data-mce-bogus":true,style:aA?"color:red":""});if(aO){aN.appendChild(ay.getDoc().createTextNode(Y))}return aN}function aI(aO,aN){while(aO){if((aO.nodeType===3&&aO.nodeValue!==Y)||aO.childNodes.length>1){return false}if(aN&&aO.nodeType===1){aN.push(aO)}aO=aO.firstChild}return true}function aF(aN){while(aN){if(aN.id===aK){return aN}aN=aN.parentNode}}function aE(aN){var aO;if(aN){aO=new l(aN,aN);for(aN=aO.current();aN;aN=aO.next()){if(aN.nodeType===3){return aN}}}}function aC(aP,aO){var aQ,aN;if(!aP){aP=aF(K.getStart());if(!aP){while((aP=q.get(aK))){aC(aP,false)}}}else{aN=K.getRng(true);if(aI(aP)){if(aO!==false){aN.setStartBefore(aP);aN.setEndBefore(aP)}q.remove(aP)}else{aQ=aE(aP);if(aQ.nodeValue.charAt(0)===Y){aQ.deleteData(0,1);if(aN.startContainer==aQ&&aN.startOffset>0){aN.setStart(aQ,aN.startOffset-1)}if(aN.endContainer==aQ&&aN.endOffset>0){aN.setEnd(aQ,aN.endOffset-1)}}q.remove(aP,1)}K.setRng(aN)}}function aG(){var aP,aN,aT,aS,aQ,aO,aR;aP=K.getRng(true);aS=aP.startOffset;aO=aP.startContainer;aR=aO.nodeValue;aN=aF(K.getStart());if(aN){aT=aE(aN)}if(aR&&aS>0&&aS<aR.length&&/\w/.test(aR.charAt(aS))&&/\w/.test(aR.charAt(aS-1))){aQ=K.getBookmark();aP.collapse(true);aP=G(aP,aq(az));aP=ag.split(aP);av(az,aH,aP);K.moveToBookmark(aQ)}else{if(!aN||aT.nodeValue!==Y){aN=aB(true);aT=aN.firstChild;aP.insertNode(aN);aS=1;av(az,aH,aN)}else{av(az,aH,aN)}K.setCursorLocation(aT,aS)}}function aL(){var aN=K.getRng(true),aO,aR,aU,aT,aP,aX,aW=[],aS,aV;aO=aN.startContainer;aR=aN.startOffset;aP=aO;if(aO.nodeType==3){if(aR!=aO.nodeValue.length){aT=true}aP=aP.parentNode}while(aP){if(R(aP,az,aH,aD)){aX=aP;break}if(aP.nextSibling){aT=true}aW.push(aP);aP=aP.parentNode}if(!aX){return}if(aT){aU=K.getBookmark();aN.collapse(true);aN=G(aN,aq(az),true);aN=ag.split(aN);T(az,aH,aN);K.moveToBookmark(aU)}else{aV=aB();aP=aV;for(aS=aW.length-1;aS>=0;aS--){aP.appendChild(q.clone(aW[aS],false));aP=aP.firstChild}aP.appendChild(q.doc.createTextNode(Y));aP=aP.firstChild;var aQ=q.getParent(aX,ab);if(aQ&&q.isEmpty(aQ)){aX.parentNode.replaceChild(aV,aX)}else{q.insertAfter(aV,aX)}K.setCursorLocation(aP,1);if(q.isEmpty(aX)){q.remove(aX)}}}function aM(){var aN;aN=aF(K.getStart());if(aN&&!q.isEmpty(aN)){H(aN,function(aO){if(aO.nodeType==1&&aO.id!==aK&&!q.isEmpty(aO)){q.setAttrib(aO,"data-mce-bogus",null)}},"childNodes")}}if(!ay._hasCaretEvents){B=function(){var aN=[],aO;if(aI(aF(K.getStart()),aN)){aO=aN.length;while(aO--){q.setAttrib(aN[aO],"data-mce-bogus","1")}}};Z=function(aO){var aN=aO.keyCode;aC();if(aN==8&&K.isCollapsed()&&K.getStart().innerHTML==Y){aC(aF(K.getStart()))}if(aN==37||aN==39){aC(aF(K.getStart()))}aM()};ay.on("SetContent",function(aN){if(aN.selection){aM()}});ay._hasCaretEvents=true}if(aJ=="apply"){aG()}else{aL()}}function ak(aA){var az=aA.startContainer,aG=aA.startOffset,aC,aF,aE,aB,aD;if(aA.startContainer==aA.endContainer){if(ap(aA.startContainer.childNodes[aA.startOffset])){return}}if(az.nodeType==3&&aG>=az.nodeValue.length){aG=M(az);az=az.parentNode;aC=true}if(az.nodeType==1){aB=az.childNodes;az=aB[Math.min(aG,aB.length-1)];aF=new l(az,q.getParent(az,q.isBlock));if(aG>aB.length-1||aC){aF.next()}for(aE=aF.current();aE;aE=aF.next()){if(aE.nodeType==3&&!u(aE)){aD=q.create("a",{"data-mce-bogus":"all"},Y);aE.parentNode.insertBefore(aD,aE);aA.setStart(aE,0);K.setRng(aA);q.remove(aD);return}}}}}});h("tinymce/UndoManager",["tinymce/util/VK","tinymce/Env"],function(j,i){return function(p){var t=this,q=0,m=[],n,r,s=0;function k(){return p.serializer.getTrimmedContent()}function o(u){p.setDirty(u)}function l(u){t.typing=false;t.add({},u)}p.on("init",function(){t.add()});p.on("BeforeExecCommand",function(v){var u=v.command;if(u!="Undo"&&u!="Redo"&&u!="mceRepaint"){t.beforeChange()}});p.on("ExecCommand",function(v){var u=v.command;if(u!="Undo"&&u!="Redo"&&u!="mceRepaint"){l(v)}});p.on("ObjectResizeStart Cut",function(){t.beforeChange()});p.on("SaveContent ObjectResized blur",l);p.on("DragEnd",l);p.on("KeyUp",function(v){var u=v.keyCode;if(v.isDefaultPrevented()){return}if((u>=33&&u<=36)||(u>=37&&u<=40)||u==45||u==13||v.ctrlKey){l();p.nodeChanged()}if(u==46||u==8||(i.mac&&(u==91||u==93))){p.nodeChanged()}if(r&&t.typing){if(!p.isDirty()){o(m[0]&&k()!=m[0].content);if(p.isDirty()){p.fire("change",{level:m[0],lastLevel:null})}}p.fire("TypingUndo");r=false;p.nodeChanged()}});p.on("KeyDown",function(w){var v=w.keyCode;if(w.isDefaultPrevented()){return}if((v>=33&&v<=36)||(v>=37&&v<=40)||v==45){if(t.typing){l(w)}return}var u=(w.ctrlKey&&!w.altKey)||w.metaKey;if((v<16||v>20)&&v!=224&&v!=91&&!t.typing&&!u){t.beforeChange();t.typing=true;t.add({},w);r=true}});p.on("MouseDown",function(u){if(t.typing){l(u)}});p.addShortcut("meta+z","","Undo");p.addShortcut("meta+y,meta+shift+z","","Redo");p.on("AddUndo Undo Redo ClearUndos",function(u){if(!u.isDefaultPrevented()){p.nodeChanged()}});t={data:m,typing:false,beforeChange:function(){if(!s){n=p.selection.getBookmark(2,true)}},add:function(z,y){var v,w=p.settings,x;z=z||{};z.content=k();if(s||p.removed){return null}x=m[q];if(p.fire("BeforeAddUndo",{level:z,lastLevel:x,originalEvent:y}).isDefaultPrevented()){return null}if(x&&x.content==z.content){return null}if(m[q]){m[q].beforeBookmark=n}if(w.custom_undo_redo_levels){if(m.length>w.custom_undo_redo_levels){for(v=0;v<m.length-1;v++){m[v]=m[v+1]}m.length--;q=m.length}}z.bookmark=p.selection.getBookmark(2,true);if(q<m.length-1){m.length=q+1}m.push(z);q=m.length-1;var u={level:z,lastLevel:x,originalEvent:y};p.fire("AddUndo",u);if(q>0){o(true);p.fire("change",u)}return z},undo:function(){var u;if(t.typing){t.add();t.typing=false}if(q>0){u=m[--q];p.setContent(u.content,{format:"raw"});p.selection.moveToBookmark(u.beforeBookmark);o(true);p.fire("undo",{level:u})}return u},redo:function(){var u;if(q<m.length-1){u=m[++q];p.setContent(u.content,{format:"raw"});p.selection.moveToBookmark(u.bookmark);o(true);p.fire("redo",{level:u})}return u},clear:function(){m=[];q=0;t.typing=false;t.data=m;p.fire("ClearUndos")},hasUndo:function(){return q>0||(t.typing&&m[0]&&k()!=m[0].content)},hasRedo:function(){return q<m.length-1&&!this.typing},transact:function(u){t.beforeChange();try{s++;u()}finally{s--}return t.add()},extra:function(x,v){var w,u;if(t.transact(x)){u=m[q].bookmark;w=m[q-1];p.setContent(w.content,{format:"raw"});p.selection.moveToBookmark(w.beforeBookmark);if(t.transact(v)){m[q-1].beforeBookmark=u}}}};return t}});h("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/Env"],function(j,l,i){var k=i.ie&&i.ie<11;return function(r){var o=r.dom,s=r.selection,m=r.settings;var u=r.undoManager,n=r.schema,p=n.getNonEmptyElements(),t=n.getMoveCaretBeforeOnEnterElements();function q(O){var I,U,v,M,H,C,aa,P,A,w,z,G,X,K,R;function S(ab){return ab&&o.isBlock(ab)&&!/^(TD|TH|CAPTION|FORM)$/.test(ab.nodeName)&&!/^(fixed|absolute)/i.test(ab.style.position)&&o.getContentEditable(ab)!=="true"}function Q(ab){return ab&&/^(TD|TH|CAPTION)$/.test(ab.nodeName)}function T(ac){var ab;if(o.isBlock(ac)){ab=s.getRng();ac.appendChild(o.create("span",null,"\u00a0"));s.select(ac);ac.lastChild.outerHTML="";s.setRng(ab)}}function L(ad){var ac=ad,ae=[],ab;if(!ac){return}while((ac=ac.firstChild)){if(o.isBlock(ac)){return}if(ac.nodeType==1&&!p[ac.nodeName.toLowerCase()]){ae.push(ac)}}ab=ae.length;while(ab--){ac=ae[ab];if(!ac.hasChildNodes()||(ac.firstChild==ac.lastChild&&ac.firstChild.nodeValue==="")){o.remove(ac)}else{if(ac.nodeName=="A"&&(ac.innerText||ac.textContent)===" "){o.remove(ac)}}}}function y(ac){var ai,af,ab,ae=ac,ad;function ah(aj){while(aj){if(aj.nodeType==1||(aj.nodeType==3&&aj.data&&/[\r\n\s]/.test(aj.data))){return aj}aj=aj.nextSibling}}if(!ac){return}if(i.ie&&i.ie<9&&C&&C.firstChild){if(C.firstChild==C.lastChild&&C.firstChild.tagName=="BR"){o.remove(C.firstChild)}}if(/^(LI|DT|DD)$/.test(ac.nodeName)){var ag=ah(ac.firstChild);if(ag&&/^(UL|OL|DL)$/.test(ag.nodeName)){ac.insertBefore(o.doc.createTextNode("\u00a0"),ac.firstChild)}}ab=o.createRng();if(!i.ie){ac.normalize()}if(ac.hasChildNodes()){ai=new j(ac,ac);while((af=ai.current())){if(af.nodeType==3){ab.setStart(af,0);ab.setEnd(af,0);break}if(t[af.nodeName.toLowerCase()]){ab.setStartBefore(af);ab.setEndBefore(af);break}ae=af;af=ai.next()}if(!af){ab.setStart(ae,0);ab.setEnd(ae,0)}}else{if(ac.nodeName=="BR"){if(ac.nextSibling&&o.isBlock(ac.nextSibling)){if(!aa||aa<9){ad=o.create("br");ac.parentNode.insertBefore(ad,ac)}ab.setStartBefore(ac);ab.setEndBefore(ac)}else{ab.setStartAfter(ac);ab.setEndAfter(ac)}}else{ab.setStart(ac,0);ab.setEnd(ac,0)}}s.setRng(ab);o.remove(ad);s.scrollIntoView(ac)}function J(ac){var ab=m.forced_root_block;if(ab&&ab.toLowerCase()===ac.tagName.toLowerCase()){o.setAttribs(ac,m.forced_root_block_attrs)}}function B(ab){ab.innerHTML=!k?'<br data-mce-bogus="1">':""}function E(ac){var ae=M,ag,af,ab,ad=n.getTextInlineElements();if(ac||G=="TABLE"){ag=o.create(ac||K);J(ag)}else{ag=C.cloneNode(false)}ab=ag;if(m.keep_styles!==false){do{if(ad[ae.nodeName]){if(ae.id=="_mce_caret"){continue}af=ae.cloneNode(false);o.setAttrib(af,"id","");if(ag.hasChildNodes()){af.appendChild(ag.firstChild);ag.appendChild(af)}else{ab=af;ag.appendChild(af)}}}while((ae=ae.parentNode)&&ae!=v)}if(!k){ab.innerHTML='<br data-mce-bogus="1">'}return ag}function D(ae){var ad,ac,ab;if(M.nodeType==3&&(ae?H>0:H<M.nodeValue.length)){return false}if(M.parentNode==C&&R&&!ae){return true}if(ae&&M.nodeType==1&&M==C.firstChild){return true}if(M.nodeName==="TABLE"||(M.previousSibling&&M.previousSibling.nodeName=="TABLE")){return(R&&!ae)||(!R&&ae)}ad=new j(M,C);if(M.nodeType==3){if(ae&&H===0){ad.prev()}else{if(!ae&&H==M.nodeValue.length){ad.next()}}}while((ac=ad.current())){if(ac.nodeType===1){if(!ac.getAttribute("data-mce-bogus")){ab=ac.nodeName.toLowerCase();if(p[ab]&&ab!=="br"){return false}}}else{if(ac.nodeType===3&&!/^[ \t\r\n]*$/.test(ac.nodeValue)){return false}}if(ae){ad.prev()}else{ad.next()}}return true}function x(ac,ag){var ai,ad,ae,af,ah,ab,aj=K||"P";ad=o.getParent(ac,o.isBlock);if(!ad||!S(ad)){ad=ad||v;if(ad==r.getBody()||Q(ad)){ab=ad.nodeName.toLowerCase()}else{ab=ad.parentNode.nodeName.toLowerCase()}if(!ad.hasChildNodes()){ai=o.create(aj);J(ai);ad.appendChild(ai);I.setStart(ai,0);I.setEnd(ai,0);return ai}af=ac;while(af.parentNode!=ad){af=af.parentNode}while(af&&!o.isBlock(af)){ae=af;af=af.previousSibling}if(ae&&n.isValidChild(ab,aj.toLowerCase())){ai=o.create(aj);J(ai);ae.parentNode.insertBefore(ai,ae);af=ae;while(af&&!o.isBlock(af)){ah=af.nextSibling;ai.appendChild(af);af=ah}I.setStart(ac,ag);I.setEnd(ac,ag)}}return ac}function V(){function ac(af){var ae=z[af?"firstChild":"lastChild"];while(ae){if(ae.nodeType==1){break}ae=ae[af?"nextSibling":"previousSibling"]}return ae===C}function ad(){var ae=z.parentNode;if(/^(LI|DT|DD)$/.test(ae.nodeName)){return ae}return z}if(z==r.getBody()){return}var ab=z.parentNode.nodeName;if(/^(OL|UL|LI)$/.test(ab)){K="LI"}A=K?E(K):o.create("BR");if(ac(true)&&ac()){if(ab=="LI"){o.insertAfter(A,ad())}else{o.replace(A,z)}}else{if(ac(true)){if(ab=="LI"){o.insertAfter(A,ad());A.appendChild(o.doc.createTextNode(" "));A.appendChild(z)}else{z.parentNode.insertBefore(A,z)}}else{if(ac()){o.insertAfter(A,ad());T(A)}else{z=ad();U=I.cloneRange();U.setStartAfter(C);U.setEndAfter(z);w=U.extractContents();if(K=="LI"&&w.firstChild.nodeName=="LI"){A=w.firstChild;o.insertAfter(w,z)}else{o.insertAfter(w,z);o.insertAfter(A,z)}}}}o.remove(C);y(A);u.add()}function Z(){r.execCommand("InsertLineBreak",false,O)}function F(ab){do{if(ab.nodeType===3){ab.nodeValue=ab.nodeValue.replace(/^[\r\n]+/,"")}ab=ab.firstChild}while(ab)}function Y(ad){var ab=o.getRoot(),ac,ae;ac=ad;while(ac!==ab&&o.getContentEditable(ac)!=="false"){if(o.getContentEditable(ac)==="true"){ae=ac}ac=ac.parentNode}return ac!==ab?ae:ab}function W(ac){var ab;if(!k){ac.normalize();ab=ac.lastChild;if(!ab||(/^(left|right)$/gi.test(o.getStyle(ab,"float",true)))){o.add(ac,"br")}}}function N(){if(/^(H[1-6]|PRE|FIGURE)$/.test(G)&&X!="HGROUP"){A=E(K)}else{A=E()}if(m.end_container_on_empty_block&&S(z)&&o.isEmpty(C)){A=o.split(z,C)}else{o.insertAfter(A,C)}y(A)}I=s.getRng(true);if(O.isDefaultPrevented()){return}if(!I.collapsed){r.execCommand("Delete");return}new l(o).normalize(I);M=I.startContainer;H=I.startOffset;K=(m.force_p_newlines?"p":"")||m.forced_root_block;K=K?K.toUpperCase():"";aa=o.doc.documentMode;P=O.shiftKey;if(M.nodeType==1&&M.hasChildNodes()){R=H>M.childNodes.length-1;M=M.childNodes[Math.min(H,M.childNodes.length-1)]||M;if(R&&M.nodeType==3){H=M.nodeValue.length}else{H=0}}v=Y(M);if(!v){return}u.beforeChange();if(!o.isBlock(v)&&v!=o.getRoot()){if(!K||P){Z()}return}if((K&&!P)||(!K&&P)){M=x(M,H)}C=o.getParent(M,o.isBlock);z=C?o.getParent(C.parentNode,o.isBlock):null;G=C?C.nodeName.toUpperCase():"";X=z?z.nodeName.toUpperCase():"";if(X=="LI"&&!O.ctrlKey){C=z;G=X}if(/^(LI|DT|DD)$/.test(G)){if(!K&&P){Z();return}if(o.isEmpty(C)){V();return}}if(G=="PRE"&&m.br_in_pre!==false){if(!P){Z();return}}else{if((!K&&!P&&G!="LI")||(K&&P)){Z();return}}if(K&&C===r.getBody()){return}K=K||"P";if(D()){N()}else{if(D(true)){A=C.parentNode.insertBefore(E(),C);T(A);y(C)}else{U=I.cloneRange();U.setEndAfter(C);w=U.extractContents();F(w);A=w.firstChild;o.insertAfter(w,C);L(A);W(C);if(o.isEmpty(C)){B(C)}A.normalize();if(o.isEmpty(A)){o.remove(A);N()}else{y(A)}}}o.setAttrib(A,"id","");r.fire("NewBlock",{newBlock:A});u.add()}r.on("keydown",function(v){if(v.keyCode==13){if(q(v)!==false){v.preventDefault()}}})}});h("tinymce/ForceBlocks",[],function(){return function(k){var j=k.settings,n=k.dom,i=k.selection;var m=k.schema,l=m.getBlockElements();function o(){var u=i.getStart(),s=k.getBody(),p;var v,A,E,C,t;var w,x=-16777215,B,q;var D,r,z;z=j.forced_root_block;if(!u||u.nodeType!==1||!z){return}while(u&&u!=s){if(l[u.nodeName]){return}u=u.parentNode}p=i.getRng();if(p.setStart){v=p.startContainer;A=p.startOffset;E=p.endContainer;C=p.endOffset;try{q=k.getDoc().activeElement===s}catch(y){}}else{if(p.item){u=p.item(0);p=k.getDoc().body.createTextRange();p.moveToElementText(u)}q=p.parentElement().ownerDocument===k.getDoc();D=p.duplicate();D.collapse(true);A=D.move("character",x)*-1;if(!D.collapsed){D=p.duplicate();D.collapse(false);C=(D.move("character",x)*-1)-A}}u=s.firstChild;r=s.nodeName.toLowerCase();while(u){if(((u.nodeType===3||(u.nodeType==1&&!l[u.nodeName])))&&m.isValidChild(r,z.toLowerCase())){if(u.nodeType===3&&u.nodeValue.length===0){w=u;u=u.nextSibling;n.remove(w);continue}if(!t){t=n.create(z,k.settings.forced_root_block_attrs);u.parentNode.insertBefore(t,u);B=true}w=u;u=u.nextSibling;t.appendChild(w)}else{t=null;u=u.nextSibling}}if(B&&q){if(p.setStart){p.setStart(v,A);p.setEnd(E,C);i.setRng(p)}else{try{p=k.getDoc().body.createTextRange();p.moveToElementText(s);p.collapse(true);p.moveStart("character",A);if(C>0){p.moveEnd("character",C)}p.select()}catch(y){}}k.nodeChanged()}}if(j.forced_root_block){k.on("NodeChange",o)}}});h("tinymce/caret/CaretUtils",["tinymce/util/Fun","tinymce/dom/TreeWalker","tinymce/dom/NodeType","tinymce/caret/CaretPosition","tinymce/caret/CaretContainer","tinymce/caret/CaretCandidate"],function(m,p,q,i,t,G){var u=q.isContentEditableTrue,E=q.isContentEditableFalse,y=q.matchStyleValues("display","block table table-cell table-caption"),n=t.isCaretContainer,H=m.curry,C=q.isElement,z=G.isCaretCandidate;function j(K){return K>0}function D(K){return K<0}function r(L,N,P,K,M){var O=new p(L,K);if(D(N)){if(E(L)){L=O.prev(true);if(P(L)){return L}}while((L=O.prev(M))){if(P(L)){return L}}}if(j(N)){if(E(L)){L=O.next(true);if(P(L)){return L}}while((L=O.next(M))){if(P(L)){return L}}}return null}function x(L,K){for(L=L.parentNode;L&&L!=K;L=L.parentNode){if(u(L)){return L}}return K}function s(L,K){while(L&&L!=K){if(y(L)){return L}L=L.parentNode}return null}function v(K,M,L){return s(K.container(),L)==s(M.container(),L)}function J(K,M,L){return x(K.container(),L)==x(M.container(),L)}function l(L,M){var K,N;if(!M){return null}K=M.container();N=M.offset();if(!C(K)){return null}return K.childNodes[N+L]}function B(M,L){var K=L.ownerDocument.createRange();if(M){K.setStartBefore(L);K.setEndBefore(L)}else{K.setStartAfter(L);K.setEndAfter(L)}return K}function I(M,L,K){return s(L,M)==s(K,M)}function A(O,L,N){var M,K;if(O){K="previousSibling"}else{K="nextSibling"}while(N&&N!=L){M=N[K];if(n(M)){M=M[K]}if(E(M)){if(I(L,M,N)){return M}break}if(z(M)){break}N=N.parentNode}return null}var w=H(B,true);var k=H(B,false);function o(R,M,P){var N,K,O,S;var L=H(A,true,M);var Q=H(A,false,M);K=P.startContainer;O=P.startOffset;if(t.isCaretContainerBlock(K)){if(!C(K)){K=K.parentNode}S=K.getAttribute("data-mce-caret");if(S=="before"){N=K.nextSibling;if(E(N)){return w(N)}}if(S=="after"){N=K.previousSibling;if(E(N)){return k(N)}}}if(!P.collapsed){return P}if(q.isText(K)){if(n(K)){if(R===1){N=Q(K);if(N){return w(N)}N=L(K);if(N){return k(N)}}if(R===-1){N=L(K);if(N){return k(N)}N=Q(K);if(N){return w(N)}}return P}if(t.endsWithCaretContainer(K)&&O>=K.data.length-1){if(R===1){N=Q(K);if(N){return w(N)}}return P}if(t.startsWithCaretContainer(K)&&O<=1){if(R===-1){N=L(K);if(N){return k(N)}}return P}if(O===K.data.length){N=Q(K);if(N){return w(N)}return P}if(O===0){N=L(K);if(N){return k(N)}return P}}return P}function F(K,L){return E(l(K,L))}return{isForwards:j,isBackwards:D,findNode:r,getEditingHost:x,getParentBlock:s,isInSameBlock:v,isInSameEditingHost:J,isBeforeContentEditableFalse:H(F,0),isAfterContentEditableFalse:H(F,-1),normalizeRange:o}});h("tinymce/caret/CaretWalker",["tinymce/dom/NodeType","tinymce/caret/CaretCandidate","tinymce/caret/CaretPosition","tinymce/caret/CaretUtils","tinymce/util/Arr","tinymce/util/Fun"],function(l,A,i,B,n,k){var z=l.isContentEditableFalse,q=l.isText,v=l.isElement,m=l.isBr,j=B.isForwards,x=B.isBackwards,r=A.isCaretCandidate,o=A.isAtomic,w=A.isEditableCaretCandidate;function p(E,C){var D=[];while(E&&E!=C){D.push(E);E=E.parentNode}return D}function y(C,D){if(C.hasChildNodes()&&D<C.childNodes.length){return C.childNodes[D]}return null}function t(D,C){if(j(D)){if(r(C.previousSibling)&&!q(C.previousSibling)){return i.before(C)}if(q(C)){return i(C,0)}}if(x(D)){if(r(C.nextSibling)&&!q(C.nextSibling)){return i.after(C)}if(q(C)){return i(C,C.data.length)}}if(x(D)){if(m(C)){return i.before(C)}return i.after(C)}return i.before(C)}function s(E,C){var D;if(!l.isBr(E)){return false}D=u(1,i.after(E),C);if(!D){return false}return !B.isInSameBlock(i.before(E),i.before(D),C)}function u(K,J,D){var C,G,E,F,L,H,I;if(!v(D)||!J){return null}I=J;C=I.container();G=I.offset();if(q(C)){if(x(K)&&G>0){return i(C,--G)}if(j(K)&&G<C.length){return i(C,++G)}E=C}else{if(x(K)&&G>0){F=y(C,G-1);if(r(F)){if(!o(F)){L=B.findNode(F,K,w,F);if(L){if(q(L)){return i(L,L.data.length)}return i.after(L)}}if(q(F)){return i(F,F.data.length)}return i.before(F)}}if(j(K)&&G<C.childNodes.length){F=y(C,G);if(r(F)){if(s(F,D)){return u(K,i.after(F),D)}if(!o(F)){L=B.findNode(F,K,w,F);if(L){if(q(L)){return i(L,0)}return i.before(L)}}if(q(F)){return i(F,0)}return i.after(F)}}E=I.getNode()}if((j(K)&&I.isAtEnd())||(x(K)&&I.isAtStart())){E=B.findNode(E,K,k.constant(true),D,true);if(w(E)){return t(K,E)}}F=B.findNode(E,K,w,D);H=n.last(n.filter(p(C,D),z));if(H&&(!F||!H.contains(F))){if(j(K)){I=i.after(H)}else{I=i.before(H)}return I}if(F){return t(K,F)}return null}return function(C){return{next:function(D){return u(1,D,C)},prev:function(D){return u(-1,D,C)}}}});h("tinymce/InsertList",["tinymce/util/Tools","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition"],function(l,x,j){var p=function(A){var C=A.firstChild;var B=A.lastChild;if(C&&C.name==="meta"){C=C.next}if(B&&B.attr("id")==="mce_marker"){B=B.prev}if(!C||C!==B){return false}return C.name==="ul"||C.name==="ol"};var i=function(A){var C=A.firstChild;var B=A.lastChild;if(C&&C.nodeName==="META"){C.parentNode.removeChild(C)}if(B&&B.id==="mce_marker"){B.parentNode.removeChild(B)}return A};var y=function(E,D,B){var C=D.serialize(B);var A=E.createFragment(C);return i(A)};var s=function(A){return l.grep(A.childNodes,function(B){return B.nodeName==="LI"})};var r=function(A){return !A.firstChild};var k=function(A){return A.length>0&&r(A[A.length-1])?A.slice(0,-1):A};var u=function(C,A){var B=C.getParent(A,C.isBlock);return B&&B.nodeName==="LI"?B:null};var v=function(B,A){return !!u(B,A)};var m=function(A,B){var C=B.cloneRange();var D=B.cloneRange();C.setStartBefore(A);D.setEndAfter(A);return[C.cloneContents(),D.cloneContents()]};var z=function(D,B){var C=j.before(D);var A=new x(B);var E=A.next(C);return E?E.toRange():null};var o=function(D,B){var C=j.after(D);var A=new x(B);var E=A.prev(C);return E?E.toRange():null};var t=function(E,C,B,A){var D=m(E,A);var F=E.parentNode;F.insertBefore(D[0],E);l.each(C,function(G){F.insertBefore(G,E)});F.insertBefore(D[1],E);F.removeChild(E);return o(C[C.length-1],B)};var n=function(C,B,A){var D=C.parentNode;l.each(B,function(E){D.insertBefore(E,C)});return z(C,A)};var w=function(C,B,A,D){D.insertAfter(B.reverse(),C);return o(B[0],A)};var q=function(H,C,A,G){var I=y(C,H,G);var D=u(C,A.startContainer);var F=k(s(I.firstChild));var E=1,J=2;var B=C.getRoot();var K=function(M){var N=j.fromRangeStart(A);var L=new x(C.getRoot());var O=M===E?L.prev(N):L.next(N);return O?u(C,O.getNode())!==D:true};if(K(E)){return n(D,F,B)}else{if(K(J)){return w(D,F,B,C)}}return t(D,F,B,A)};return{isListFragment:p,insertAtCaret:q,isParentBlockLi:v,trimListItems:k,listItems:s}});h("tinymce/InsertContent",["tinymce/Env","tinymce/util/Tools","tinymce/html/Serializer","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/dom/ElementUtils","tinymce/dom/NodeType","tinymce/InsertList"],function(p,m,r,s,o,k,l,q){var n=l.matchNodeNames("td th");var j=function(z,L,Q){var y,S,E,U,v,x;var D,C,M,u,F,B;var I=z.schema.getTextInlineElements();var W=z.selection,O=z.dom;function N(aa){var Z,Y,ab;Z=W.getRng(true);Y=Z.startContainer;ab=Z.startOffset;function X(ac){return Y[ac]&&Y[ac].nodeType==3}if(Y.nodeType==3){if(ab>0){aa=aa.replace(/^&nbsp;/," ")}else{if(!X("previousSibling")){aa=aa.replace(/^ /,"&nbsp;")}}if(ab<Y.length){aa=aa.replace(/&nbsp;(<br>|)$/," ")}else{if(!X("nextSibling")){aa=aa.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;")}}}return aa}function w(){var Y,X,Z;Y=W.getRng(true);X=Y.startContainer;Z=Y.startOffset;if(X.nodeType==3&&Y.collapsed){if(X.data[Z]==="\u00a0"){X.deleteData(Z,1);if(!/[\u00a0| ]$/.test(L)){L+=" "}}else{if(X.data[Z-1]==="\u00a0"){X.deleteData(Z-1,1);if(!/[\u00a0| ]$/.test(L)){L=" "+L}}}}}function V(){if(B){var X=z.getBody(),Y=new k(O);m.each(O.select("*[data-mce-fragment]"),function(aa){for(var Z=aa.parentNode;Z&&Z!=X;Z=Z.parentNode){if(I[aa.nodeName.toLowerCase()]&&Y.compare(Z,aa)){O.remove(aa,true)}}})}}function A(X){var Y=X;while((Y=Y.walk())){if(Y.type===1){Y.attr("data-mce-fragment","1")}}}function K(X){m.each(X.getElementsByTagName("*"),function(Y){Y.removeAttribute("data-mce-fragment")})}function T(X){return !!X.getAttribute("data-mce-fragment")}function R(X){return X&&!z.schema.getShortEndedElements()[X.nodeName]}function P(X){var ac,ab,aa;function Y(ae){var ad=z.getBody();for(;ae&&ae!==ad;ae=ae.parentNode){if(z.dom.getContentEditable(ae)==="false"){return ae}}return null}if(!X){return}W.scrollIntoView(X);ac=Y(X);if(ac){O.remove(X);W.select(ac);return}C=O.createRng();M=X.previousSibling;if(M&&M.nodeType==3){C.setStart(M,M.nodeValue.length);if(!p.ie){u=X.nextSibling;if(u&&u.nodeType==3){M.appendData(u.data);u.parentNode.removeChild(u)}}}else{C.setStartBefore(X);C.setEndBefore(X)}function Z(ae){var af=o.fromRangeStart(ae);var ad=new s(z.getBody());af=ad.next(af);if(af){return af.toRange()}}ab=O.getParent(X,O.isBlock);O.remove(X);if(ab&&O.isEmpty(ab)){z.$(ab).empty();C.setStart(ab,0);C.setEnd(ab,0);if(!n(ab)&&!T(ab)&&(aa=Z(C))){C=aa;O.remove(ab)}else{O.add(ab,O.create("br",{"data-mce-bogus":"1"}))}}W.setRng(C)}if(/^ | $/.test(L)){L=N(L)}y=z.parser;B=Q.merge;S=new r({validate:z.settings.validate},z.schema);F='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>';x={content:L,format:"html",selection:true};z.fire("BeforeSetContent",x);L=x.content;if(L.indexOf("{$caret}")==-1){L+="{$caret}"}L=L.replace(/\{\$caret\}/,F);C=W.getRng();var J=C.startContainer||(C.parentElement?C.parentElement():null);var G=z.getBody();if(J===G&&W.isCollapsed()){if(O.isBlock(G.firstChild)&&R(G.firstChild)&&O.isEmpty(G.firstChild)){C=O.createRng();C.setStart(G.firstChild,0);C.setEnd(G.firstChild,0);W.setRng(C)}}if(!W.isCollapsed()){z.selection.setRng(z.selection.getRng());z.getDoc().execCommand("Delete",false,null);w()}E=W.getNode();var H={context:E.nodeName.toLowerCase(),data:Q.data};v=y.parse(L,H);if(Q.paste===true&&q.isListFragment(v)&&q.isParentBlockLi(O,E)){C=q.insertAtCaret(S,O,z.selection.getRng(true),v);z.selection.setRng(C);z.fire("SetContent",x);return}A(v);M=v.lastChild;if(M.attr("id")=="mce_marker"){D=M;for(M=M.prev;M;M=M.walk(true)){if(M.type==3||!O.isBlock(M.name)){if(z.schema.isValidChild(M.parent.name,"span")){M.parent.insert(D,M,M.name==="br")}break}}}z._selectionOverrides.showBlockCaretContainer(E);if(!H.invalid){L=S.serialize(v);M=E.firstChild;u=E.lastChild;if(!M||(M===u&&M.nodeName==="BR")){O.setHTML(E,L)}else{W.setContent(L)}}else{W.setContent(F);E=W.getNode();U=z.getBody();if(E.nodeType==9){E=M=U}else{M=E}while(M!==U){E=M;M=M.parentNode}L=E==U?U.innerHTML:O.getOuterHTML(E);L=S.serialize(y.parse(L.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return S.serialize(v)})));if(E==U){O.setHTML(U,L)}else{O.setOuterHTML(E,L)}}V();P(O.get("mce_marker"));K(z.getBody());z.fire("SetContent",x);z.addVisual()};var t=function(v){var u;if(typeof v!=="string"){u=m.extend({paste:v.paste,data:{paste:v.paste}},v);return{content:v.content,details:u}}return{content:v,details:{}}};var i=function(v,w){var u=t(w);j(v,u.content,u.details)};return{insertAtCaret:i}});h("tinymce/EditorCommands",["tinymce/Env","tinymce/util/Tools","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker","tinymce/InsertContent"],function(o,j,m,s,t){var r=j.each,p=j.extend;var i=j.map,u=j.inArray,q=j.explode;var l=o.ie&&o.ie<11;var k=true,n=false;return function(y){var J,P,I,B={state:{},exec:{},value:{}},L=y.settings,C;y.on("PreInit",function(){J=y.dom;P=y.selection;L=y.settings;I=y.formatter});function K(X,W,V,Q){var S,U,T=0;if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(X)&&(!Q||!Q.skip_focus)){y.focus()}Q=y.fire("BeforeExecCommand",{command:X,ui:W,value:V});if(Q.isDefaultPrevented()){return false}U=X.toLowerCase();if((S=B.exec[U])){S(U,W,V);y.fire("ExecCommand",{command:X,ui:W,value:V});return true}r(y.plugins,function(Y){if(Y.execCommand&&Y.execCommand(X,W,V)){y.fire("ExecCommand",{command:X,ui:W,value:V});T=true;return false}});if(T){return T}if(y.theme&&y.theme.execCommand&&y.theme.execCommand(X,W,V)){y.fire("ExecCommand",{command:X,ui:W,value:V});return true}try{T=y.getDoc().execCommand(X,W,V)}catch(R){}if(T){y.fire("ExecCommand",{command:X,ui:W,value:V});return true}return false}function A(S){var R;if(y.quirks.isHidden()){return}S=S.toLowerCase();if((R=B.state[S])){return R(S)}try{return y.getDoc().queryCommandState(S)}catch(Q){}return false}function H(S){var R;if(y.quirks.isHidden()){return}S=S.toLowerCase();if((R=B.value[S])){return R(S)}try{return y.getDoc().queryCommandValue(S)}catch(Q){}}function F(Q,R){R=R||"exec";r(Q,function(T,S){r(S.toLowerCase().split(","),function(U){B[R][U]=T})})}function E(R,S,Q){R=R.toLowerCase();B.exec[R]=function(W,V,U,T){return S.call(Q||y,V,U,T)}}function N(R){R=R.toLowerCase();if(B.exec[R]){return true}try{return y.getDoc().queryCommandSupported(R)}catch(Q){}return false}function v(R,S,Q){R=R.toLowerCase();B.state[R]=function(){return S.call(Q||y)}}function w(R,S,Q){R=R.toLowerCase();B.value[R]=function(){return S.call(Q||y)}}function x(Q){Q=Q.toLowerCase();return !!B.exec[Q]}p(this,{execCommand:K,queryCommandState:A,queryCommandValue:H,queryCommandSupported:N,addCommands:F,addCommand:E,addQueryStateHandler:v,addQueryValueHandler:w,hasCustomCommand:x});function z(S,R,Q){if(R===g){R=n}if(Q===g){Q=null}return y.getDoc().execCommand(S,R,Q)}function M(Q){return I.match(Q)}function O(Q,R){I.toggle(Q,R?{value:R}:g);y.nodeChanged()}function G(Q){C=P.getBookmark(Q)}function D(){P.moveToBookmark(C)}F({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){y.undoManager.add()},"Cut,Copy,Paste":function(U){var S=y.getDoc(),Q;try{z(U)}catch(R){Q=k}if(U==="paste"&&!S.queryCommandEnabled(U)){Q=true}if(Q||!S.queryCommandSupported(U)){var T=y.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");if(o.mac){T=T.replace(/Ctrl\+/g,"\u2318+")}y.notificationManager.open({text:T,type:"error"})}},unlink:function(){if(P.isCollapsed()){var Q=P.getNode();if(Q.tagName=="A"){y.dom.remove(Q,true)}return}I.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(Q){var R=Q.substring(7);if(R=="full"){R="justify"}r("left,center,right,justify".split(","),function(S){if(R!=S){I.remove("align"+S)}});if(R!="none"){O("align"+R)}},"InsertUnorderedList,InsertOrderedList":function(S){var Q,R;z(S);Q=J.getParent(P.getNode(),"ol,ul");if(Q){R=Q.parentNode;if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(R.nodeName)){G();J.split(R,Q);D()}}},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(Q){O(Q)},"ForeColor,HiliteColor,FontName":function(S,R,Q){O(S,Q)},FontSize:function(T,S,R){var Q,U;if(R>=1&&R<=7){U=q(L.font_size_style_values);Q=q(L.font_size_classes);if(Q){R=Q[R-1]||R}else{R=U[R-1]||R}}O(T,R)},RemoveFormat:function(Q){I.remove(Q)},mceBlockQuote:function(){O("blockquote")},FormatBlock:function(S,R,Q){return O(Q||"p")},mceCleanup:function(){var Q=P.getBookmark();y.setContent(y.getContent({cleanup:k}),{cleanup:k});P.moveToBookmark(Q)},mceRemoveNode:function(T,S,R){var Q=R||P.getNode();if(Q!=y.getBody()){G();y.dom.remove(Q,k);D()}},mceSelectNodeDepth:function(T,S,R){var Q=0;J.getParent(P.getNode(),function(U){if(U.nodeType==1&&Q++==R){P.select(U);return n}},y.getBody())},mceSelectNode:function(S,R,Q){P.select(Q)},mceInsertContent:function(S,R,Q){t.insertAtCaret(y,Q)},mceInsertRawHTML:function(S,R,Q){P.setContent("tiny_mce_marker");y.setContent(y.getContent().replace(/tiny_mce_marker/g,function(){return Q}))},mceToggleFormat:function(S,R,Q){O(Q)},mceSetContent:function(S,R,Q){y.setContent(Q)},"Indent,Outdent":function(T){var R,Q,S;R=L.indentation;Q=/[a-z%]+$/i.exec(R);R=parseInt(R,10);if(!A("InsertUnorderedList")&&!A("InsertOrderedList")){if(!L.forced_root_block&&!J.getParent(P.getNode(),J.isBlock)){I.apply("div")}r(P.getSelectedBlocks(),function(V){if(J.getContentEditable(V)==="false"){return}if(V.nodeName!="LI"){var U=y.getParam("indent_use_margin",false)?"margin":"padding";U+=J.getStyle(V,"direction",true)=="rtl"?"Right":"Left";if(T=="outdent"){S=Math.max(0,parseInt(V.style[U]||0,10)-R);J.setStyle(V,U,S?S+Q:"")}else{S=(parseInt(V.style[U]||0,10)+R)+Q;J.setStyle(V,U,S)}}})}else{z(T)}},mceRepaint:function(){},InsertHorizontalRule:function(){y.execCommand("mceInsertContent",false,"<hr />")},mceToggleVisualAid:function(){y.hasVisual=!y.hasVisual;y.addVisual()},mceReplaceContent:function(S,R,Q){y.execCommand("mceInsertContent",false,Q.replace(/\{\$selection\}/g,P.getContent({format:"text"})))},mceInsertLink:function(T,S,R){var Q;if(typeof R=="string"){R={href:R}}Q=J.getParent(P.getNode(),"a");R.href=R.href.replace(" ","%20");if(!Q||!R.href){I.remove("link")}if(R.href){I.apply("link",R,Q)}},selectAll:function(){var R=J.getRoot(),Q;if(P.getRng().setStart){Q=J.createRng();Q.setStart(R,0);Q.setEnd(R,R.childNodes.length);P.setRng(Q)}else{Q=P.getRng();if(!Q.item){Q.moveToElementText(R);Q.select()}}},"delete":function(){z("Delete");var Q=y.getBody();if(J.isEmpty(Q)){y.setContent("");if(Q.firstChild&&J.isBlock(Q.firstChild)){y.selection.setCursorLocation(Q.firstChild,0)}else{y.selection.setCursorLocation(Q,0)}}},mceNewDocument:function(){y.setContent("")},InsertLineBreak:function(S,ac,ae){var ab=ae;var Q,Z,X;var W=P.getRng(true);new m(J).normalize(W);var V=W.startOffset;var aa=W.startContainer;if(aa.nodeType==1&&aa.hasChildNodes()){var af=V>aa.childNodes.length-1;aa=aa.childNodes[Math.min(V,aa.childNodes.length-1)]||aa;if(af&&aa.nodeType==3){V=aa.nodeValue.length}else{V=0}}var T=J.getParent(aa,J.isBlock);var U=T?T.nodeName.toUpperCase():"";var R=T?J.getParent(T.parentNode,J.isBlock):null;var ag=R?R.nodeName.toUpperCase():"";var ad=ab&&ab.ctrlKey;if(ag=="LI"&&!ad){T=R;U=ag}function Y(){var ak=new s(aa,T),aj;var ai=y.schema.getNonEmptyElements();while((aj=ak.next())){if(ai[aj.nodeName.toLowerCase()]||aj.length>0){return true}}}if(aa&&aa.nodeType==3&&V>=aa.nodeValue.length){if(!l&&!Y()){Q=J.create("br");W.insertNode(Q);W.setStartAfter(Q);W.setEndAfter(Q);Z=true}}Q=J.create("br");W.insertNode(Q);var ah=J.doc.documentMode;if(l&&U=="PRE"&&(!ah||ah<8)){Q.parentNode.insertBefore(J.doc.createTextNode("\r"),Q)}X=J.create("span",{},"&nbsp;");Q.parentNode.insertBefore(X,Q);P.scrollIntoView(X);J.remove(X);if(!Z){W.setStartAfter(Q);W.setEndAfter(Q)}else{W.setStartBefore(Q);W.setEndBefore(Q)}P.setRng(W);y.undoManager.add();return k}});F({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(T){var R="align"+T.substring(7);var Q=P.isCollapsed()?[J.getParent(P.getNode(),J.isBlock)]:P.getSelectedBlocks();var S=i(Q,function(U){return !!I.matchNode(U,R)});return u(S,k)!==-1},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(Q){return M(Q)},mceBlockQuote:function(){return M("blockquote")},Outdent:function(){var Q;if(L.inline_styles){if((Q=J.getParent(P.getStart(),J.isBlock))&&parseInt(Q.style.paddingLeft,10)>0){return k}if((Q=J.getParent(P.getEnd(),J.isBlock))&&parseInt(Q.style.paddingLeft,10)>0){return k}}return(A("InsertUnorderedList")||A("InsertOrderedList")||(!L.inline_styles&&!!J.getParent(P.getNode(),"BLOCKQUOTE")))},"InsertUnorderedList,InsertOrderedList":function(R){var Q=J.getParent(P.getNode(),"ul,ol");return Q&&(R==="insertunorderedlist"&&Q.tagName==="UL"||R==="insertorderedlist"&&Q.tagName==="OL")}},"state");F({"FontSize,FontName":function(S){var R=0,Q;if((Q=J.getParent(P.getNode(),"span"))){if(S=="fontsize"){R=Q.style.fontSize}else{R=Q.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()}}return R}},"value");F({Undo:function(){y.undoManager.undo()},Redo:function(){y.undoManager.redo()}})}});h("tinymce/util/URI",["tinymce/util/Tools"],function(k){var n=k.each,i=k.trim;var l="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");var m={ftp:21,http:80,https:443,mailto:25};function j(q,r){var p=this,t,s;q=i(q);r=p.settings=r||{};t=r.base_uri;if(/^([\w\-]+):([^\/]{2})/i.test(q)||/^\s*#/.test(q)){p.source=q;return}var o=q.indexOf("//")===0;if(q.indexOf("/")===0&&!o){q=(t?t.protocol||"http":"http")+"://mce_host"+q}if(!/^[\w\-]*:?\/\//.test(q)){s=r.base_uri?r.base_uri.path:new j(location.href).directory;if(r.base_uri.protocol===""){q="//mce_host"+p.toAbsPath(s,q)}else{q=/([^#?]*)([#?]?.*)/.exec(q);q=((t&&t.protocol)||"http")+"://mce_host"+p.toAbsPath(s,q[1])+q[2]}}q=q.replace(/@@/g,"(mce_at)");q=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(q);n(l,function(u,x){var w=q[x];if(w){w=w.replace(/\(mce_at\)/g,"@@")}p[u]=w});if(t){if(!p.protocol){p.protocol=t.protocol}if(!p.userInfo){p.userInfo=t.userInfo}if(!p.port&&p.host==="mce_host"){p.port=t.port}if(!p.host||p.host==="mce_host"){p.host=t.host}p.source=""}if(o){p.protocol=""}}j.prototype={setPath:function(p){var o=this;p=/^(.*?)\/?(\w+)?$/.exec(p);o.path=p[0];o.directory=p[1];o.file=p[2];o.source="";o.getURI()},toRelative:function(s){var p=this,o;if(s==="./"){return s}s=new j(s,{base_uri:p});if((s.host!="mce_host"&&p.host!=s.host&&s.host)||p.port!=s.port||(p.protocol!=s.protocol&&s.protocol!=="")){return s.getURI()}var q=p.getURI(),r=s.getURI();if(q==r||(q.charAt(q.length-1)=="/"&&q.substr(0,q.length-1)==r)){return q}o=p.toRelPath(p.path,s.path);if(s.query){o+="?"+s.query}if(s.anchor){o+="#"+s.anchor}return o},toAbsolute:function(p,o){p=new j(p,{base_uri:this});return p.getURI(o&&this.isSameOrigin(p))},isSameOrigin:function(o){if(this.host==o.host&&this.protocol==o.protocol){if(this.port==o.port){return true}var p=m[this.protocol];if(p&&((this.port||p)==(o.port||p))){return true}}return false},toRelPath:function(t,u){var p,s=0,q="",r,o;t=t.substring(0,t.lastIndexOf("/"));t=t.split("/");p=u.split("/");if(t.length>=p.length){for(r=0,o=t.length;r<o;r++){if(r>=p.length||t[r]!=p[r]){s=r+1;break}}}if(t.length<p.length){for(r=0,o=p.length;r<o;r++){if(r>=t.length||t[r]!=p[r]){s=r+1;break}}}if(s===1){return u}for(r=0,o=t.length-(s-1);r<o;r++){q+="../"}for(r=s-1,o=p.length;r<o;r++){if(r!=s-1){q+="/"+p[r]}else{q+=p[r]}}return q},toAbsPath:function(s,t){var q,p=0,v=[],r,u;r=/\/$/.test(t)?"/":"";s=s.split("/");t=t.split("/");n(s,function(o){if(o){v.push(o)}});s=v;for(q=t.length-1,v=[];q>=0;q--){if(t[q].length===0||t[q]==="."){continue}if(t[q]===".."){p++;continue}if(p>0){p--;continue}v.push(t[q])}q=s.length-p;if(q<=0){u=v.reverse().join("/")}else{u=s.slice(0,q).join("/")+"/"+v.reverse().join("/")}if(u.indexOf("/")!==0){u="/"+u}if(r&&u.lastIndexOf("/")!==u.length-1){u+=r}return u},getURI:function(q){var p,o=this;if(!o.source||q){p="";if(!q){if(o.protocol){p+=o.protocol+"://"}else{p+="//"}if(o.userInfo){p+=o.userInfo+"@"}if(o.host){p+=o.host}if(o.port){p+=":"+o.port}}if(o.path){p+=o.path}if(o.query){p+="?"+o.query}if(o.anchor){p+="#"+o.anchor}o.source=p}return o.source}};j.parseDataUri=function(p){var o,q;p=decodeURIComponent(p).split(",");q=/data:([^;]+)/.exec(p[0]);if(q){o=q[1]}return{type:o,data:p[1]}};j.getDocumentBaseUrl=function(p){var o;if(p.protocol.indexOf("http")!==0&&p.protocol!=="file:"){o=p.href}else{o=p.protocol+"//"+p.host+p.pathname}if(/^[^:]+:\/\/\/?[^\/]+\//.test(o)){o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");if(!/[\/\\]$/.test(o)){o+="/"}}return o};return j});h("tinymce/util/Class",["tinymce/util/Tools"],function(l){var m=l.each,n=l.extend;var k,j;function i(){}i.extend=k=function(o){var w=this,v=w.prototype,u,p,t;function q(){var A,x,z,y=this;if(!j){if(y.init){y.init.apply(y,arguments)}x=y.Mixins;if(x){A=x.length;while(A--){z=x[A];if(z.init){z.init.apply(y,arguments)}}}}}function r(){return this}function s(x,y){return function(){var z=this,B=z._super,A;z._super=v[x];A=y.apply(z,arguments);z._super=B;return A}}j=true;u=new w();j=false;if(o.Mixins){m(o.Mixins,function(x){for(var y in x){if(y!=="init"){o[y]=x[y]}}});if(v.Mixins){o.Mixins=v.Mixins.concat(o.Mixins)}}if(o.Methods){m(o.Methods.split(","),function(x){o[x]=r})}if(o.Properties){m(o.Properties.split(","),function(x){var y="_"+x;o[x]=function(B){var z=this,A;if(B!==A){z[y]=B;return z}return z[y]}})}if(o.Statics){m(o.Statics,function(y,x){q[x]=y})}if(o.Defaults&&v.Defaults){o.Defaults=n({},v.Defaults,o.Defaults)}for(p in o){t=o[p];if(typeof t=="function"&&v[p]){u[p]=s(p,t)}else{u[p]=t}}q.prototype=u;q.constructor=q;q.extend=k;return q};return i});h("tinymce/util/EventDispatcher",["tinymce/util/Tools"],function(j){var k=j.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," ");function i(q){var w=this,v,m={},t;function o(){return false}function r(){return true}q=q||{};v=q.scope||w;t=q.toggleEvent||o;function n(A,z){var y,B,x,C;A=A.toLowerCase();z=z||{};z.type=A;if(!z.target){z.target=v}if(!z.preventDefault){z.preventDefault=function(){z.isDefaultPrevented=r};z.stopPropagation=function(){z.isPropagationStopped=r};z.stopImmediatePropagation=function(){z.isImmediatePropagationStopped=r};z.isDefaultPrevented=o;z.isPropagationStopped=o;z.isImmediatePropagationStopped=o}if(q.beforeFire){q.beforeFire(z)}y=m[A];if(y){for(B=0,x=y.length;B<x;B++){C=y[B];if(C.once){p(A,C.func)}if(z.isImmediatePropagationStopped()){z.stopPropagation();return z}if(C.func.call(v,z)===false){z.preventDefault();return z}}}return z}function s(A,D,z,x){var y,C,B;if(D===false){D=o}if(D){D={func:D};if(x){j.extend(D,x)}C=A.toLowerCase().split(" ");B=C.length;while(B--){A=C[B];y=m[A];if(!y){y=m[A]=[];t(A,true)}if(z){y.unshift(D)}else{y.push(D)}}}return w}function p(z,D){var A,x,B,C,y;if(z){C=z.toLowerCase().split(" ");A=C.length;while(A--){z=C[A];x=m[z];if(!z){for(B in m){t(B,false);delete m[B]}return w}if(x){if(!D){x.length=0}else{y=x.length;while(y--){if(x[y].func===D){x=x.slice(0,y).concat(x.slice(y+1));m[z]=x}}}if(!x.length){t(z,false);delete m[z]}}}}else{for(z in m){t(z,false)}m={}}return w}function l(y,z,x){return s(y,z,x,{once:true})}function u(x){x=x.toLowerCase();return !(!m[x]||m[x].length===0)}w.fire=n;w.on=s;w.off=p;w.once=l;w.has=u}i.isNative=function(l){return !!k[l.toLowerCase()]};return i});h("tinymce/data/Binding",[],function(){function i(j){this.create=j.create}i.create=function(k,j){return new i({create:function(l,n){var p;function m(q){l.set(n,q.value)}function o(q){k.set(j,q.value)}l.on("change:"+n,o);k.on("change:"+j,m);p=l._bindings;if(!p){p=l._bindings=[];l.on("destroy",function(){var q=p.length;while(q--){p[q]()}})}p.push(function(){k.off("change:"+j,m)});return k.get(j)}})};return i});h("tinymce/util/Observable",["tinymce/util/EventDispatcher"],function(j){function i(k){if(!k._eventDispatcher){k._eventDispatcher=new j({scope:k,toggleEvent:function(l,m){if(j.isNative(l)&&k.toggleNativeEvent){k.toggleNativeEvent(l,m)}}})}return k._eventDispatcher}return{fire:function(n,m,k){var l=this;if(l.removed&&n!=="remove"){return m}m=i(l).fire(n,m,k);if(k!==false&&l.parent){var o=l.parent();while(o&&!m.isPropagationStopped()){o.fire(n,m,false);o=o.parent()}}return m},on:function(l,m,k){return i(this).on(l,m,k)},off:function(k,l){return i(this).off(k,l)},once:function(k,l){return i(this).once(k,l)},hasEventListeners:function(k){return i(this).has(k)}}});h("tinymce/data/ObservableObject",["tinymce/data/Binding","tinymce/util/Observable","tinymce/util/Class","tinymce/util/Tools"],function(n,j,i,k){function m(o){return o.nodeType>0}function l(p,o){var q,r;if(p===o){return true}if(p===null||o===null){return p===o}if(typeof p!=="object"||typeof o!=="object"){return p===o}if(k.isArray(o)){if(p.length!==o.length){return false}q=p.length;while(q--){if(!l(p[q],o[q])){return false}}}if(m(p)||m(o)){return p===o}r={};for(q in o){if(!l(p[q],o[q])){return false}r[q]=true}for(q in p){if(!r[q]&&!l(p[q],o[q])){return false}}return true}return i.extend({Mixins:[j],init:function(q){var o,p;q=q||{};for(o in q){p=q[o];if(p instanceof n){q[o]=p.create(this,o)}}this.data=q},set:function(q,s){var r,p,o=this.data[q];if(s instanceof n){s=s.create(this,q)}if(typeof q==="object"){for(r in q){this.set(r,q[r])}return this}if(!l(o,s)){this.data[q]=s;p={target:this,name:q,value:s,oldValue:o};this.fire("change:"+q,p);this.fire("change",p)}return this},get:function(o){return this.data[o]},has:function(o){return o in this.data},bind:function(o){return n.create(this,o)},destroy:function(){this.fire("destroy")}})});h("tinymce/ui/Selector",["tinymce/util/Class"],function(k){function o(s){var p=[],q=s.length,r;while(q--){r=s[q];if(!r.__checked){p.push(r);r.__checked=1}}q=p.length;while(q--){delete p[q].__checked}return p}var n=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i;var i=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,m=/^\s*|\s*$/g,l;var j=k.extend({init:function(q){var s=this.match;function r(y){if(y){y=y.toLowerCase();return function(z){return y==="*"||z.type===y}}}function w(y){if(y){return function(z){return z._name===y}}}function t(y){if(y){y=y.split(".");return function(A){var z=y.length;while(z--){if(!A.classes.contains(y[z])){return false}}return true}}}function p(z,A,y){if(z){return function(B){var C=B[z]?B[z]():"";return !A?!!y:A==="="?C===y:A==="*="?C.indexOf(y)>=0:A==="~="?(" "+C+" ").indexOf(" "+y+" ")>=0:A==="!="?C!=y:A==="^="?C.indexOf(y)===0:A==="$="?C.substr(C.length-y.length)===y:false}}}function v(y){var z;if(y){y=/(?:not\((.+)\))|(.+)/i.exec(y);if(!y[1]){y=y[2];return function(C,A,B){return y==="first"?A===0:y==="last"?A===B-1:y==="even"?A%2===0:y==="odd"?A%2===1:C[y]?C[y]():false}}z=u(y[1],[]);return function(A){return !s(A,z)}}}function x(y,z,C){var B;function A(D){if(D){z.push(D)}}B=n.exec(y.replace(m,""));A(r(B[1]));A(w(B[2]));A(t(B[3]));A(p(B[4],B[5],B[6]));A(v(B[7]));z.pseudo=!!B[7];z.direct=C;return z}function u(z,B){var D=[],y,C,A;do{i.exec("");C=i.exec(z);if(C){z=C[3];D.push(C[1]);if(C[2]){y=C[3];break}}}while(C);if(y){u(y,B)}z=[];for(A=0;A<D.length;A++){if(D[A]!=">"){z.push(x(D[A],[],D[A-1]===">"))}}B.push(z);return B}this._selectors=u(q,[])},match:function(u,B){var v,r,w,s,t,D,A,q,y,p,z,x,C;B=B||this._selectors;for(v=0,r=B.length;v<r;v++){t=B[v];s=t.length;C=u;x=0;for(w=s-1;w>=0;w--){q=t[w];while(C){if(q.pseudo){z=C.parent().items();y=p=z.length;while(y--){if(z[y]===C){break}}}for(D=0,A=q.length;D<A;D++){if(!q[D](C,y,p)){D=A+1;break}}if(D===A){x++;break}else{if(w===s-1){break}}C=C.parent()}}if(x===s){return true}}return false},find:function(q){var u=[],s,p,r=this._selectors;function t(A,x,z){var y,w,C,B,D,v=x[z];for(y=0,w=A.length;y<w;y++){D=A[y];for(C=0,B=v.length;C<B;C++){if(!v[C](D,y,w)){C=B+1;break}}if(C===B){if(z==x.length-1){u.push(D)}else{if(D.items){t(D.items(),x,z+1)}}}else{if(v.direct){return}}if(D.items){t(D.items(),x,z)}}}if(q.items){for(s=0,p=r.length;s<p;s++){t(q.items(),r[s],0)}if(p>1){u=o(u)}}if(!l){l=j.Collection}return new l(u)}});return j});h("tinymce/ui/Collection",["tinymce/util/Tools","tinymce/ui/Selector","tinymce/util/Class"],function(l,i,j){var m,n,k=Array.prototype.push,o=Array.prototype.slice;n={length:0,init:function(p){if(p){this.add(p)}},add:function(q){var p=this;if(!l.isArray(q)){if(q instanceof m){p.add(q.toArray())}else{k.call(p,q)}}else{k.apply(p,q)}return p},set:function(r){var q=this,p=q.length,s;q.length=0;q.add(r);for(s=q.length;s<p;s++){delete q[s]}return q},filter:function(p){var r=this,t,q,v=[],u,s;if(typeof p==="string"){p=new i(p);s=function(w){return p.match(w)}}else{s=p}for(t=0,q=r.length;t<q;t++){u=r[t];if(s(u)){v.push(u)}}return new m(v)},slice:function(){return new m(o.apply(this,arguments))},eq:function(p){return p===-1?this.slice(p):this.slice(p,+p+1)},each:function(p){l.each(this,p);return this},toArray:function(){return l.toArray(this)},indexOf:function(r){var p=this,q=p.length;while(q--){if(p[q]===r){break}}return q},reverse:function(){return new m(l.toArray(this).reverse())},hasClass:function(p){return this[0]?this[0].classes.contains(p):false},prop:function(q,t){var p=this,r,s;if(t!==r){p.each(function(u){if(u[q]){u[q](t)}});return p}s=p[0];if(s&&s[q]){return s[q]()}},exec:function(r){var p=this,q=l.toArray(arguments).slice(1);p.each(function(s){if(s[r]){s[r].apply(s,q)}});return p},remove:function(){var p=this.length;while(p--){this[p].remove()}return this},addClass:function(p){return this.each(function(q){q.classes.add(p)})},removeClass:function(p){return this.each(function(q){q.classes.remove(p)})}};l.each("fire on off show hide append prepend before after reflow".split(" "),function(p){n[p]=function(){var q=l.toArray(arguments);this.each(function(r){if(p in r){r[p].apply(r,q)}});return this}});l.each("text name disabled active selected checked visible parent value data".split(" "),function(p){n[p]=function(q){return this.prop(p,q)}});m=j.extend(n);i.Collection=m;return m});h("tinymce/ui/DomUtils",["tinymce/Env","tinymce/util/Tools","tinymce/dom/DOMUtils"],function(i,k,m){var l=0;var j={id:function(){return"mceu_"+(l++)},create:function(o,n,p){var q=document.createElement(o);m.DOM.setAttribs(q,n);if(typeof p==="string"){q.innerHTML=p}else{k.each(p,function(r){if(r.nodeType){q.appendChild(r)}})}return q},createFragment:function(n){return m.DOM.createFragment(n)},getWindowSize:function(){return m.DOM.getViewPort()},getSize:function(q){var o,n;if(q.getBoundingClientRect){var p=q.getBoundingClientRect();o=Math.max(p.width||(p.right-p.left),q.offsetWidth);n=Math.max(p.height||(p.bottom-p.bottom),q.offsetHeight)}else{o=q.offsetWidth;n=q.offsetHeight}return{width:o,height:n}},getPos:function(o,n){return m.DOM.getPos(o,n||j.getContainer())},getContainer:function(){return i.container?i.container:document.body},getViewPort:function(n){return m.DOM.getViewPort(n)},get:function(n){return document.getElementById(n)},addClass:function(o,n){return m.DOM.addClass(o,n)},removeClass:function(o,n){return m.DOM.removeClass(o,n)},hasClass:function(o,n){return m.DOM.hasClass(o,n)},toggleClass:function(p,n,o){return m.DOM.toggleClass(p,n,o)},css:function(p,n,o){return m.DOM.setStyle(p,n,o)},getRuntimeStyle:function(o,n){return m.DOM.getStyle(o,n,true)},on:function(p,n,q,o){return m.DOM.bind(p,n,q,o)},off:function(o,n,p){return m.DOM.unbind(o,n,p)},fire:function(p,o,n){return m.DOM.fire(p,o,n)},innerHtml:function(o,n){m.DOM.setHTML(o,n)}};return j});h("tinymce/ui/BoxUtils",[],function(){return{parseBox:function(k){var i,j=10;if(!k){return}if(typeof k==="number"){k=k||0;return{top:k,left:k,bottom:k,right:k}}k=k.split(" ");i=k.length;if(i===1){k[1]=k[2]=k[3]=k[0]}else{if(i===2){k[2]=k[0];k[3]=k[1]}else{if(i===3){k[3]=k[1]}}}return{top:parseInt(k[0],j)||0,right:parseInt(k[1],j)||0,bottom:parseInt(k[2],j)||0,left:parseInt(k[3],j)||0}},measureBox:function(l,j){function i(m){var n=document.defaultView;if(n){m=m.replace(/[A-Z]/g,function(o){return"-"+o});return n.getComputedStyle(l,null).getPropertyValue(m)}return l.currentStyle[m]}function k(m){var n=parseFloat(i(m),10);return isNaN(n)?0:n}return{top:k(j+"TopWidth"),right:k(j+"RightWidth"),bottom:k(j+"BottomWidth"),left:k(j+"LeftWidth")}}}});h("tinymce/ui/ClassList",["tinymce/util/Tools"],function(i){function j(){}function k(l){this.cls=[];this.cls._map={};this.onchange=l||j;this.prefix=""}i.extend(k.prototype,{add:function(l){if(l&&!this.contains(l)){this.cls._map[l]=true;this.cls.push(l);this._change()}return this},remove:function(l){if(this.contains(l)){for(var m=0;m<this.cls.length;m++){if(this.cls[m]===l){break}}this.cls.splice(m,1);delete this.cls._map[l];this._change()}return this},toggle:function(l,m){var n=this.contains(l);if(n!==m){if(n){this.remove(l)}else{this.add(l)}this._change()}return this},contains:function(l){return !!this.cls._map[l]},_change:function(){delete this.clsValue;this.onchange.call(this)}});k.prototype.toString=function(){var m;if(this.clsValue){return this.clsValue}m="";for(var l=0;l<this.cls.length;l++){if(l>0){m+=" "}m+=this.prefix+this.cls[l]}return m};return k});h("tinymce/ui/ReflowQueue",["tinymce/util/Delay"],function(k){var j={},i;return{add:function(m){var l=m.parent();if(l){if(!l._layout||l._layout.isNative()){return}if(!j[l._id]){j[l._id]=l}if(!i){i=true;k.requestAnimationFrame(function(){var o,n;i=false;for(o in j){n=j[o];if(n.state.get("rendered")){n.reflow()}}j={}},document.body)}}},remove:function(l){if(j[l._id]){delete j[l._id]}}}});h("tinymce/ui/Control",["tinymce/util/Class","tinymce/util/Tools","tinymce/util/EventDispatcher","tinymce/data/ObservableObject","tinymce/ui/Collection","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/ui/BoxUtils","tinymce/ui/ClassList","tinymce/ui/ReflowQueue"],function(u,j,x,l,y,v,m,s,i,t){var q="onmousewheel" in document;var w=false;var k="mce-";var z,n=0;var p={Statics:{classPrefix:k},isRtl:function(){return z.rtl},classPrefix:k,init:function(D){var B=this,C,A;function E(G){var F;G=G.split(" ");for(F=0;F<G.length;F++){B.classes.add(G[F])}}B.settings=D=j.extend({},B.Defaults,D);B._id=D.id||("mceu_"+(n++));B._aria={role:D.role};B._elmCache={};B.$=m;B.state=new l({visible:true,active:false,disabled:false,value:""});B.data=new l(D.data);B.classes=new i(function(){if(B.state.get("rendered")){B.getEl().className=this.toString()}});B.classes.prefix=B.classPrefix;C=D.classes;if(C){if(B.Defaults){A=B.Defaults.classes;if(A&&C!=A){E(A)}}E(C)}j.each("title text name visible disabled active value".split(" "),function(F){if(F in D){B[F](D[F])}});B.on("click",function(){if(B.disabled()){return false}});B.settings=D;B.borderBox=s.parseBox(D.border);B.paddingBox=s.parseBox(D.padding);B.marginBox=s.parseBox(D.margin);if(D.hidden){B.hide()}},Properties:"parent,name",getContainerElm:function(){return v.getContainer()},getParentCtrl:function(C){var A,B=this.getRoot().controlIdLookup;while(C&&B){A=B[C.id];if(A){break}C=C.parentNode}return A},initLayoutRect:function(){var Q=this,I=Q.settings,D,M;var K=Q.getEl(),H,O,E,N,G;var A,C,P;D=Q.borderBox=Q.borderBox||s.measureBox(K,"border");Q.paddingBox=Q.paddingBox||s.measureBox(K,"padding");Q.marginBox=Q.marginBox||s.measureBox(K,"margin");P=v.getSize(K);A=I.minWidth;C=I.minHeight;E=A||P.width;N=C||P.height;H=I.width;O=I.height;G=I.autoResize;G=typeof G!="undefined"?G:!H&&!O;H=H||E;O=O||N;var J=D.left+D.right;var B=D.top+D.bottom;var F=I.maxWidth||65535;var L=I.maxHeight||65535;Q._layoutRect=M={x:I.x||0,y:I.y||0,w:H,h:O,deltaW:J,deltaH:B,contentW:H-J,contentH:O-B,innerW:H-J,innerH:O-B,startMinWidth:A||0,startMinHeight:C||0,minW:Math.min(E,F),minH:Math.min(N,L),maxW:F,maxH:L,autoResize:G,scrollW:0};Q._lastLayoutRect={};return M},layoutRect:function(B){var H=this,D=H._layoutRect,G,I,F,E,A,C;if(!D){D=H.initLayoutRect()}if(B){F=D.deltaW;E=D.deltaH;if(B.x!==A){D.x=B.x}if(B.y!==A){D.y=B.y}if(B.minW!==A){D.minW=B.minW}if(B.minH!==A){D.minH=B.minH}I=B.w;if(I!==A){I=I<D.minW?D.minW:I;I=I>D.maxW?D.maxW:I;D.w=I;D.innerW=I-F}I=B.h;if(I!==A){I=I<D.minH?D.minH:I;I=I>D.maxH?D.maxH:I;D.h=I;D.innerH=I-E}I=B.innerW;if(I!==A){I=I<D.minW-F?D.minW-F:I;I=I>D.maxW-F?D.maxW-F:I;D.innerW=I;D.w=I+F}I=B.innerH;if(I!==A){I=I<D.minH-E?D.minH-E:I;I=I>D.maxH-E?D.maxH-E:I;D.innerH=I;D.h=I+E}if(B.contentW!==A){D.contentW=B.contentW}if(B.contentH!==A){D.contentH=B.contentH}G=H._lastLayoutRect;if(G.x!==D.x||G.y!==D.y||G.w!==D.w||G.h!==D.h){C=z.repaintControls;if(C){if(C.map&&!C.map[H._id]){C.push(H);C.map[H._id]=true}}G.x=D.x;G.y=D.y;G.w=D.w;G.h=D.h}return H}return D},repaint:function(){var K=this,B,D,F,E,A;var I,C,H,J,G;J=!document.createRange?Math.round:function(L){return L};B=K.getEl().style;E=K._layoutRect;H=K._lastRepaintRect||{};A=K.borderBox;I=A.left+A.right;C=A.top+A.bottom;if(E.x!==H.x){B.left=J(E.x)+"px";H.x=E.x}if(E.y!==H.y){B.top=J(E.y)+"px";H.y=E.y}if(E.w!==H.w){G=J(E.w-I);B.width=(G>=0?G:0)+"px";H.w=E.w}if(E.h!==H.h){G=J(E.h-C);B.height=(G>=0?G:0)+"px";H.h=E.h}if(K._hasBody&&E.innerW!==H.innerW){G=J(E.innerW);F=K.getEl("body");if(F){D=F.style;D.width=(G>=0?G:0)+"px"}H.innerW=E.innerW}if(K._hasBody&&E.innerH!==H.innerH){G=J(E.innerH);F=F||K.getEl("body");if(F){D=D||F.style;D.height=(G>=0?G:0)+"px"}H.innerH=E.innerH}K._lastRepaintRect=H;K.fire("repaint",{},false)},updateLayoutRect:function(){var A=this;A.parent()._lastRect=null;v.css(A.getEl(),{width:"",height:""});A._layoutRect=A._lastRepaintRect=A._lastLayoutRect=null;A.initLayoutRect()},on:function(C,D){var B=this;function A(E){var G,F;if(typeof E!="string"){return E}return function(H){if(!G){B.parentsAndSelf().each(function(J){var I=J.settings.callbacks;if(I&&(G=I[E])){F=J;return false}})}if(!G){H.action=E;this.fire("execute",H);return}return G.call(F,H)}}r(B).on(C,A(D));return B},off:function(A,B){r(this).off(A,B);return this},fire:function(D,C,A){var B=this;C=C||{};if(!C.control){C.control=B}C=r(B).fire(D,C);if(A!==false&&B.parent){var E=B.parent();while(E&&!C.isPropagationStopped()){E.fire(D,C,false);E=E.parent()}}return C},hasEventListeners:function(A){return r(this).has(A)},parents:function(A){var B=this,D,C=new y();for(D=B.parent();D;D=D.parent()){C.add(D)}if(A){C=C.filter(A)}return C},parentsAndSelf:function(A){return new y(this).add(this.parents(A))},next:function(){var A=this.parent().items();return A[A.indexOf(this)+1]},prev:function(){var A=this.parent().items();return A[A.indexOf(this)-1]},innerHtml:function(A){this.$el.html(A);return this},getEl:function(A){var B=A?this._id+"-"+A:this._id;if(!this._elmCache[B]){this._elmCache[B]=m("#"+B)[0]}return this._elmCache[B]},show:function(){return this.visible(true)},hide:function(){return this.visible(false)},focus:function(){try{this.getEl().focus()}catch(A){}return this},blur:function(){this.getEl().blur();return this},aria:function(B,C){var A=this,D=A.getEl(A.ariaTarget);if(typeof C==="undefined"){return A._aria[B]}A._aria[B]=C;if(A.state.get("rendered")){D.setAttribute(B=="role"?B:"aria-"+B,C)}return A},encode:function(B,A){if(A!==false){B=this.translate(B)}return(B||"").replace(/[&<>"]/g,function(C){return"&#"+C.charCodeAt(0)+";"})},translate:function(A){return z.translate?z.translate(A):A},before:function(B){var A=this,C=A.parent();if(C){C.insert(B,C.items().indexOf(A),true)}return A},after:function(B){var A=this,C=A.parent();if(C){C.insert(B,C.items().indexOf(A))}return A},remove:function(){var B=this,G=B.getEl(),E=B.parent(),C,D;if(B.items){var A=B.items().toArray();D=A.length;while(D--){A[D].remove()}}if(E&&E.items){C=[];E.items().each(function(H){if(H!==B){C.push(H)}});E.items().set(C);E._lastRect=null}if(B._eventsRoot&&B._eventsRoot==B){m(G).off()}var F=B.getRoot().controlIdLookup;if(F){delete F[B._id]}if(G&&G.parentNode){G.parentNode.removeChild(G)}B.state.set("rendered",false);B.state.destroy();B.fire("remove");return B},renderBefore:function(A){m(A).before(this.renderHtml());this.postRender();return this},renderTo:function(A){m(A||this.getContainerElm()).append(this.renderHtml());this.postRender();return this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var I=this,B=I.settings,D,C,G,A,F;I.$el=m(I.getEl());I.state.set("rendered",true);for(A in B){if(A.indexOf("on")===0){I.on(A.substr(2),B[A])}}if(I._eventsRoot){for(G=I.parent();!F&&G;G=G.parent()){F=G._eventsRoot}if(F){for(A in F._nativeEvents){I._nativeEvents[A]=true}}}o(I);if(B.style){D=I.getEl();if(D){D.setAttribute("style",B.style);D.style.cssText=B.style}}if(I.settings.border){C=I.borderBox;I.$el.css({"border-top-width":C.top,"border-right-width":C.right,"border-bottom-width":C.bottom,"border-left-width":C.left})}var E=I.getRoot();if(!E.controlIdLookup){E.controlIdLookup={}}E.controlIdLookup[I._id]=I;for(var H in I._aria){I.aria(H,I._aria[H])}if(I.state.get("visible")===false){I.getEl().style.display="none"}I.bindStates();I.state.on("change:visible",function(L){var K=L.value,J;if(I.state.get("rendered")){I.getEl().style.display=K===false?"none":"";I.getEl().getBoundingClientRect()}J=I.parent();if(J){J._lastRect=null}I.fire(K?"show":"hide");t.add(I)});I.fire("postrender",{},false)},bindStates:function(){},scrollIntoView:function(C){function K(P,N){var L,O,M=P;L=O=0;while(M&&M!=N&&M.nodeType){L+=M.offsetLeft||0;O+=M.offsetTop||0;M=M.offsetParent}return{x:L,y:O}}var E=this.getEl(),D=E.parentNode;var H,G,A,J,I,B;var F=K(E,D);H=F.x;G=F.y;A=E.offsetWidth;J=E.offsetHeight;I=D.clientWidth;B=D.clientHeight;if(C=="end"){H-=I-A;G-=B-J}else{if(C=="center"){H-=(I/2)-(A/2);G-=(B/2)-(J/2)}}D.scrollLeft=H;D.scrollTop=G;return this},getRoot:function(){var D=this,C,A=[];while(D){if(D.rootControl){C=D.rootControl;break}A.push(D);C=D;D=D.parent()}if(!C){C=this}var B=A.length;while(B--){A[B].rootControl=C}return C},reflow:function(){t.remove(this);var A=this.parent();if(A._layout&&!A._layout.isNative()){A.reflow()}return this}};j.each("text title visible disabled active value".split(" "),function(A){p[A]=function(B){if(arguments.length===0){return this.state.get(A)}if(typeof B!="undefined"){this.state.set(A,B)}return this}});z=u.extend(p);function r(A){if(!A._eventDispatcher){A._eventDispatcher=new x({scope:A,toggleEvent:function(B,C){if(C&&x.isNative(B)){if(!A._nativeEvents){A._nativeEvents={}}A._nativeEvents[B]=true;if(A.state.get("rendered")){o(A)}}}})}return A._eventDispatcher}function o(G){var F,D,K,C,I,B;function J(N){var M=G.getParentCtrl(N.target);if(M){M.fire(N.type,N)}}function E(){var M=C._lastHoverCtrl;if(M){M.fire("mouseleave",{target:M.getEl()});M.parents().each(function(N){N.fire("mouseleave",{target:N.getEl()})});C._lastHoverCtrl=null}}function L(R){var Q=G.getParentCtrl(R.target),P=C._lastHoverCtrl,M=0,O,N,S;if(Q!==P){C._lastHoverCtrl=Q;N=Q.parents().toArray().reverse();N.push(Q);if(P){S=P.parents().toArray().reverse();S.push(P);for(M=0;M<S.length;M++){if(N[M]!==S[M]){break}}for(O=S.length-1;O>=M;O--){P=S[O];P.fire("mouseleave",{target:P.getEl()})}}for(O=M;O<N.length;O++){Q=N[O];Q.fire("mouseenter",{target:Q.getEl()})}}}function A(M){M.preventDefault();if(M.type=="mousewheel"){M.deltaY=-1/40*M.wheelDelta;if(M.wheelDeltaX){M.deltaX=-1/40*M.wheelDeltaX}}else{M.deltaX=0;M.deltaY=M.detail}M=G.fire("wheel",M)}I=G._nativeEvents;if(I){K=G.parents().toArray();K.unshift(G);for(F=0,D=K.length;!C&&F<D;F++){C=K[F]._eventsRoot}if(!C){C=K[K.length-1]||G}G._eventsRoot=C;for(D=F,F=0;F<D;F++){K[F]._eventsRoot=C}var H=C._delegates;if(!H){H=C._delegates={}}for(B in I){if(!I){return false}if(B==="wheel"&&!w){if(q){m(G.getEl()).on("mousewheel",A)}else{m(G.getEl()).on("DOMMouseScroll",A)}continue}if(B==="mouseenter"||B==="mouseleave"){if(!C._hasMouseEnter){m(C.getEl()).on("mouseleave",E).on("mouseover",L);C._hasMouseEnter=1}}else{if(!H[B]){m(C.getEl()).on(B,J);H[B]=true}}I[B]=false}}}return z});h("tinymce/ui/Factory",[],function(){var i={},j;return{add:function(k,l){i[k.toLowerCase()]=l},has:function(k){return !!i[k.toLowerCase()]},create:function(o,n){var k,l,m;if(!j){m=tinymce.ui;for(l in m){i[l.toLowerCase()]=m[l]}j=true}if(typeof o=="string"){n=n||{};n.type=o}else{n=o;o=n.type}o=o.toLowerCase();k=i[o];if(!k){throw new Error("Could not find control by type: "+o)}k=new k(n);k.type=o;return k}}});h("tinymce/ui/KeyboardNavigation",[],function(){return function(B){var x=B.root,i,p;function w(F){return F&&F.nodeType===1}try{i=document.activeElement}catch(A){i=document.body}p=x.getParentCtrl(i);function t(F){F=F||i;if(w(F)){return F.getAttribute("role")}return null}function E(H){var G,F=H||i;while((F=F.parentNode)){if((G=t(F))){return G}}}function v(F){var G=i;if(w(G)){return G.getAttribute("aria-"+F)}}function u(G){var F=G.tagName.toUpperCase();return F=="INPUT"||F=="TEXTAREA"||F=="SELECT"}function j(F){if(u(F)&&!F.hidden){return true}if(/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(t(F))){return true}return false}function o(H){var G=[];function F(J){if(J.nodeType!=1||J.style.display=="none"){return}if(j(J)){G.push(J)}for(var I=0;I<J.childNodes.length;I++){F(J.childNodes[I])}}F(H||x.getEl());return G}function n(I){var G,F;I=I||p;F=I.parents().toArray();F.unshift(I);for(var H=0;H<F.length;H++){G=F[H];if(G.settings.ariaRoot){break}}return G}function y(H){var F=n(H);var G=o(F.getEl());if(F.settings.ariaRemember&&"lastAriaIndex" in F){r(F.lastAriaIndex,G)}else{r(0,G)}}function r(F,G){if(F<0){F=G.length-1}else{if(F>=G.length){F=0}}if(G[F]){G[F].focus()}return F}function D(H,J){var F=-1,G=n();J=J||o(G.getEl());for(var I=0;I<J.length;I++){if(J[I]===i){F=I}}F+=H;G.lastAriaIndex=r(F,J)}function m(){var F=E();if(F=="tablist"){D(-1,o(i.parentNode))}else{if(p.parent().submenu){l()}else{D(-1)}}}function C(){var G=t(),F=E();if(F=="tablist"){D(1,o(i.parentNode))}else{if(G=="menuitem"&&F=="menu"&&v("haspopup")){z()}else{D(1)}}}function q(){D(-1)}function s(){var G=t(),F=E();if(G=="menuitem"&&F=="menubar"){z()}else{if(G=="button"&&v("haspopup")){z({key:"down"})}else{D(1)}}}function k(G){var F=E();if(F=="tablist"){var H=o(p.getEl("body"))[0];if(H){H.focus()}}else{D(G.shiftKey?-1:1)}}function l(){p.fire("cancel")}function z(F){F=F||{};p.fire("click",{target:i,aria:F})}x.on("keydown",function(G){function F(I,H){if(u(i)){return}if(t(i)==="slider"){return}if(H(I)!==false){I.preventDefault()}}if(G.isDefaultPrevented()){return}switch(G.keyCode){case 37:F(G,m);break;case 39:F(G,C);break;case 38:F(G,q);break;case 40:F(G,s);break;case 27:l();break;case 14:case 13:case 32:F(G,z);break;case 9:if(k(G)!==false){G.preventDefault()}break}});x.on("focusin",function(F){i=F.target;p=F.control});return{focusFirst:y}}});h("tinymce/ui/Container",["tinymce/ui/Control","tinymce/ui/Collection","tinymce/ui/Selector","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/util/Tools","tinymce/dom/DomQuery","tinymce/ui/ClassList","tinymce/ui/ReflowQueue"],function(j,n,i,k,q,l,p,m,r){var o={};return j.extend({init:function(t){var s=this;s._super(t);t=s.settings;if(t.fixed){s.state.set("fixed",true)}s._items=new n();if(s.isRtl()){s.classes.add("rtl")}s.bodyClasses=new m(function(){if(s.state.get("rendered")){s.getEl("body").className=this.toString()}});s.bodyClasses.prefix=s.classPrefix;s.classes.add("container");s.bodyClasses.add("container-body");if(t.containerCls){s.classes.add(t.containerCls)}s._layout=k.create((t.layout||"")+"layout");if(s.settings.items){s.add(s.settings.items)}else{s.add(s.render())}s._hasBody=true},items:function(){return this._items},find:function(s){s=o[s]=o[s]||new i(s);return s.find(this)},add:function(t){var s=this;s.items().add(s.create(t)).parent(s);return s},focus:function(s){var u=this,w,v,t;if(s){v=u.keyboardNav||u.parents().eq(-1)[0].keyboardNav;if(v){v.focusFirst(u);return}}t=u.find("*");if(u.statusbar){t.add(u.statusbar.items())}t.each(function(x){if(x.settings.autofocus){w=null;return false}if(x.canFocus){w=w||x}});if(w){w.focus()}return u},replace:function(w,v){var u,s=this.items(),t=s.length;while(t--){if(s[t]===w){s[t]=v;break}}if(t>=0){u=v.getEl();if(u){u.parentNode.removeChild(u)}u=w.getEl();if(u){u.parentNode.removeChild(u)}}v.parent(this)},create:function(t){var s=this,v,u=[];if(!l.isArray(t)){t=[t]}l.each(t,function(w){if(w){if(!(w instanceof j)){if(typeof w=="string"){w={type:w}}v=l.extend({},s.settings.defaults,w);w.type=v.type=v.type||w.type||s.settings.defaultType||(v.defaults?v.defaults.type:null);w=k.create(v)}u.push(w)}});return u},renderNew:function(){var s=this;s.items().each(function(u,t){var v;u.parent(s);if(!u.state.get("rendered")){v=s.getEl("body");if(v.hasChildNodes()&&t<=v.childNodes.length-1){p(v.childNodes[t]).before(u.renderHtml())}else{p(v).append(u.renderHtml())}u.postRender();r.add(u)}});s._layout.applyClasses(s.items().filter(":visible"));s._lastRect=null;return s},append:function(s){return this.add(s).renderNew()},prepend:function(t){var s=this;s.items().set(s.create(t).concat(s.items().toArray()));return s.renderNew()},insert:function(u,w,y){var t=this,v,s,x;u=t.create(u);v=t.items();if(!y&&w<v.length-1){w+=1}if(w>=0&&w<v.length){s=v.slice(0,w).toArray();x=v.slice(w).toArray();v.set(s.concat(u,x))}return t.renderNew()},fromJSON:function(u){var s=this;for(var t in u){s.find("#"+t).value(u[t])}return s},toJSON:function(){var s=this,t={};s.find("*").each(function(w){var u=w.name(),v=w.value();if(u&&typeof v!="undefined"){t[u]=v}});return t},renderHtml:function(){var s=this,t=s._layout,u=this.settings.role;s.preRender();t.preRender(s);return('<div id="'+s._id+'" class="'+s.classes+'"'+(u?' role="'+this.settings.role+'"':"")+'><div id="'+s._id+'-body" class="'+s.bodyClasses+'">'+(s.settings.html||"")+t.renderHtml(s)+"</div></div>")},postRender:function(){var s=this,t;s.items().exec("postRender");s._super();s._layout.postRender(s);s.state.set("rendered",true);if(s.settings.style){s.$el.css(s.settings.style)}if(s.settings.border){t=s.borderBox;s.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left})}if(!s.parent()){s.keyboardNav=new q({root:s})}return s},initLayoutRect:function(){var s=this,t=s._super();s._layout.recalc(s);return t},recalc:function(){var s=this,u=s._layoutRect,t=s._lastRect;if(!t||t.w!=u.w||t.h!=u.h){s._layout.recalc(s);u=s.layoutRect();s._lastRect={x:u.x,y:u.y,w:u.w,h:u.h};return true}},reflow:function(){var s;r.remove(this);if(this.visible()){j.repaintControls=[];j.repaintControls.map={};this.recalc();s=j.repaintControls.length;while(s--){j.repaintControls[s].repaint()}if(this.settings.layout!=="flow"&&this.settings.layout!=="stack"){this.repaint()}j.repaintControls=[]}return this}})});h("tinymce/ui/DragHelper",["tinymce/dom/DomQuery"],function(i){function k(s){var t,o,m,r;var p,u,n,l,q=Math.max;t=s.documentElement;o=s.body;m=q(t.scrollWidth,o.scrollWidth);r=q(t.clientWidth,o.clientWidth);p=q(t.offsetWidth,o.offsetWidth);u=q(t.scrollHeight,o.scrollHeight);n=q(t.clientHeight,o.clientHeight);l=q(t.offsetHeight,o.offsetHeight);return{width:m<p?r:m,height:u<l?n:u}}function j(n){var m,l;if(n.changedTouches){m="screenX screenY pageX pageY clientX clientY".split(" ");for(l=0;l<m.length;l++){n[m[l]]=n.changedTouches[0][m[l]]}}}return function(m,o){var t,v=o.document||document,l,n,u,r,q,p;o=o||{};function s(){return v.getElementById(o.handle||m)}n=function(x){var z=k(v),w,y;j(x);x.preventDefault();l=x.button;w=s();q=x.screenX;p=x.screenY;if(window.getComputedStyle){y=window.getComputedStyle(w,null).getPropertyValue("cursor")}else{y=w.runtimeStyle.cursor}t=i("<div>").css({position:"absolute",top:0,left:0,width:z.width,height:z.height,zIndex:2147483647,opacity:0.0001,cursor:y}).appendTo(v.body);i(v).on("mousemove touchmove",r).on("mouseup touchend",u);o.start(x)};r=function(w){j(w);if(w.button!==l){return u(w)}w.deltaX=w.screenX-q;w.deltaY=w.screenY-p;w.preventDefault();o.drag(w)};u=function(w){j(w);i(v).off("mousemove touchmove",r).off("mouseup touchend",u);t.remove();if(o.stop){o.stop(w)}};this.destroy=function(){i(s()).off()};i(s()).on("mousedown touchstart",n)}});h("tinymce/ui/Scrollable",["tinymce/dom/DomQuery","tinymce/ui/DragHelper"],function(j,i){return{init:function(){var k=this;k.on("repaint",k.renderScroll)},renderScroll:function(){var l=this,m=2;function n(){var r,q,p;function o(w,v,y,E,D,u){var x,B,A;var t,s,z,C;var F,G;B=l.getEl("scroll"+w);if(B){F=v.toLowerCase();G=y.toLowerCase();j(l.getEl("absend")).css(F,l.layoutRect()[E]-1);if(!D){j(B).css("display","none");return}j(B).css("display","block");x=l.getEl("body");A=l.getEl("scroll"+w+"t");t=x["client"+y]-(m*2);t-=r&&q?B["client"+u]:0;s=x["scroll"+y];z=t/s;C={};C[F]=x["offset"+v]+m;C[G]=t;j(B).css(C);C={};C[F]=x["scroll"+v]*z;C[G]=t*z;j(A).css(C)}}p=l.getEl("body");r=p.scrollWidth>p.clientWidth;q=p.scrollHeight>p.clientHeight;o("h","Left","Width","contentW",r,"Height");o("v","Top","Height","contentH",q,"Width")}function k(){function o(v,r,p,w,t){var u,q=l._id+"-scroll"+v,s=l.classPrefix;j(l.getEl()).append('<div id="'+q+'" class="'+s+"scrollbar "+s+"scrollbar-"+v+'"><div id="'+q+'t" class="'+s+'scrollbar-thumb"></div></div>');l.draghelper=new i(q+"t",{start:function(){u=l.getEl("body")["scroll"+r];j("#"+q).addClass(s+"active")},drag:function(A){var x,C,z,B,y=l.layoutRect();C=y.contentW>y.innerW;z=y.contentH>y.innerH;B=l.getEl("body")["client"+p]-(m*2);B-=C&&z?l.getEl("scroll"+v)["client"+t]:0;x=B/l.getEl("body")["scroll"+p];l.getEl("body")["scroll"+r]=u+(A["delta"+w]/x)},stop:function(){j("#"+q).removeClass(s+"active")}})}l.classes.add("scroll");o("v","Top","Height","Y","Width");o("h","Left","Width","X","Height")}if(l.settings.autoScroll){if(!l._hasScroll){l._hasScroll=true;k();l.on("wheel",function(p){var o=l.getEl("body");o.scrollLeft+=(p.deltaX||0)*10;o.scrollTop+=p.deltaY*10;n()});j(l.getEl("body")).on("scroll",n)}n()}}}});h("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(j,i){return j.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[i],renderHtml:function(){var l=this,m=l._layout,k=l.settings.html;l.preRender();m.preRender(l);if(typeof k=="undefined"){k=('<div id="'+l._id+'-body" class="'+l.bodyClasses+'">'+m.renderHtml(l)+"</div>")}else{if(typeof k=="function"){k=k.call(l)}l._hasBody=false}return('<div id="'+l._id+'" class="'+l.classes+'" hidefocus="1" tabindex="-1" role="group">'+(l._preBodyHtml||"")+k+"</div>")}})});h("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(i){function j(k,s,v){var u,o,r,p,t,m,q,l,n,w;n=i.getViewPort();o=i.getPos(s);r=o.x;p=o.y;if(k.state.get("fixed")&&i.getRuntimeStyle(document.body,"position")=="static"){r-=n.x;p-=n.y}u=k.getEl();w=i.getSize(u);t=w.width;m=w.height;w=i.getSize(s);q=w.width;l=w.height;v=(v||"").split("");if(v[0]==="b"){p+=l}if(v[1]==="r"){r+=q}if(v[0]==="c"){p+=Math.round(l/2)}if(v[1]==="c"){r+=Math.round(q/2)}if(v[3]==="b"){p-=m}if(v[4]==="r"){r-=t}if(v[3]==="c"){p-=Math.round(m/2)}if(v[4]==="c"){r-=Math.round(t/2)}return{x:r,y:p,w:t,h:m}}return{testMoveRel:function(o,l){var k=i.getViewPort();for(var m=0;m<l.length;m++){var n=j(this,o,l[m]);if(this.state.get("fixed")){if(n.x>0&&n.x+n.w<k.w&&n.y>0&&n.y+n.h<k.h){return l[m]}}else{if(n.x>k.x&&n.x+n.w<k.w+k.x&&n.y>k.y&&n.y+n.h<k.h+k.y){return l[m]}}}return l[0]},moveRel:function(m,k){if(typeof k!="string"){k=this.testMoveRel(m,k)}var l=j(this,m,k);return this.moveTo(l.x,l.y)},moveBy:function(m,k){var l=this,n=l.layoutRect();l.moveTo(n.x+m,n.y+k);return l},moveTo:function(k,p){var l=this;function o(s,q,r){if(s<0){return 0}if(s+r>q){s=q-r;return s<0?0:s}return s}if(l.settings.constrainToViewport){var m=i.getViewPort(window);var n=l.layoutRect();k=o(k,m.w+m.x,n.w);p=o(p,m.h+m.y,n.h)}if(l.state.get("rendered")){l.layoutRect({x:k,y:p}).repaint()}else{l.settings.x=k;l.settings.y=p}l.fire("move",{x:k,y:p});return l}}});h("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(i){return{resizeToContent:function(){this._layoutRect.autoResize=true;this._lastRect=null;this.reflow()},resizeTo:function(j,k){if(j<=1||k<=1){var l=i.getWindowSize();j=j<=1?j*l.w:j;k=k<=1?k*l.h:k}this._layoutRect.autoResize=false;return this.layoutRect({minW:j,minH:k,w:j,h:k}).reflow()},resizeBy:function(k,m){var j=this,l=j.layoutRect();return j.resizeTo(l.w+k,l.h+m)}}});h("tinymce/ui/FloatPanel",["tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/util/Delay"],function(z,w,q,B,o,n){var m,v,r,k=[];var i=[],p;function x(E,D){while(E){if(E==D){return true}E=E.parent()}}function s(G){var F=k.length;while(F--){var E=k[F],D=E.getParentCtrl(G.target);if(E.settings.autohide){if(D){if(x(D,E)||E.parent()===D){continue}}G=E.fire("autohide",{target:G.target});if(!G.isDefaultPrevented()){E.hide()}}}}function j(){if(!m){m=function(D){if(D.button==2){return}s(D)};o(document).on("click touchstart",m)}}function l(){if(!v){v=function(){var D;D=k.length;while(D--){t(k[D])}};o(window).on("scroll",v)}}function A(){if(!r){var E=document.documentElement,F=E.clientWidth,D=E.clientHeight;r=function(){if(!document.all||F!=E.clientWidth||D!=E.clientHeight){F=E.clientWidth;D=E.clientHeight;y.hideAll()}};o(window).on("resize",r)}}function t(D){var E=B.getViewPort().y;function F(J,G){var I;for(var H=0;H<k.length;H++){if(k[H]!=D){I=k[H].parent();while(I&&(I=I.parent())){if(I==D){k[H].fixed(J).moveBy(0,G).repaint()}}}}}if(D.settings.autofix){if(!D.state.get("fixed")){D._autoFixY=D.layoutRect().y;if(D._autoFixY<E){D.fixed(true).layoutRect({y:0}).repaint();F(true,E-D._autoFixY)}}else{if(D._autoFixY>E){D.fixed(false).layoutRect({y:D._autoFixY}).repaint();F(false,D._autoFixY-E)}}}}function u(H,F){var D,I=y.zIndex||65535,E;if(H){i.push(F)}else{D=i.length;while(D--){if(i[D]===F){i.splice(D,1)}}}if(i.length){for(D=0;D<i.length;D++){if(i[D].modal){I++;E=i[D]}i[D].getEl().style.zIndex=I;i[D].zIndex=I;I++}}var G=o("#"+F.classPrefix+"modal-block",F.getContainerElm())[0];if(E){o(G).css("z-index",E.zIndex-1)}else{if(G){G.parentNode.removeChild(G);p=false}}y.currentZIndex=I}var y=z.extend({Mixins:[w,q],init:function(E){var D=this;D._super(E);D._eventsRoot=D;D.classes.add("floatpanel");if(E.autohide){j();A();k.push(D)}if(E.autofix){l();D.on("move",function(){t(this)})}D.on("postrender show",function(H){if(H.control==D){var G,F=D.classPrefix;if(D.modal&&!p){G=o("#"+F+"modal-block",D.getContainerElm());if(!G[0]){G=o('<div id="'+F+'modal-block" class="'+F+"reset "+F+'fade"></div>').appendTo(D.getContainerElm())}n.setTimeout(function(){G.addClass(F+"in");o(D.getEl()).addClass(F+"in")});p=true}u(true,D)}});D.on("show",function(){D.parents().each(function(F){if(F.state.get("fixed")){D.fixed(true);return false}})});if(E.popover){D._preBodyHtml='<div class="'+D.classPrefix+'arrow"></div>';D.classes.add("popover").add("bottom").add(D.isRtl()?"end":"start")}D.aria("label",E.ariaLabel);D.aria("labelledby",D._id);D.aria("describedby",D.describedBy||D._id+"-none")},fixed:function(F){var E=this;if(E.state.get("fixed")!=F){if(E.state.get("rendered")){var D=B.getViewPort();if(F){E.layoutRect().y-=D.y}else{E.layoutRect().y+=D.y}}E.classes.toggle("fixed",F);E.state.set("fixed",F)}return E},show:function(){var D=this,E,F=D._super();E=k.length;while(E--){if(k[E]===D){break}}if(E===-1){k.push(D)}return F},hide:function(){C(this);u(false,this);return this._super()},hideAll:function(){y.hideAll()},close:function(){var D=this;if(!D.fire("close").isDefaultPrevented()){D.remove();u(false,D)}return D},remove:function(){C(this);this._super()},postRender:function(){var D=this;if(D.settings.bodyRole){this.getEl("body").setAttribute("role",D.settings.bodyRole)}return D._super()}});y.hideAll=function(){var E=k.length;while(E--){var D=k[E];if(D&&D.settings.autohide){D.hide();k.splice(E,1)}}};function C(D){var E;E=k.length;while(E--){if(k[E]===D){k.splice(E,1)}}E=i.length;while(E--){if(i[E]===D){i.splice(E,1)}}}return y});h("tinymce/ui/Window",["tinymce/ui/FloatPanel","tinymce/ui/Panel","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/ui/DragHelper","tinymce/ui/BoxUtils","tinymce/Env","tinymce/util/Delay"],function(p,t,i,n,j,v,q,k){var s=[],o="";function l(z){var y="width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0",w=n("meta[name=viewport]")[0],x;if(q.overrideViewPort===false){return}if(!w){w=document.createElement("meta");w.setAttribute("name","viewport");document.getElementsByTagName("head")[0].appendChild(w)}x=w.getAttribute("content");if(x&&typeof o!="undefined"){o=x}w.setAttribute("content",z?y:o)}function r(w){for(var x=0;x<s.length;x++){if(s[x]._fullscreen){return}}n([document.documentElement,document.body]).removeClass(w+"fullscreen")}function m(){if(!q.desktop){var x={w:window.innerWidth,h:window.innerHeight};k.setInterval(function(){var y=window.innerWidth,z=window.innerHeight;if(x.w!=y||x.h!=z){x={w:y,h:z};n(window).trigger("resize")}},100)}function w(){var y,A=i.getWindowSize(),z;for(y=0;y<s.length;y++){z=s[y].layoutRect();s[y].moveTo(s[y].settings.x||Math.max(0,A.w/2-z.w/2),s[y].settings.y||Math.max(0,A.h/2-z.h/2))}}n(window).on("resize",w)}var u=p.extend({modal:true,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(x){var w=this;w._super(x);if(w.isRtl()){w.classes.add("rtl")}w.classes.add("window");w.bodyClasses.add("window-body");w.state.set("fixed",true);if(x.buttons){w.statusbar=new t({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:w.isRtl()?"start":"end",defaults:{type:"button"},items:x.buttons});w.statusbar.classes.add("foot");w.statusbar.parent(w)}w.on("click",function(z){var y=w.classPrefix+"close";if(i.hasClass(z.target,y)||i.hasClass(z.target.parentNode,y)){w.close()}});w.on("cancel",function(){w.close()});w.aria("describedby",w.describedBy||w._id+"-none");w.aria("label",x.title);w._fullscreen=false},recalc:function(){var y=this,B=y.statusbar,A,z,w,C;if(y._fullscreen){y.layoutRect(i.getWindowSize());y.layoutRect().contentH=y.layoutRect().innerH}y._super();A=y.layoutRect();if(y.settings.title&&!y._fullscreen){z=A.headerW;if(z>A.w){w=A.x-Math.max(0,z/2);y.layoutRect({w:z,x:w});C=true}}if(B){B.layoutRect({w:y.layoutRect().innerW}).recalc();z=B.layoutRect().minW+A.deltaW;if(z>A.w){w=A.x-Math.max(0,z-A.w);y.layoutRect({w:z,x:w});C=true}}if(C){y.recalc()}},initLayoutRect:function(){var w=this,A=w._super(),z=0,B;if(w.settings.title&&!w._fullscreen){B=w.getEl("head");var x=i.getSize(B);A.headerW=x.width;A.headerH=x.height;z+=A.headerH}if(w.statusbar){z+=w.statusbar.layoutRect().h}A.deltaH+=z;A.minH+=z;A.h+=z;var y=i.getWindowSize();A.x=w.settings.x||Math.max(0,y.w/2-A.w/2);A.y=w.settings.y||Math.max(0,y.h/2-A.h/2);return A},renderHtml:function(){var x=this,A=x._layout,D=x._id,B=x.classPrefix;var z=x.settings,w="",C="",y=z.html;x.preRender();A.preRender(x);if(z.title){w=('<div id="'+D+'-head" class="'+B+'window-head"><div id="'+D+'-title" class="'+B+'title">'+x.encode(z.title)+'</div><div id="'+D+'-dragh" class="'+B+'dragh"></div><button type="button" class="'+B+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>')}if(z.url){y='<iframe src="'+z.url+'" tabindex="-1"></iframe>'}if(typeof y=="undefined"){y=A.renderHtml(x)}if(x.statusbar){C=x.statusbar.renderHtml()}return('<div id="'+D+'" class="'+x.classes+'" hidefocus="1"><div class="'+x.classPrefix+'reset" role="application">'+w+'<div id="'+D+'-body" class="'+x.bodyClasses+'">'+y+"</div>"+C+"</div></div>")},fullscreen:function(C){var w=this,B=document.documentElement,x,A=w.classPrefix,z;if(C!=w._fullscreen){n(window).on("resize",function(){var E;if(w._fullscreen){if(!x){E=new Date().getTime();var D=i.getWindowSize();w.moveTo(0,0).resizeTo(D.w,D.h);if((new Date().getTime())-E>50){x=true}}else{if(!w._timer){w._timer=k.setTimeout(function(){var F=i.getWindowSize();w.moveTo(0,0).resizeTo(F.w,F.h);w._timer=0},50)}}}});z=w.layoutRect();w._fullscreen=C;if(!C){w.borderBox=v.parseBox(w.settings.border);w.getEl("head").style.display="";z.deltaH+=z.headerH;n([B,document.body]).removeClass(A+"fullscreen");w.classes.remove("fullscreen");w.moveTo(w._initial.x,w._initial.y).resizeTo(w._initial.w,w._initial.h)}else{w._initial={x:z.x,y:z.y,w:z.w,h:z.h};w.borderBox=v.parseBox("0");w.getEl("head").style.display="none";z.deltaH-=z.headerH+2;n([B,document.body]).addClass(A+"fullscreen");w.classes.add("fullscreen");var y=i.getWindowSize();w.moveTo(0,0).resizeTo(y.w,y.h)}}return w.reflow()},postRender:function(){var w=this,x;setTimeout(function(){w.classes.add("in");w.fire("open")},0);w._super();if(w.statusbar){w.statusbar.postRender()}w.focus();this.dragHelper=new j(w._id+"-dragh",{start:function(){x={x:w.layoutRect().x,y:w.layoutRect().y}},drag:function(y){w.moveTo(x.x+y.deltaX,x.y+y.deltaY)}});w.on("submit",function(y){if(!y.isDefaultPrevented()){w.close()}});s.push(w);l(true)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var w=this,x;w.dragHelper.destroy();w._super();if(w.statusbar){this.statusbar.remove()}x=s.length;while(x--){if(s[x]===w){s.splice(x,1)}}l(s.length>0);r(w.classPrefix)},getContentWindow:function(){var w=this.getEl().getElementsByTagName("iframe")[0];return w?w.contentWindow:null}});m();return u});h("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(j){var i=j.extend({init:function(k){k={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:true,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:true,maxWidth:500,maxHeight:200}};this._super(k)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(l){var m,n=l.callback||function(){};function k(q,o,p){return{type:"button",text:q,subtype:p?"primary":"",onClick:function(r){r.control.parents()[1].close();n(o)}}}switch(l.buttons){case i.OK_CANCEL:m=[k("Ok",true,true),k("Cancel",false)];break;case i.YES_NO:case i.YES_NO_CANCEL:m=[k("Yes",1,true),k("No",0)];if(l.buttons==i.YES_NO_CANCEL){m.push(k("Cancel",-1))}break;default:m=[k("Ok",true,true)];break}return new j({padding:20,x:l.x,y:l.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:m,title:l.title,role:"alertdialog",items:{type:"label",multiline:true,maxWidth:500,maxHeight:200,text:l.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:l.onClose,onCancel:function(){n(false)}}).renderTo(document.body).reflow()},alert:function(k,l){if(typeof k=="string"){k={text:k}}k.callback=l;return i.msgBox(k)},confirm:function(k,l){if(typeof k=="string"){k={text:k}}k.callback=l;k.buttons=i.OK_CANCEL;return i.msgBox(k)}}});return i});h("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(j,i){return function(o){var n=this,p=[];function l(){if(p.length){return p[p.length-1]}}function m(q){o.fire("OpenWindow",{win:q})}function k(q){o.fire("CloseWindow",{win:q})}n.windows=p;o.on("remove",function(){var q=p.length;while(q--){p[q].close()}});n.open=function(q,s){var r;o.editorManager.setActive(o);q.title=q.title||" ";q.url=q.url||q.file;if(q.url){q.width=parseInt(q.width||320,10);q.height=parseInt(q.height||240,10)}if(q.body){q.items={defaults:q.defaults,type:q.bodyType||"form",items:q.body,data:q.data,callbacks:q.commands}}if(!q.url&&!q.buttons){q.buttons=[{text:"Ok",subtype:"primary",onclick:function(){r.find("form")[0].submit()}},{text:"Cancel",onclick:function(){r.close()}}]}r=new j(q);p.push(r);r.on("close",function(){var t=p.length;while(t--){if(p[t]===r){p.splice(t,1)}}if(!p.length){o.focus()}k(r)});if(q.data){r.on("postRender",function(){this.find("*").each(function(u){var t=u.name();if(t in q.data){u.value(q.data[t])}})})}r.features=q||{};r.params=s||{};if(p.length===1){o.nodeChanged()}r=r.renderTo().reflow();m(r);return r};n.alert=function(r,t,q){var s;s=i.alert(r,function(){if(t){t.call(q||this)}else{o.focus()}});s.on("close",function(){k(s)});m(s)};n.confirm=function(r,t,q){var s;s=i.confirm(r,function(u){t.call(q||this,u)});s.on("close",function(){k(s)});m(s)};n.close=function(){if(l()){l().close()}};n.getParams=function(){return l()?l().params:null};n.setParams=function(q){if(l()){l().params=q}};n.getWindows=function(){return p}}});h("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(j,i){return j.extend({Mixins:[i],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var k=this,l=k.classPrefix;return('<div id="'+k._id+'" class="'+k.classes+'" role="presentation"><div class="'+l+'tooltip-arrow"></div><div class="'+l+'tooltip-inner">'+k.encode(k.state.get("text"))+"</div></div>")},bindStates:function(){var k=this;k.state.on("change:text",function(l){k.getEl().lastChild.innerHTML=k.encode(l.value)});return k._super()},repaint:function(){var k=this,l,m;l=k.getEl().style;m=k._layoutRect;l.left=m.x+"px";l.top=m.y+"px";l.zIndex=65535+65535}})});h("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(k,i){var l;var j=k.extend({init:function(n){var m=this;m._super(n);n=m.settings;m.canFocus=true;if(n.tooltip&&j.tooltips!==false){m.on("mouseenter",function(q){var p=m.tooltip().moveTo(-65535);if(q.control==m){var o=p.text(n.tooltip).show().testMoveRel(m.getEl(),["bc-tc","bc-tl","bc-tr"]);p.classes.toggle("tooltip-n",o=="bc-tc");p.classes.toggle("tooltip-nw",o=="bc-tl");p.classes.toggle("tooltip-ne",o=="bc-tr");p.moveRel(m.getEl(),o)}else{p.hide()}});m.on("mouseleave mousedown click",function(){m.tooltip().hide()})}m.aria("label",n.ariaLabel||n.tooltip)},tooltip:function(){if(!l){l=new i({type:"tooltip"});l.renderTo()}return l},postRender:function(){var m=this,n=m.settings;m._super();if(!m.parent()&&(n.width||n.height)){m.initLayoutRect();m.repaint()}if(n.autofocus){m.focus()}},bindStates:function(){var m=this;function n(p){m.aria("disabled",p);m.classes.toggle("disabled",p)}function o(p){m.aria("pressed",p);m.classes.toggle("active",p)}m.state.on("change:disabled",function(p){n(p.value)});m.state.on("change:active",function(p){o(p.value)});if(m.state.get("disabled")){n(true)}if(m.state.get("active")){o(true)}return m._super()},remove:function(){this._super();if(l){l.remove();l=null}}});return j});h("tinymce/ui/Progress",["tinymce/ui/Widget"],function(i){return i.extend({Defaults:{value:0},init:function(k){var j=this;j._super(k);j.classes.add("progress");if(!j.settings.filter){j.settings.filter=function(l){return Math.round(l)}}},renderHtml:function(){var j=this,l=j._id,k=this.classPrefix;return('<div id="'+l+'" class="'+j.classes+'"><div class="'+k+'bar-container"><div class="'+k+'bar"></div></div><div class="'+k+'text">0%</div></div>')},postRender:function(){var j=this;j._super();j.value(j.settings.value);return j},bindStates:function(){var j=this;function k(l){l=j.settings.filter(l);j.getEl().lastChild.innerHTML=l+"%";j.getEl().firstChild.firstChild.style.width=l+"%"}j.state.on("change:value",function(l){k(l.value)});k(j.state.get("value"));return j._super()}})});h("tinymce/ui/Notification",["tinymce/ui/Control","tinymce/ui/Movable","tinymce/ui/Progress","tinymce/util/Delay"],function(k,j,i,l){return k.extend({Mixins:[j],Defaults:{classes:"widget notification"},init:function(n){var m=this;m._super(n);if(n.text){m.text(n.text)}if(n.icon){m.icon=n.icon}if(n.color){m.color=n.color}if(n.type){m.classes.add("notification-"+n.type)}if(n.timeout&&(n.timeout<0||n.timeout>0)&&!n.closeButton){m.closeButton=false}else{m.classes.add("has-close");m.closeButton=true}if(n.progressBar){m.progressBar=new i()}m.on("click",function(o){if(o.target.className.indexOf(m.classPrefix+"close")!=-1){m.close()}})},renderHtml:function(){var o=this,q=o.classPrefix,p="",n="",r="",m="";if(o.icon){p='<i class="'+q+"ico "+q+"i-"+o.icon+'"></i>'}if(o.color){m=' style="background-color: '+o.color+'"'}if(o.closeButton){n='<button type="button" class="'+q+'close" aria-hidden="true">\u00d7</button>'}if(o.progressBar){r=o.progressBar.renderHtml()}return('<div id="'+o._id+'" class="'+o.classes+'"'+m+' role="presentation">'+p+'<div class="'+q+'notification-inner">'+o.state.get("text")+"</div>"+r+n+"</div>")},postRender:function(){var m=this;l.setTimeout(function(){m.$el.addClass(m.classPrefix+"in")});return m._super()},bindStates:function(){var m=this;m.state.on("change:text",function(n){m.getEl().childNodes[1].innerHTML=n.value});if(m.progressBar){m.progressBar.bindStates()}return m._super()},close:function(){var m=this;if(!m.fire("close").isDefaultPrevented()){m.remove()}return m},repaint:function(){var m=this,n,o;n=m.getEl().style;o=m._layoutRect;n.left=o.x+"px";n.top=o.y+"px";n.zIndex=65535+65535}})});h("tinymce/NotificationManager",["tinymce/ui/Notification","tinymce/util/Delay"],function(i,j){return function(o){var k=this,m=[];function n(){if(m.length){return m[m.length-1]}}k.notifications=m;function p(){j.requestAnimationFrame(function(){l();q()})}function l(){for(var r=0;r<m.length;r++){m[r].moveTo(0,0)}}function q(){if(m.length>0){var t=m.slice(0,1)[0];var r=o.inline?o.getElement():o.getContentAreaContainer();t.moveRel(r,"tc-tc");if(m.length>1){for(var s=1;s<m.length;s++){m[s].moveRel(m[s-1].getEl(),"bc-tc")}}}}o.on("remove",function(){var r=m.length;while(r--){m[r].close()}});o.on("ResizeEditor",q);o.on("ResizeWindow",p);k.open=function(s){var r;o.editorManager.setActive(o);r=new i(s);m.push(r);if(s.timeout>0){r.timer=setTimeout(function(){r.close()},s.timeout)}r.on("close",function(){var t=m.length;if(r.timer){o.getWin().clearTimeout(r.timer)}while(t--){if(m[t]===r){m.splice(t,1)}}q()});r.renderTo();q();return r};k.close=function(){if(n()){n().close()}};k.getNotifications=function(){return m};o.on("SkinLoaded",function(){var r=o.settings.service_message;if(r){o.notificationManager.open({text:r,type:"warning",timeout:0,icon:""})}})}});h("tinymce/dom/NodePath",["tinymce/dom/DOMUtils"],function(k){function i(l,n,o){var m=[];for(;n&&n!=l;n=n.parentNode){m.push(k.nodeIndex(n,o))}return m}function j(l,p){var n,o,m;for(o=l,n=p.length-1;n>=0;n--){m=o.childNodes;if(p[n]>m.length-1){return null}o=m[p[n]]}return o}return{create:i,resolve:j}});h("tinymce/util/Quirks",["tinymce/util/VK","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker","tinymce/dom/NodePath","tinymce/html/Node","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools","tinymce/util/Delay","tinymce/caret/CaretContainer","tinymce/caret/CaretPosition","tinymce/caret/CaretWalker"],function(t,n,s,l,o,j,p,k,i,r,m,q){return function(u){var an=k.each,aa=u.$;var w=t.BACKSPACE,I=t.DELETE,v=u.dom,L=u.selection,ar=u.settings,Z=u.parser,Q=u.serializer;var y=p.gecko,G=p.ie,ak=p.webkit;var af="data:text/mce-internal,";var x=G?"Text":"URL";function ae(az,ay){try{u.getDoc().execCommand(az,false,ay)}catch(ax){}}function N(){var ax=u.getDoc().documentMode;return ax?ax:6}function ad(ax){return ax.isDefaultPrevented()}function aw(ay){var ax,az;if(ay.dataTransfer){if(u.selection.isCollapsed()&&ay.target.tagName=="IMG"){L.select(ay.target)}ax=u.selection.getContent();if(ax.length>0){az=af+escape(u.id)+","+escape(ax);ay.dataTransfer.setData(x,az)}}}function O(ax){var ay;if(ax.dataTransfer){ay=ax.dataTransfer.getData(x);if(ay&&ay.indexOf(af)>=0){ay=ay.substr(af.length).split(",");return{id:unescape(ay[0]),html:unescape(ay[1])}}}return null}function U(ax){if(u.queryCommandSupported("mceInsertClipboardContent")){u.execCommand("mceInsertClipboardContent",false,{content:ax})}else{u.execCommand("mceInsertContent",false,ax)}}function au(){var aI=u.getDoc(),aC=u.dom,aJ=u.selection;var ay=window.MutationObserver,aD,aH;if(!ay){aD=true;ay=function(){var aL=[],aO;function aN(aQ){var aP=aQ.relatedNode||aQ.target;aL.push({target:aP,addedNodes:[aP]})}function aM(aQ){var aP=aQ.relatedNode||aQ.target;aL.push({target:aP,attributeName:aQ.attrName})}this.observe=function(aP){aO=aP;aO.addEventListener("DOMSubtreeModified",aN,false);aO.addEventListener("DOMNodeInsertedIntoDocument",aN,false);aO.addEventListener("DOMNodeInserted",aN,false);aO.addEventListener("DOMAttrModified",aM,false)};this.disconnect=function(){aO.removeEventListener("DOMSubtreeModified",aN,false);aO.removeEventListener("DOMNodeInsertedIntoDocument",aN,false);aO.removeEventListener("DOMNodeInserted",aN,false);aO.removeEventListener("DOMAttrModified",aM,false)};this.takeRecords=function(){return aL}}}function ax(aN){var aM=aC.schema.getBlockElements(),aL=u.getBody();if(aN.nodeName!="BR"){return false}for(;aN!=aL&&!aM[aN.nodeName];aN=aN.parentNode){if(aN.nextSibling){return false}}return true}function az(aM,aL){var aN;for(aN=aM.nextSibling;aN&&aN!=aL;aN=aN.nextSibling){if(aN.nodeType==3&&aa.trim(aN.data).length===0){continue}if(aN!==aL){return false}}return aN===aL}function aE(aO,aN,aM){var aQ,aP,aL;aL=aC.schema.getNonEmptyElements();aQ=new s(aM||aO,aO);while((aP=aQ[aN?"next":"prev"]())){if(aL[aP.nodeName]&&!ax(aP)){return aP}if(aP.nodeType==3&&aP.data.length>0){return aP}}}function aG(aM){var aP,aN,aL,aO,aQ;if(aM.collapsed){return}aP=aC.getParent(n.getNode(aM.startContainer,aM.startOffset),aC.isBlock);aN=aC.getParent(n.getNode(aM.endContainer,aM.endOffset),aC.isBlock);aQ=u.schema.getTextBlockElements();if(aP==aN){return}if(!aQ[aP.nodeName]||!aQ[aN.nodeName]){return}if(aC.getContentEditable(aP)==="false"||aC.getContentEditable(aN)==="false"){return}aM.deleteContents();aL=aE(aP,false);aO=aE(aN,true);if(!aC.isEmpty(aN)){aa(aP).append(aN.childNodes)}aa(aN).remove();if(aL){if(aL.nodeType==1){if(aL.nodeName=="BR"){aM.setStartBefore(aL);aM.setEndBefore(aL)}else{aM.setStartAfter(aL);aM.setEndAfter(aL)}}else{aM.setStart(aL,aL.data.length);aM.setEnd(aL,aL.data.length)}}else{if(aO){if(aO.nodeType==1){aM.setStartBefore(aO);aM.setEndBefore(aO)}else{aM.setStart(aO,0);aM.setEnd(aO,0)}}}aJ.setRng(aM);return true}function aB(aM,aR){var aO,aQ,aN,aP,aL,aS;if(!aM.collapsed){return aM}aL=aM.startContainer;aS=aM.startOffset;if(aL.nodeType==3){if(aR){if(aS<aL.data.length){return aM}}else{if(aS>0){return aM}}}aO=n.getNode(aM.startContainer,aM.startOffset);aN=aC.getParent(aO,aC.isBlock);aQ=aE(u.getBody(),aR,aO);aP=aC.getParent(aQ,aC.isBlock);if(!aO||!aQ){return aM}if(aP&&aN!=aP){if(!aR){if(!az(aP,aN)){return aM}if(aQ.nodeType==1){if(aQ.nodeName=="BR"){aM.setStartBefore(aQ)}else{aM.setStartAfter(aQ)}}else{aM.setStart(aQ,aQ.data.length)}if(aO.nodeType==1){aM.setEnd(aO,0)}else{aM.setEndBefore(aO)}}else{if(!az(aN,aP)){return aM}if(aO.nodeType==1){if(aO.nodeName=="BR"){aM.setStartBefore(aO)}else{aM.setStartAfter(aO)}}else{aM.setStart(aO,aO.data.length)}if(aQ.nodeType==1){aM.setEnd(aQ,0)}else{aM.setEndBefore(aQ)}}}return aM}function aA(aM){var aL=aJ.getRng();aL=aB(aL,aM);if(aG(aL)){return true}}function aK(aW,aL){var aX,aO,aP,aQ,aT,aM,aS,aV,aN;function aR(aZ,aY){aN=aa(aY).parents().filter(function(a0,a1){return !!u.schema.getTextInlineElements()[a1.nodeName]});aP=aZ.cloneNode(false);aN=k.map(aN,function(a0){a0=a0.cloneNode(false);if(aP.hasChildNodes()){a0.appendChild(aP.firstChild);aP.appendChild(a0)}else{aP.appendChild(a0)}aP.appendChild(a0);return a0});if(aN.length){aV=aC.create("br");aN[0].appendChild(aV);aC.replace(aP,aZ);aL.setStartBefore(aV);aL.setEndBefore(aV);u.selection.setRng(aL);return aV}return null}function aU(aY){return aY&&u.schema.getTextBlockElements()[aY.tagName]}if(!aL.collapsed){return}aM=aL.startContainer;aS=aL.startOffset;aO=aC.getParent(aM,aC.isBlock);if(!aU(aO)){return}if(aM.nodeType==1){aM=aM.childNodes[aS];if(aM&&aM.tagName!="BR"){return}if(aW){aT=aO.nextSibling}else{aT=aO.previousSibling}if(aC.isEmpty(aO)&&aU(aT)&&aC.isEmpty(aT)){if(aR(aO,aM)){aC.remove(aT);return true}}}else{if(aM.nodeType==3){aX=l.create(aO,aM);aQ=aO.cloneNode(true);aM=l.resolve(aQ,aX);if(aW){if(aS>=aM.data.length){return}aM.deleteData(aS,1)}else{if(aS<=0){return}aM.deleteData(aS-1,1)}if(aC.isEmpty(aQ)){return aR(aO,aM)}}}}function aF(aN){var aM,aL,aO;if(aA(aN)){return}k.each(u.getBody().getElementsByTagName("*"),function(aP){if(aP.tagName=="SPAN"){aP.setAttribute("mce-data-marked",1)}if(!aP.hasAttribute("data-mce-style")&&aP.hasAttribute("style")){u.dom.setAttrib(aP,"style",u.dom.getAttrib(aP,"style"))}});aM=new ay(function(){});aM.observe(u.getDoc(),{childList:true,attributes:true,subtree:true,attributeFilter:["style"]});u.getDoc().execCommand(aN?"ForwardDelete":"Delete",false,null);aL=u.selection.getRng();aO=aL.startContainer.parentNode;k.each(aM.takeRecords(),function(aP){if(!aC.isChildOf(aP.target,u.getBody())){return}if(aP.attributeName=="style"){var aQ=aP.target.getAttribute("data-mce-style");if(aQ){aP.target.setAttribute("style",aQ)}else{aP.target.removeAttribute("style")}}k.each(aP.addedNodes,function(aS){if(aS.nodeName=="SPAN"&&!aS.getAttribute("mce-data-marked")){var aT,aR;if(aS==aO){aT=aL.startOffset;aR=aS.firstChild}aC.remove(aS,true);if(aR){aL.setStart(aR,aT);aL.setEnd(aR,aT);u.selection.setRng(aL)}}})});aM.disconnect();k.each(u.dom.select("span[mce-data-marked]"),function(aP){aP.removeAttribute("mce-data-marked")})}u.on("keydown",function(aP){var aO=aP.keyCode==I,aL=aP.ctrlKey||aP.metaKey;if(!ad(aP)&&(aO||aP.keyCode==w)){var aN=u.selection.getRng(),aM=aN.startContainer,aQ=aN.startOffset;if(aO&&aP.shiftKey){return}if(aK(aO,aN)){aP.preventDefault();return}if(!aL&&aN.collapsed&&aM.nodeType==3){if(aO?aQ<aM.data.length:aQ>0){return}}aP.preventDefault();if(aL){u.selection.getSel().modify("extend",aO?"forward":"backward",aP.metaKey?"lineboundary":"word")}aF(aO)}});u.on("keypress",function(aQ){if(!ad(aQ)&&!aJ.isCollapsed()&&aQ.charCode>31&&!t.metaKeyPressed(aQ)){var aL,aR,aP,aM,aN,aO;aL=u.selection.getRng();aO=String.fromCharCode(aQ.charCode);aQ.preventDefault();aR=aa(aL.startContainer).parents().filter(function(aS,aT){return !!u.schema.getTextInlineElements()[aT.nodeName]});aF(true);aR=aR.filter(function(aS,aT){return !aa.contains(u.getBody(),aT)});if(aR.length){aP=aC.createFragment();aR.each(function(aS,aT){aT=aT.cloneNode(false);if(aP.hasChildNodes()){aT.appendChild(aP.firstChild);aP.appendChild(aT)}else{aN=aT;aP.appendChild(aT)}aP.appendChild(aT)});aN.appendChild(u.getDoc().createTextNode(aO));aM=aC.getParent(aL.startContainer,aC.isBlock);if(aC.isEmpty(aM)){aa(aM).empty().append(aP)}else{aL.insertNode(aP)}aL.setStart(aN.firstChild,1);aL.setEnd(aN.firstChild,1);u.selection.setRng(aL)}else{u.selection.setContent(aO)}}});u.addCommand("Delete",function(){aF()});u.addCommand("ForwardDelete",function(){aF(true)});if(aD){return}u.on("dragstart",function(aL){aH=aJ.getRng();aw(aL)});u.on("drop",function(aL){if(!ad(aL)){var aM=O(aL);if(aM){aL.preventDefault();i.setEditorTimeout(u,function(){var aN=n.getCaretRangeFromPoint(aL.x,aL.y,aI);if(aH){aJ.setRng(aH);aH=null}aF();aJ.setRng(aN);U(aM.html)})}}});u.on("cut",function(aL){if(!ad(aL)&&aL.clipboardData&&!u.selection.isCollapsed()){aL.preventDefault();aL.clipboardData.clearData();aL.clipboardData.setData("text/html",u.selection.getContent());aL.clipboardData.setData("text/plain",u.selection.getContent({format:"text"}));i.setEditorTimeout(u,function(){aF(true)})}})}function T(){function ax(aA){var az=v.create("body");var aB=aA.cloneContents();az.appendChild(aB);return L.serializer.serialize(az,{format:"html"})}function ay(az){if(!az.setStart){if(az.item){return false}var aD=az.duplicate();aD.moveToElementText(u.getBody());return n.compareRanges(az,aD)}var aB=ax(az);var aC=v.createRng();aC.selectNode(u.getBody());var aA=ax(aC);return aB===aA}u.on("keydown",function(aC){var aB=aC.keyCode,aA,az;if(!ad(aC)&&(aB==I||aB==w)){aA=u.selection.isCollapsed();az=u.getBody();if(aA&&!v.isEmpty(az)){return}if(!aA&&!ay(u.selection.getRng())){return}aC.preventDefault();u.setContent("");if(az.firstChild&&v.isBlock(az.firstChild)){u.selection.setCursorLocation(az.firstChild,0)}else{u.selection.setCursorLocation(az,0)}u.nodeChanged()}})}function at(){u.shortcuts.add("meta+a",null,"SelectAll")}function av(){if(!u.settings.content_editable){v.bind(u.getDoc(),"mousedown mouseup",function(ay){var ax;if(ay.target==u.getDoc().documentElement){ax=L.getRng();u.getBody().focus();if(ay.type=="mousedown"){if(r.isCaretContainer(ax.startContainer)){return}L.placeCaretAt(ay.clientX,ay.clientY)}else{L.setRng(ax)}}})}}function ah(){u.on("keydown",function(az){if(!ad(az)&&az.keyCode===w){if(!u.getBody().getElementsByTagName("hr").length){return}if(L.isCollapsed()&&L.getRng(true).startOffset===0){var ay=L.getNode();var ax=ay.previousSibling;if(ay.nodeName=="HR"){v.remove(ay);az.preventDefault();return}if(ax&&ax.nodeName&&ax.nodeName.toLowerCase()==="hr"){v.remove(ax);az.preventDefault()}}}})}function ac(){if(!window.Range.prototype.getClientRects){u.on("mousedown",function(ay){if(!ad(ay)&&ay.target.nodeName==="HTML"){var ax=u.getBody();ax.blur();i.setEditorTimeout(u,function(){ax.focus()})}})}}function B(){u.on("click",function(ay){var ax=ay.target;if(/^(IMG|HR)$/.test(ax.nodeName)&&v.getContentEditableParent(ax)!=="false"){ay.preventDefault();L.getSel().setBaseAndExtent(ax,0,ax,1);u.nodeChanged()}if(ax.nodeName=="A"&&v.hasClass(ax,"mce-item-anchor")){ay.preventDefault();L.select(ax)}})}function ao(){function ay(){var az=v.getAttribs(L.getStart().cloneNode(false));return function(){var aA=L.getStart();if(aA!==u.getBody()){v.setAttrib(aA,"style",null);an(az,function(aB){aA.setAttributeNode(aB.cloneNode(true))})}}}function ax(){return !L.isCollapsed()&&v.getParent(L.getStart(),v.isBlock)!=v.getParent(L.getEnd(),v.isBlock)}u.on("keypress",function(aA){var az;if(!ad(aA)&&(aA.keyCode==8||aA.keyCode==46)&&ax()){az=ay();u.getDoc().execCommand("delete",false,null);az();aA.preventDefault();return false}});v.bind(u.getDoc(),"cut",function(aA){var az;if(!ad(aA)&&ax()){az=ay();i.setEditorTimeout(u,function(){az()})}})}function ab(){document.body.setAttribute("role","application")}function Y(){u.on("keydown",function(ay){if(!ad(ay)&&ay.keyCode===w){if(L.isCollapsed()&&L.getRng(true).startOffset===0){var ax=L.getNode().previousSibling;if(ax&&ax.nodeName&&ax.nodeName.toLowerCase()==="table"){ay.preventDefault();return false}}}})}function al(){if(N()>7){return}ae("RespectVisibilityInDesign",true);u.contentStyles.push(".mceHideBrInPre pre br {display: none}");v.addClass(u.getBody(),"mceHideBrInPre");Z.addNodeFilter("pre",function(ax){var az=ax.length,aB,ay,aC,aA;while(az--){aB=ax[az].getAll("br");ay=aB.length;while(ay--){aC=aB[ay];aA=aC.prev;if(aA&&aA.type===3&&aA.value.charAt(aA.value-1)!="\n"){aA.value+="\n"}else{aC.parent.insert(new o("#text",3),aC,true).value="\n"}}}});Q.addNodeFilter("pre",function(ax){var az=ax.length,aB,ay,aC,aA;while(az--){aB=ax[az].getAll("br");ay=aB.length;while(ay--){aC=aB[ay];aA=aC.prev;if(aA&&aA.type==3){aA.value=aA.value.replace(/\r?\n$/,"")}}}})}function A(){v.bind(u.getBody(),"mouseup",function(){var ay,ax=L.getNode();if(ax.nodeName=="IMG"){if((ay=v.getStyle(ax,"width"))){v.setAttrib(ax,"width",ay.replace(/[^0-9%]+/g,""));v.setStyle(ax,"width","")}if((ay=v.getStyle(ax,"height"))){v.setAttrib(ax,"height",ay.replace(/[^0-9%]+/g,""));v.setStyle(ax,"height","")}}})}function aq(){u.on("keydown",function(aB){var az,ay,aC,ax,aA;if(ad(aB)||aB.keyCode!=t.BACKSPACE){return}az=L.getRng();ay=az.startContainer;aC=az.startOffset;ax=v.getRoot();aA=ay;if(!az.collapsed||aC!==0){return}while(aA&&aA.parentNode&&aA.parentNode.firstChild==aA&&aA.parentNode!=ax){aA=aA.parentNode}if(aA.tagName==="BLOCKQUOTE"){u.formatter.toggle("blockquote",null,aA);az=v.createRng();az.setStart(ay,0);az.setEnd(ay,0);L.setRng(az)}})}function ap(){function ax(){P();ae("StyleWithCSS",false);ae("enableInlineTableEditing",false);if(!ar.object_resizing){ae("enableObjectResizing",false)}}if(!ar.readonly){u.on("BeforeExecCommand MouseDown",ax)}}function X(){function ax(){an(v.select("a"),function(aA){var ay=aA.parentNode,az=v.getRoot();if(ay.lastChild===aA){while(ay&&!v.isBlock(ay)){if(ay.parentNode.lastChild!==ay||ay===az){return}ay=ay.parentNode}v.add(ay,"br",{"data-mce-bogus":1})}})}u.on("SetContent ExecCommand",function(ay){if(ay.type=="setcontent"||ay.command==="mceInsertLink"){ax()}})}function M(){if(ar.forced_root_block){u.on("init",function(){ae("DefaultParagraphSeparator",ar.forced_root_block)})}}function C(){u.on("keydown",function(ay){var ax;if(!ad(ay)&&ay.keyCode==w){ax=u.getDoc().selection.createRange();if(ax&&ax.item){ay.preventDefault();u.undoManager.beforeChange();v.remove(ax.item(0));u.undoManager.add()}}})}function V(){var ax;if(N()>=10){ax="";an("p div h1 h2 h3 h4 h5 h6".split(" "),function(ay,az){ax+=(az>0?",":"")+ay+":empty"});u.contentStyles.push(ax+"{padding-right: 1px !important}")}}function am(){if(N()<9){Z.addNodeFilter("noscript",function(ax){var ay=ax.length,az,aA;while(ay--){az=ax[ay];aA=az.firstChild;if(aA){az.attr("data-mce-innertext",aA.value)}}});Q.addNodeFilter("noscript",function(ax){var ay=ax.length,az,aB,aA;while(ay--){az=ax[ay];aB=ax[ay].firstChild;if(aB){aB.value=j.decode(aB.value)}else{aA=az.attributes.map["data-mce-innertext"];if(aA){az.attr("data-mce-innertext",null);aB=new o("#text",3);aB.value=aA;aB.raw=true;az.append(aB)}}}})}}function S(){var aD=v.doc,ay=aD.body,aA,aB,aE;function aC(aF,aI){var aG=ay.createTextRange();try{aG.moveToPoint(aF,aI)}catch(aH){aG=null}return aG}function az(aG){var aF;if(aG.button){aF=aC(aG.x,aG.y);if(aF){if(aF.compareEndPoints("StartToStart",aB)>0){aF.setEndPoint("StartToStart",aB)}else{aF.setEndPoint("EndToEnd",aB)}aF.select()}}else{ax()}}function ax(){var aF=aD.selection.createRange();if(aB&&!aF.item&&aF.compareEndPoints("StartToEnd",aF)===0){aB.select()}v.unbind(aD,"mouseup",ax);v.unbind(aD,"mousemove",az);aB=aA=0}aD.documentElement.unselectable=true;v.bind(aD,"mousedown contextmenu",function(aF){if(aF.target.nodeName==="HTML"){if(aA){ax()}aE=aD.documentElement;if(aE.scrollHeight>aE.clientHeight){return}aA=1;aB=aC(aF.x,aF.y);if(aB){v.bind(aD,"mouseup",ax);v.bind(aD,"mousemove",az);v.getRoot().focus();aB.select()}}})}function aj(){u.on("keyup focusin mouseup",function(ax){if(ax.keyCode!=65||!t.metaKeyPressed(ax)){L.normalize()}},true)}function E(){u.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function F(){if(!u.inline){u.on("keydown",function(){if(document.activeElement==document.body){u.getWin().focus()}})}}function K(){if(!u.inline){u.contentStyles.push("body {min-height: 150px}");u.on("click",function(ay){var ax;if(ay.target.nodeName=="HTML"){if(p.ie>11){u.getBody().focus();return}ax=u.selection.getRng();u.getBody().focus();u.selection.setRng(ax);u.selection.normalize();u.nodeChanged()}})}}function H(){if(p.mac){u.on("keydown",function(ax){if(t.metaKeyPressed(ax)&&!ax.shiftKey&&(ax.keyCode==37||ax.keyCode==39)){ax.preventDefault();u.selection.getSel().modify("move",ax.keyCode==37?"backward":"forward","lineboundary")}})}}function ag(){ae("AutoUrlDetect",false)}function D(){u.on("click",function(ax){var ay=ax.target;do{if(ay.tagName==="A"){ax.preventDefault();return}}while((ay=ay.parentNode))});u.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function R(){u.on("init",function(){u.dom.bind(u.getBody(),"submit",function(ax){ax.preventDefault()})})}function ai(){Z.addNodeFilter("br",function(ax){var ay=ax.length;while(ay--){if(ax[ay].attr("class")=="Apple-interchange-newline"){ax[ay].remove()}}})}function z(){u.on("dragstart",function(ax){aw(ax)});u.on("drop",function(ay){if(!ad(ay)){var az=O(ay);if(az&&az.id!=u.id){ay.preventDefault();var ax=n.getCaretRangeFromPoint(ay.x,ay.y,u.getDoc());L.setRng(ax);U(az.html)}}})}function P(){var ax,ay;if(J()){ax=u.getBody();ay=ax.parentNode;ay.removeChild(ax);ay.appendChild(ax);ax.focus()}}function J(){var ax;if(!y){return 0}ax=u.selection.getSel();return(!ax||!ax.rangeCount||ax.rangeCount===0)}function W(){function ax(aB){var aA=new q(aB.getBody());var az=aB.selection.getRng();var aC=m.fromRangeStart(az);var ay=m.fromRangeEnd(az);return !aB.selection.isCollapsed()&&!aA.prev(aC)&&!aA.next(ay)}u.on("keypress",function(ay){if(!ad(ay)&&!L.isCollapsed()&&ay.charCode>31&&!t.metaKeyPressed(ay)){if(ax(u)){ay.preventDefault();u.setContent(String.fromCharCode(ay.charCode));u.selection.select(u.getBody(),true);u.selection.collapse(false);u.nodeChanged()}}});u.on("keydown",function(az){var ay=az.keyCode;if(!ad(az)&&(ay==I||ay==w)){if(ax(u)){az.preventDefault();u.setContent("");u.nodeChanged()}}})}aq();T();if(!p.windowsPhone){aj()}if(ak){W();au();av();B();M();R();Y();ai();if(p.iOS){F();K();D()}else{at()}}if(G&&p.ie<11){ah();ab();al();A();C();V();am();S()}if(p.ie>=11){K();Y()}if(p.ie){at();ag();z()}if(y){W();ah();ac();ao();ap();X();E();H();Y()}return{refreshContentEditable:P,isHidden:J}}});h("tinymce/EditorObservable",["tinymce/util/Observable","tinymce/dom/DOMUtils","tinymce/util/Tools"],function(i,n,k){var l=n.DOM,j;function o(r,q){if(q=="selectionchange"){return r.getDoc()}if(!r.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(q)){return r.getDoc().documentElement}if(r.settings.event_root){if(!r.eventRoot){r.eventRoot=l.select(r.settings.event_root)[0]}return r.eventRoot}return r.getBody()}function m(s,q){var u=o(s,q),r;function t(v){return !v.hidden&&!v.readonly}if(!s.delegates){s.delegates={}}if(s.delegates[q]){return}if(s.settings.event_root){if(!j){j={};s.editorManager.on("removeEditor",function(){var v;if(!s.editorManager.activeEditor){if(j){for(v in j){s.dom.unbind(o(s,v))}j=null}}})}if(j[q]){return}r=function(z){var y=z.target,x=s.editorManager.editors,w=x.length;while(w--){var v=x[w].getBody();if(v===y||l.isChildOf(y,v)){if(t(x[w])){x[w].fire(q,z)}}}};j[q]=r;l.bind(u,q,r)}else{r=function(v){if(t(s)){s.fire(q,v)}};l.bind(u,q,r);s.delegates[q]=r}}var p={bindPendingEventDelegates:function(){var q=this;k.each(q._pendingNativeEvents,function(r){m(q,r)})},toggleNativeEvent:function(r,s){var q=this;if(r=="focus"||r=="blur"){return}if(s){if(q.initialized){m(q,r)}else{if(!q._pendingNativeEvents){q._pendingNativeEvents=[r]}else{q._pendingNativeEvents.push(r)}}}else{if(q.initialized){q.dom.unbind(o(q,r),r,q.delegates[r]);delete q.delegates[r]}}},unbindAllNativeEvents:function(){var q=this,r;if(q.delegates){for(r in q.delegates){q.dom.unbind(o(q,r),r,q.delegates[r])}delete q.delegates}if(!q.inline){q.getBody().onload=null;q.dom.unbind(q.getWin());q.dom.unbind(q.getDoc())}q.dom.unbind(q.getBody());q.dom.unbind(q.getContainer())}};p=k.extend({},i,p);return p});h("tinymce/Mode",[],function(){function j(n,p,o){try{n.getDoc().execCommand(p,false,o)}catch(m){}}function l(n){var o,m;o=n.getBody();m=function(p){if(n.dom.getParents(p.target,"a").length>0){p.preventDefault()}};n.dom.bind(o,"click",m);return{unbind:function(){n.dom.unbind(o,"click",m)}}}function k(m,n){if(m._clickBlocker){m._clickBlocker.unbind();m._clickBlocker=null}if(n){m._clickBlocker=l(m);m.selection.controlSelection.hideResizeRect();m.readonly=true;m.getBody().contentEditable=false}else{m.readonly=false;m.getBody().contentEditable=true;j(m,"StyleWithCSS",false);j(m,"enableInlineTableEditing",false);j(m,"enableObjectResizing",false);m.focus();m.nodeChanged()}}function i(m,o){var n=m.readonly?"readonly":"design";if(o==n){return}if(m.initialized){k(m,o=="readonly")}else{m.on("init",function(){k(m,o=="readonly")})}m.fire("SwitchMode",{mode:o})}return{setMode:i}});h("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(k,j){var n=k.each,m=k.explode;var i={f9:120,f10:121,f11:122};var l=k.makeMap("alt,ctrl,shift,meta,access");return function(s){var x=this,t={},o=[];function w(A){var B,z,y={};n(m(A,"+"),function(C){if(C in l){y[C]=true}else{if(/^[0-9]{2,}$/.test(C)){y.keyCode=parseInt(C,10)}else{y.charCode=C.charCodeAt(0);y.keyCode=i[C]||C.toUpperCase().charCodeAt(0)}}});B=[y.keyCode];for(z in l){if(y[z]){B.push(z)}else{y[z]=false}}y.id=B.join(",");if(y.access){y.alt=true;if(j.mac){y.ctrl=true}else{y.shift=true}}if(y.meta){if(j.mac){y.meta=true}else{y.ctrl=true;y.meta=false}}return y}function p(B,C,A,z){var y;y=k.map(m(B,">"),w);y[y.length-1]=k.extend(y[y.length-1],{func:A,scope:z||s});return k.extend(y[0],{desc:s.translate(C),subpatterns:y.slice(1)})}function r(y){return y.altKey||y.ctrlKey||y.metaKey}function q(y){return y.keyCode>=112&&y.keyCode<=123}function v(z,y){if(!y){return false}if(y.ctrl!=z.ctrlKey||y.meta!=z.metaKey){return false}if(y.alt!=z.altKey||y.shift!=z.shiftKey){return false}if(z.keyCode==y.keyCode||(z.charCode&&z.charCode==y.charCode)){z.preventDefault();return true}return false}function u(y){return y.func?y.func.call(y.scope):null}s.on("keyup keypress keydown",function(y){if((r(y)||q(y))&&!y.isDefaultPrevented()){n(t,function(z){if(v(y,z)){o=z.subpatterns.slice(0);if(y.type=="keydown"){u(z)}return true}});if(v(y,o[0])){if(o.length===1){if(y.type=="keydown"){u(o[0])}}o.shift()}}});x.add=function(B,C,z,y){var A;A=z;if(typeof z==="string"){z=function(){s.execCommand(A,false,null)}}else{if(k.isArray(A)){z=function(){s.execCommand(A[0],A[1],A[2])}}}n(m(k.trim(B.toLowerCase())),function(E){var D=p(E,C,z,y);t[D.id]=D});return true};x.remove=function(z){var y=p(z);if(t[y.id]){delete t[y.id];return true}return false}}});h("tinymce/file/Uploader",["tinymce/util/Promise","tinymce/util/Tools","tinymce/util/Fun"],function(j,i,k){return function(m,n){var z={};function q(B){var D,C;C={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"};D=C[B.blob().type.toLowerCase()]||"dat";return B.id()+"."+D}function u(C,B){if(C){return C.replace(/\/$/,"")+"/"+B.replace(/^\//,"")}return B}function t(B){return{id:B.id,blob:B.blob,base64:B.base64,filename:k.constant(q(B))}}function o(D,G,C,B){var F,E;F=new XMLHttpRequest();F.open("POST",n.url);F.withCredentials=n.credentials;F.upload.onprogress=function(H){B(H.loaded/H.total*100)};F.onerror=function(){C("Image upload failed due to a XHR Transport error. Code: "+F.status)};F.onload=function(){var H;if(F.status!=200){C("HTTP Error: "+F.status);return}H=JSON.parse(F.responseText);if(!H||typeof H.location!="string"){C("Invalid JSON: "+F.responseText);return}G(u(n.basePath,H.location))};E=new FormData();E.append("file",D.blob(),q(D));F.send(E)}function x(){return new j(function(B){B([])})}function l(C,B){return{url:B,blobInfo:C,status:true}}function w(C,B){return{url:"",blobInfo:C,status:false,error:B}}function y(C,B){i.each(z[C],function(D){D(B)});delete z[C]}function s(C,D,B){m.markPending(C.blobUri());return new j(function(J){var K,G;var I=function(){};try{var E=function(){if(K){K.close();G=I}};var L=function(M){E();m.markUploaded(C.blobUri(),M);y(C.blobUri(),l(C,M));J(l(C,M))};var F=function(){E();m.removeFailed(C.blobUri());y(C.blobUri(),w(C,F));J(w(C,F))};G=function(M){if(M<0||M>100){return}if(!K){K=B()}K.progressBar.value(M)};D(t(C),L,F,G)}catch(H){J(w(C,H.message))}})}function p(B){return B===o}function r(B){var C=B.blobUri();return new j(function(D){z[C]=z[C]||[];z[C].push(D)})}function v(C,B){C=i.grep(C,function(D){return !m.isUploaded(D.blobUri())});return j.all(i.map(C,function(D){return m.isPending(D.blobUri())?r(D):s(D,n.handler,B)}))}function A(C,B){return(!n.url&&p(n.handler))?x():v(C,B)}n=i.extend({credentials:false,handler:o},n);return{upload:A}}});h("tinymce/file/Conversions",["tinymce/util/Promise"],function(k){function n(o){return new k(function(p){var q=new XMLHttpRequest();q.open("GET",o,true);q.responseType="blob";q.onload=function(){if(this.status==200){p(this.response)}};q.send()})}function m(p){var o,q;p=decodeURIComponent(p).split(",");q=/data:([^;]+)/.exec(p[0]);if(q){o=q[1]}return{type:o,data:p[1]}}function j(o){return new k(function(r){var t,p,q;o=m(o);try{t=atob(o.data)}catch(s){r(new Blob([]));return}p=new Uint8Array(t.length);for(q=0;q<p.length;q++){p[q]=t.charCodeAt(q)}r(new Blob([p],{type:o.type}))})}function l(o){if(o.indexOf("blob:")===0){return n(o)}if(o.indexOf("data:")===0){return j(o)}return null}function i(o){return new k(function(q){var p=new FileReader();p.onloadend=function(){q(p.result)};p.readAsDataURL(o)})}return{uriToBlob:l,blobToDataUri:i,parseDataUri:m}});h("tinymce/file/ImageScanner",["tinymce/util/Promise","tinymce/util/Arr","tinymce/util/Fun","tinymce/file/Conversions","tinymce/Env"],function(m,l,n,k,i){var j=0;return function(o,r){var p={};function q(w,t){var s,v;function u(y,A){var x,z;if(y.src.indexOf("blob:")===0){z=r.getByUri(y.src);if(z){A({image:y,blobInfo:z})}return}x=k.parseDataUri(y.src).data;z=r.findFirst(function(B){return B.base64()===x});if(z){A({image:y,blobInfo:z})}else{k.uriToBlob(y.src).then(function(B){var C="blobid"+(j++),D=r.create(C,B,x);r.add(D);A({image:y,blobInfo:D})})}}if(!t){t=n.constant(true)}s=l.filter(w.getElementsByTagName("img"),function(x){var y=x.src;if(!i.fileApi){return false}if(x.hasAttribute("data-mce-bogus")){return false}if(x.hasAttribute("data-mce-placeholder")){return false}if(!y||y==i.transparentSrc){return false}if(y.indexOf("blob:")===0){return !o.isUploaded(y)}if(y.indexOf("data:")===0){return t(x)}return false});v=l.map(s,function(x){var y;if(p[x.src]){return new m(function(z){p[x.src].then(function(A){z({image:x,blobInfo:A.blobInfo})})})}y=new m(function(z){u(x,z)}).then(function(z){delete p[z.image.src];return z})["catch"](function(z){delete p[x.src];return z});p[x.src]=y;return y});return m.all(v)}return{findAll:q}}});h("tinymce/file/BlobCache",["tinymce/util/Arr","tinymce/util/Fun"],function(i,j){return function(){var k=[],n=j.constant;function m(v,u,t){return{id:n(v),blob:n(u),base64:n(t),blobUri:n(URL.createObjectURL(u))}}function s(t){if(!l(t.id())){k.push(t)}}function l(t){return r(function(u){return u.id()===t})}function r(t){return i.filter(k,t)[0]}function p(t){return r(function(u){return u.blobUri()==t})}function o(t){k=i.filter(k,function(u){if(u.blobUri()===t){URL.revokeObjectURL(u.blobUri());return false}return true})}function q(){i.each(k,function(t){URL.revokeObjectURL(t.blobUri())});k=[]}return{create:m,add:s,get:l,getByUri:p,findFirst:r,removeByUri:o,destroy:q}}});h("tinymce/file/UploadStatus",[],function(){return function(){var q=1,l=2;var p={};function n(v,u){return{status:v,resultUri:u}}function t(u){return u in p}function o(v){var u=p[v];return u?u.resultUri:null}function m(u){return t(u)?p[u].status===q:false}function s(u){return t(u)?p[u].status===l:false}function j(u){p[u]=n(q,null)}function i(v,u){p[v]=n(l,u)}function k(u){delete p[u]}function r(){p={}}return{hasBlobUri:t,getResultUri:o,isPending:m,isUploaded:s,markPending:j,markUploaded:i,removeFailed:k,destroy:r}}});h("tinymce/EditorUpload",["tinymce/util/Arr","tinymce/file/Uploader","tinymce/file/ImageScanner","tinymce/file/BlobCache","tinymce/file/UploadStatus"],function(k,m,i,l,j){return function(r){var o=new l(),w,t,A=r.settings;var q=new j();function B(F){return function(G){if(r.selection){return F(G)}return[]}}function z(I,H,G){var F=0;do{F=I.indexOf(H,F);if(F!==-1){I=I.substring(0,F)+G+I.substr(F+H.length);F+=G.length-H.length+1}}while(F!==-1);return I}function E(G,H,F){G=z(G,'src="'+H+'"','src="'+F+'"');G=z(G,'data-mce-src="'+H+'"','data-mce-src="'+F+'"');return G}function y(G,F){k.each(r.undoManager.data,function(H){H.content=E(H.content,G,F)})}function u(){return r.notificationManager.open({text:r.translate("Image uploading..."),type:"info",timeout:-1,progressBar:true})}function n(G,F){o.removeByUri(G.src);y(G.src,F);r.$(G).attr({src:F,"data-mce-src":r.convertURL(F,"src")})}function D(F){if(!w){w=new m(q,{url:A.images_upload_url,basePath:A.images_upload_base_path,credentials:A.images_upload_credentials,handler:A.images_upload_handler})}return s().then(B(function(H){var G;G=k.map(H,function(I){return I.blobInfo});return w.upload(G,u).then(B(function(I){I=k.map(I,function(L,J){var K=H[J].image;if(L.status&&r.settings.images_replace_blob_uris!==false){n(K,L.url)}return{element:K,status:L.status}});if(F){F(I)}return I}))}))}function x(F){if(A.automatic_uploads!==false){return D(F)}}function v(F){return A.images_dataimg_filter?A.images_dataimg_filter(F):true}function s(){if(!t){t=new i(q,o)}return t.findAll(r.getBody(),v).then(B(function(F){k.each(F,function(G){y(G.image.src,G.blobInfo.blobUri());G.image.src=G.blobInfo.blobUri();G.image.removeAttribute("data-mce-src")});return F}))}function C(){o.destroy();q.destroy();t=w=null}function p(F){return F.replace(/src="(blob:[^"]+)"/g,function(H,J){var G=q.getResultUri(J);if(G){return'src="'+G+'"'}var I=o.getByUri(J);if(!I){I=k.reduce(r.editorManager.editors,function(K,L){return K||L.editorUpload.blobCache.getByUri(J)},null)}if(I){return'src="data:'+I.blob().type+";base64,"+I.base64()+'"'}return H})}r.on("setContent",function(){if(r.settings.automatic_uploads!==false){x()}else{s()}});r.on("RawSaveContent",function(F){F.content=p(F.content)});r.on("getContent",function(F){if(F.source_view||F.format=="raw"){return}F.content=p(F.content)});r.on("PostRender",function(){r.parser.addNodeFilter("img",function(F){k.each(F,function(H){var I=H.attr("src");if(o.getByUri(I)){return}var G=q.getResultUri(I);if(G){H.attr("src",G)}})})});return{blobCache:o,uploadImages:D,uploadImagesAuto:x,scanForImages:s,destroy:C}}});h("tinymce/caret/FakeCaret",["tinymce/caret/CaretContainer","tinymce/caret/CaretPosition","tinymce/dom/NodeType","tinymce/dom/RangeUtils","tinymce/dom/DomQuery","tinymce/geom/ClientRect","tinymce/util/Delay"],function(m,i,j,l,n,k,p){var o=j.isContentEditableFalse;return function(t,u){var y,q,v;function r(E,G){var I=k.collapse(E.getBoundingClientRect(),G),D,J,H,F,C;if(t.tagName=="BODY"){D=t.ownerDocument.documentElement;J=t.scrollLeft||D.scrollLeft;H=t.scrollTop||D.scrollTop}else{C=t.getBoundingClientRect();J=t.scrollLeft-C.left;H=t.scrollTop-C.top}I.left+=J;I.right+=J;I.top+=H;I.bottom+=H;I.width=1;F=E.offsetWidth-E.clientWidth;if(F>0){if(G){F*=-1}I.left+=F;I.right+=F}return I}function A(){var C,F,E,D,G;C=n("*[contentEditable=false]",t);for(D=0;D<C.length;D++){F=C[D];E=F.previousSibling;if(m.endsWithCaretContainer(E)){G=E.data;if(G.length==1){E.parentNode.removeChild(E)}else{E.deleteData(G.length-1,1)}}E=F.nextSibling;if(m.startsWithCaretContainer(E)){G=E.data;if(G.length==1){E.parentNode.removeChild(E)}else{E.deleteData(0,1)}}}return null}function B(F,E){var G,D,C;x();if(u(E)){v=m.insertBlock("p",E,F);G=r(E,F);n(v).css("top",G.top);q=n('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(G).appendTo(t);if(F){q.addClass("mce-visual-caret-before")}w();D=E.ownerDocument.createRange();C=v.firstChild;D.setStart(C,0);D.setEnd(C,1)}else{v=m.insertInline(E,F);D=E.ownerDocument.createRange();if(o(v.nextSibling)){D.setStart(v,0);D.setEnd(v,0)}else{D.setStart(v,1);D.setEnd(v,1)}return D}return D}function x(){A();if(v){m.remove(v);v=null}if(q){q.remove();q=null}clearInterval(y)}function w(){y=p.setInterval(function(){n("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden")},500)}function z(){p.clearInterval(y)}function s(){return(".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}")}return{show:B,hide:x,getCss:s,destroy:z}}});h("tinymce/dom/Dimensions",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/geom/ClientRect"],function(k,i,j){function l(o){function n(p){return k.map(p,function(q){q=j.clone(q);q.node=o;return q})}if(k.isArray(o)){return k.reduce(o,function(p,q){return p.concat(l(q))},[])}if(i.isElement(o)){return n(o.getClientRects())}if(i.isText(o)){var m=o.ownerDocument.createRange();m.setStart(o,0);m.setEnd(o,o.data.length);return n(m.getClientRects())}}return{getClientRects:l}});h("tinymce/caret/LineWalker",["tinymce/util/Fun","tinymce/util/Arr","tinymce/dom/Dimensions","tinymce/caret/CaretCandidate","tinymce/caret/CaretUtils","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/geom/ClientRect"],function(u,o,w,l,i,v,m,x){var t=u.curry;function q(A,y,B,z){while((z=i.findNode(z,A,l.isEditableCaretCandidate,y))){if(B(z)){return}}}function k(F,B,C,y,D,E){var I=0,z,H=[],A;function G(L){var J,M,K;K=w.getClientRects(L);if(F==-1){K=K.reverse()}for(J=0;J<K.length;J++){M=K[J];if(C(M,A)){continue}if(H.length>0&&B(M,o.last(H))){I++}M.line=I;if(D(M)){return true}H.push(M)}}A=o.last(E.getClientRects());if(!A){return H}z=E.getNode();G(z);q(F,y,G,z);return H}function s(y,z){return z.line>y}function p(y,z){return z.line===y}var r=t(k,-1,x.isAbove,x.isBelow);var n=t(k,1,x.isBelow,x.isAbove);function j(H,z,F,A){var B=new v(z),L,I,D,G,K=[],J=0,y,C;function E(M){if(H==1){return o.last(M.getClientRects())}return o.last(M.getClientRects())}if(H==1){L=B.next;I=x.isBelow;D=x.isAbove;G=m.after(A)}else{L=B.prev;I=x.isAbove;D=x.isBelow;G=m.before(A)}C=E(G);do{if(!G.isVisible()){continue}y=E(G);if(D(y,C)){continue}if(K.length>0&&I(y,o.last(K))){J++}y=x.clone(y);y.position=G;y.line=J;if(F(y)){return K}K.push(y)}while((G=L(G)));return K}return{upUntil:r,downUntil:n,positionsUntil:j,isAboveLine:t(s),isLine:t(p)}});h("tinymce/caret/LineUtils",["tinymce/util/Fun","tinymce/util/Arr","tinymce/dom/NodeType","tinymce/dom/Dimensions","tinymce/geom/ClientRect","tinymce/caret/CaretUtils","tinymce/caret/CaretCandidate"],function(m,q,n,t,l,z,w){var s=n.isContentEditableFalse,p=z.findNode,x=m.curry;function r(B,A){return Math.abs(B.left-A)}function k(B,A){return Math.abs(B.right-A)}function j(B,A){function C(D,E){return D>=E.left&&D<=E.right}return q.reduce(B,function(D,G){var F,E;F=Math.min(r(D,A),k(D,A));E=Math.min(r(G,A),k(G,A));if(C(A,G)){return G}if(C(A,D)){return D}if(E==F&&s(G.node)){return G}if(E<F){return G}return D})}function v(C,A,D,B){while((B=p(B,C,w.isEditableCaretCandidate,A))){if(D(B)){return}}}function y(A,D){var B=[];function C(E,F){var G;G=q.filter(t.getClientRects(F),function(H){return !E(H,D)});B=B.concat(G);return G.length===0}B.push(D);v(-1,A,x(C,l.isAbove),D.node);v(1,A,x(C,l.isBelow),D.node);return B}function o(A){return q.filter(q.toArray(A.getElementsByTagName("*")),s)}function u(B,A){return{node:B.node,before:r(B,A)<k(B,A)}}function i(B,D,C){var E,A;E=t.getClientRects(o(B));E=q.filter(E,function(F){return C>=F.top&&C<=F.bottom});A=j(E,D);if(A){A=j(y(B,A),D);if(A&&s(A.node)){return u(A,D)}}return null}return{findClosestClientRect:j,findLineNodeRects:y,closestCaret:i}});h("tinymce/dom/MousePosition",[],function(){var i=function(t){var s,p,r,q;q=t.getBoundingClientRect();s=t.ownerDocument;p=s.documentElement;r=s.defaultView;return{top:q.top+r.pageYOffset-p.clientTop,left:q.left+r.pageXOffset-p.clientLeft}};var k=function(p){return p.inline?i(p.getBody()):{left:0,top:0}};var o=function(q){var p=q.getBody();return q.inline?{left:p.scrollLeft,top:p.scrollTop}:{left:0,top:0}};var l=function(s){var p=s.getBody(),r=s.getDoc().documentElement;var q={left:p.scrollLeft,top:p.scrollTop};var t={left:p.scrollLeft||r.scrollLeft,top:p.scrollTop||r.scrollTop};return s.inline?q:t};var n=function(q,r){if(r.target.ownerDocument!==q.getDoc()){var s=i(q.getContentAreaContainer());var p=l(q);return{left:r.pageX-s.left+p.left,top:r.pageY-s.top+p.top}}return{left:r.pageX,top:r.pageY}};var m=function(q,p,r){return{pageX:(r.left-q.left)+p.left,pageY:(r.top-q.top)+p.top}};var j=function(p,q){return m(k(p),o(p),n(p,q))};return{calc:j}});h("tinymce/DragDropOverrides",["tinymce/dom/NodeType","tinymce/util/Arr","tinymce/util/Fun","tinymce/util/Delay","tinymce/dom/DOMUtils","tinymce/dom/MousePosition"],function(q,r,n,l,E,B){var z=q.isContentEditableFalse,v=q.isContentEditableTrue;var i=function(I){return z(I)};var u=function(K,J,I){if(J===I||K.dom.isChildOf(J,I)){return false}if(z(J)){return false}return true};var p=function(J){var I=J.cloneNode(true);I.removeAttribute("data-mce-selected");return I};var x=function(M,N,L,J){var K=N.cloneNode(true);M.dom.setStyles(K,{width:L,height:J});M.dom.setAttrib(K,"data-mce-selected",null);var I=M.dom.create("div",{"class":"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});M.dom.setStyles(I,{position:"absolute",opacity:0.5,overflow:"hidden",border:0,padding:0,margin:0,width:L,height:J});M.dom.setStyles(K,{margin:0,boxSizing:"border-box"});I.appendChild(K);return I};var k=function(I,J){if(I.parentNode!==J){J.appendChild(I)}};var w=function(K,J,N,I,P,O){var M=0,L=0;K.style.left=J.pageX+"px";K.style.top=J.pageY+"px";if(J.pageX+N>P){M=(J.pageX+N)-P}if(J.pageY+I>O){L=(J.pageY+I)-O}K.style.width=(N-M)+"px";K.style.height=(I-L)+"px"};var F=function(I){if(I&&I.parentNode){I.parentNode.removeChild(I)}};var H=function(I){return I.button===0};var C=function(I){return I.element};var G=function(J,I){return{pageX:I.pageX-J.relX,pageY:I.pageY+5}};var o=function(J,I){return function(O){if(H(O)){var K=r.find(I.dom.getParents(O.target),n.or(z,v));if(i(K)){var N=I.dom.getPos(K);var M=I.getBody();var L=I.getDoc().documentElement;J.element=K;J.screenX=O.screenX;J.screenY=O.screenY;J.maxX=(I.inline?M.scrollWidth:L.offsetWidth)-2;J.maxY=(I.inline?M.scrollHeight:L.offsetHeight)-2;J.relX=O.pageX-N.x;J.relY=O.pageY-N.y;J.width=K.offsetWidth;J.height=K.offsetHeight;J.ghost=x(I,K,J.width,J.height)}}}};var y=function(K,I){var J=l.throttle(function(M,L){I._selectionOverrides.hideFakeCaret();I.selection.placeCaretAt(M,L)},0);return function(O){var L=Math.max(Math.abs(O.screenX-K.screenX),Math.abs(O.screenY-K.screenY));if(C(K)&&!K.dragging&&L>10){var M=I.fire("dragstart",{target:K.element});if(M.isDefaultPrevented()){return}K.dragging=true;I.focus()}if(K.dragging){var N=G(K,B.calc(I,O));k(K.ghost,I.getBody());w(K.ghost,N,K.width,K.height,K.maxX,K.maxY);J(O.clientX,O.clientY)}}};var t=function(J,I){return function(L){if(J.dragging){if(u(I,I.selection.getNode(),J.element)){var M=p(J.element);var K=I.fire("drop",{targetClone:M,clientX:L.clientX,clientY:L.clientY});if(!K.isDefaultPrevented()){M=K.targetClone;I.undoManager.transact(function(){F(J.element);I.insertContent(I.dom.getOuterHTML(M));I._selectionOverrides.hideFakeCaret()})}}}j(J)}};var A=function(J,I){return function(){j(J);if(J.dragging){I.fire("dragend")}}};var j=function(I){I.dragging=false;I.element=null;F(I.ghost)};var s=function(M){var O={},J,N,K,I,P,L;J=E.DOM;L=document;N=o(O,M);K=y(O,M);I=t(O,M);P=A(O,M);M.on("mousedown",N);M.on("mousemove",K);M.on("mouseup",I);J.bind(L,"mousemove",K);J.bind(L,"mouseup",P);M.on("remove",function(){J.unbind(L,"mousemove",K);J.unbind(L,"mouseup",P)})};var m=function(I){I.on("drop",function(K){var J=typeof K.clientX!=="undefined"?I.getDoc().elementFromPoint(K.clientX,K.clientY):null;if(z(J)||z(I.dom.getContentEditableParent(J))){K.preventDefault()}})};var D=function(I){s(I);m(I)};return{init:D}});h("tinymce/SelectionOverrides",["tinymce/Env","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/caret/CaretContainer","tinymce/caret/CaretUtils","tinymce/caret/FakeCaret","tinymce/caret/LineWalker","tinymce/caret/LineUtils","tinymce/dom/NodeType","tinymce/dom/RangeUtils","tinymce/geom/ClientRect","tinymce/util/VK","tinymce/util/Fun","tinymce/util/Arr","tinymce/util/Delay","tinymce/DragDropOverrides","tinymce/text/Zwsp"],function(k,E,j,t,D,C,y,s,p,F,l,z,o,r,n,m,H){var B=o.curry,v=p.isContentEditableTrue,x=p.isContentEditableFalse,w=p.isElement,u=D.isAfterContentEditableFalse,i=D.isBeforeContentEditableFalse,q=F.getSelectedNode;function G(I,J){while((J=I(J))){if(J.isVisible()){return J}}return J}function A(I){var S=I.getBody(),W=new E(S);var ac=B(G,W.next);var ak=B(G,W.prev),ah=new C(I.getBody(),ai),M="sel-"+I.dom.uniqueId(),ab,al=I.$;function ax(){var ay=I.dom.get(M);return ay?ay.getElementsByTagName("*")[0]:ay}function ai(ay){return I.dom.isBlock(ay)}function N(ay){if(ay){I.selection.setRng(ay)}}function P(){return I.selection.getRng()}function J(az,ay){I.selection.scrollIntoView(az,ay)}function au(aB,ay,az){var aA;aA=I.fire("ShowCaret",{target:ay,direction:aB,before:az});if(aA.isDefaultPrevented()){return null}J(ay,aB===-1);return ah.show(az,ay)}function ad(ay){var az;ah.hide();az=I.fire("BeforeObjectSelected",{target:ay});if(az.isDefaultPrevented()){return null}return av(ay)}function av(az){var ay=az.ownerDocument.createRange();ay.selectNode(az);return ay}function Q(aA,ay){var az=D.isInSameBlock(aA,ay);if(!az&&p.isBr(aA.getNode())){return true}return az}function aw(az,ay){ay=D.normalizeRange(az,S,ay);if(az==-1){return j.fromRangeStart(ay)}return j.fromRangeEnd(ay)}function at(ay){return t.isCaretContainerBlock(ay.startContainer)}function R(aF,ay,aA,az){var aD,aE,aC,aB;if(!az.collapsed){aD=q(az);if(x(aD)){return au(aF,aD,aF==-1)}}aB=at(az);aE=aw(aF,az);if(aA(aE)){return ad(aE.getNode(aF==-1))}aE=ay(aE);if(!aE){if(aB){return az}return null}if(aA(aE)){return au(aF,aE.getNode(aF==-1),aF==1)}aC=ay(aE);if(aA(aC)){if(Q(aE,aC)){return au(aF,aC.getNode(aF==-1),aF==1)}}if(aB){return X(aE.toRange())}return null}function L(aI,aD,aE){var aG,aK,aF,aJ,aH,az,aC,aB,aA;aA=q(aE);aG=aw(aI,aE);aK=aD(S,y.isAboveLine(1),aG);aF=r.filter(aK,y.isLine(1));aH=r.last(aG.getClientRects());if(i(aG)){aA=aG.getNode()}if(u(aG)){aA=aG.getNode(true)}if(!aH){return null}az=aH.left;aJ=s.findClosestClientRect(aF,az);if(aJ){if(x(aJ.node)){aC=Math.abs(az-aJ.left);aB=Math.abs(az-aJ.right);return au(aI,aJ.node,aC<aB)}}if(aA){var ay=y.positionsUntil(aI,S,y.isAboveLine(1),aA);aJ=s.findClosestClientRect(r.filter(ay,y.isLine(1)),az);if(aJ){return X(aJ.position.toRange())}aJ=r.last(r.filter(ay,y.isLine(0)));if(aJ){return X(aJ.position.toRange())}}}function am(aC,ay){var aB,az,aD;function aA(){var aE=I.dom.create(I.settings.forced_root_block);if(!k.ie||k.ie>=11){aE.innerHTML='<br data-mce-bogus="1">'}return aE}if(ay.collapsed&&I.settings.forced_root_block){aB=I.dom.getParent(ay.startContainer,"PRE");if(!aB){return}if(aC==1){az=ac(j.fromRangeStart(ay))}else{az=ak(j.fromRangeStart(ay))}if(!az){aD=aA();if(aC==1){I.$(aB).after(aD)}else{I.$(aB).before(aD)}I.selection.select(aD,true);I.selection.collapse()}}}function Z(aC,ay,aA,az){var aB;aB=R(aC,ay,aA,az);if(aB){return aB}aB=am(aC,az);if(aB){return aB}return null}function T(aB,aA,ay){var az;az=L(aB,aA,ay);if(az){return az}az=am(aB,ay);if(az){return az}return null}function Y(){return al("*[data-mce-caret]")[0]}function af(ay){ay=al(ay);if(ay.attr("data-mce-caret")){ah.hide();ay.removeAttr("data-mce-caret");ay.removeAttr("data-mce-bogus");ay.removeAttr("style");N(P());J(ay[0])}}function U(az){var aA,ay;az=D.normalizeRange(1,S,az);aA=j.fromRangeStart(az);if(x(aA.getNode())){return au(1,aA.getNode(),!aA.isAtEnd())}if(x(aA.getNode(true))){return au(1,aA.getNode(true),false)}ay=I.dom.getParent(aA.getNode(),o.or(x,v));if(x(ay)){return au(1,ay,false)}ah.hide();return null}function X(ay){var az;if(!ay||!ay.collapsed){return ay}az=U(ay);if(az){return az}return ay}function O(aB){var az,ay,aC,aA;if(!x(aB)){return null}if(x(aB.previousSibling)){aC=aB.previousSibling}ay=ak(j.before(aB));if(!ay){az=ac(j.after(aB))}if(az&&w(az.getNode())){aA=az.getNode()}t.remove(aB.previousSibling);t.remove(aB.nextSibling);I.dom.remove(aB);ae();if(I.dom.isEmpty(I.getBody())){I.setContent("");I.focus();return}if(aC){return j.after(aC).toRange()}if(aA){return j.before(aA).toRange()}if(ay){return ay.toRange()}if(az){return az.toRange()}return null}function aj(ay){var az=I.schema.getTextBlockElements();return ay.nodeName in az}function aa(ay){return I.dom.isEmpty(ay)}function ag(aD,aF,aC){var aE=I.dom,ay,aA,aB,az;ay=aE.getParent(aF.getNode(),aE.isBlock);aA=aE.getParent(aC.getNode(),aE.isBlock);if(aD===-1){az=aC.getNode(true);if(u(aC)&&ai(az)){if(aj(ay)){if(aa(ay)){aE.remove(ay)}return j.after(az).toRange()}return O(aC.getNode(true))}}else{az=aF.getNode();if(i(aF)&&ai(az)){if(aj(aA)){if(aa(aA)){aE.remove(aA)}return j.before(az).toRange()}return O(aF.getNode())}}if(ay===aA||!aj(ay)||!aj(aA)){return null}while((aB=ay.firstChild)){aA.appendChild(aB)}I.dom.remove(ay);return aC.toRange()}function an(aE,aF,aD,ay){var aB,aC,aA,az;if(!ay.collapsed){aB=q(ay);if(x(aB)){return X(O(aB))}}aC=aw(aE,ay);if(aD(aC)&&t.isCaretContainerBlock(ay.startContainer)){az=aE==-1?W.prev(aC):W.next(aC);return az?X(az.toRange()):ay}if(aF(aC)){return X(O(aC.getNode(aE==-1)))}aA=aE==-1?W.prev(aC):W.next(aC);if(aF(aA)){if(aE===-1){return ag(aE,aC,aA)}return ag(aE,aA,aC)}}function ap(){var aL=B(Z,1,ac,i);var aD=B(Z,-1,ak,u);var aA=B(an,1,i,u);var aF=B(an,-1,u,i);var aE=B(T,-1,y.upUntil);var aK=B(T,1,y.downUntil);function aB(aO,aQ){var aP=aQ(P());if(aP&&!aO.isDefaultPrevented()){aO.preventDefault();N(aP)}}function aG(aP){var aO=I.getBody();while(aP&&aP!=aO){if(v(aP)||x(aP)){return aP}aP=aP.parentNode}return null}function az(aQ,aP,aO){if(aO.collapsed){return false}return r.reduce(aO.getClientRects(),function(aS,aR){return aS||l.containsXY(aR,aQ,aP)},false)}I.on("mouseup",function(){var aO=P();if(aO.collapsed){N(U(aO))}});I.on("click",function(aO){var aP;aP=aG(aO.target);if(aP){if(x(aP)){aO.preventDefault();I.focus()}}});function aJ(aP){var aO=false;aP.on("touchstart",function(){aO=false});aP.on("touchmove",function(){aO=true});aP.on("touchend",function(aQ){var aR=aG(aQ.target);if(x(aR)){if(!aO){aQ.preventDefault();ao(ad(aR))}}else{ae()}})}var aH=function(aR){var aO=new E(aR);if(!aR.firstChild){return false}var aP=j.before(aR.firstChild);var aQ=aO.next(aP);return aQ&&!i(aQ)&&!u(aQ)};var ay=function(aP,aO){var aR=I.dom.getParent(aP,I.dom.isBlock);var aQ=I.dom.getParent(aO,I.dom.isBlock);return aR===aQ};var aI=function(aR,aO){var aQ=I.dom.getParent(aR,I.dom.isBlock);var aP=I.dom.getParent(aO,I.dom.isBlock);return aQ&&!ay(aQ,aP)&&aH(aQ)};aJ(I);I.on("mousedown",function(aP){var aQ;aQ=aG(aP.target);if(aQ){if(x(aQ)){aP.preventDefault();ao(ad(aQ))}else{ae();if(!az(aP.clientX,aP.clientY,I.selection.getRng())){I.selection.placeCaretAt(aP.clientX,aP.clientY)}}}else{ae();ah.hide();var aO=s.closestCaret(S,aP.clientX,aP.clientY);if(aO){if(!aI(aP.target,aO.node)){aP.preventDefault();I.getBody().focus();N(au(1,aO.node,aO.before))}}}});I.on("keydown",function(aO){if(z.modifierPressed(aO)){return}switch(aO.keyCode){case z.RIGHT:aB(aO,aL);break;case z.DOWN:aB(aO,aK);break;case z.LEFT:aB(aO,aD);break;case z.UP:aB(aO,aE);break;case z.DELETE:aB(aO,aA);break;case z.BACKSPACE:aB(aO,aF);break;default:if(x(I.selection.getNode())){aO.preventDefault()}break}});function aC(){var aP,aO=aG(I.selection.getNode());if(v(aO)&&ai(aO)&&I.dom.isEmpty(aO)){aP=I.dom.create("br",{"data-mce-bogus":"1"});I.$(aO).empty().append(aP);I.selection.setRng(j.before(aP).toRange())}}function aN(aP){var aO=Y();if(!aO){return}if(aP.type=="compositionstart"){aP.preventDefault();aP.stopPropagation();af(aO);return}if(aO.innerHTML!="&nbsp;"){af(aO)}}function aM(aP){var aO;switch(aP.keyCode){case z.DELETE:aO=aC();break;case z.BACKSPACE:aO=aC();break}if(aO){aP.preventDefault()}}I.on("keyup compositionstart",function(aO){aN(aO);aM(aO)},true);I.on("cut",function(){var aO=I.selection.getNode();if(x(aO)){n.setEditorTimeout(I,function(){N(X(O(aO)))})}});I.on("getSelectionRange",function(aP){var aO=aP.range;if(ab){if(!ab.parentNode){ab=null;return}aO=aO.cloneRange();aO.selectNode(ab);aP.range=aO}});I.on("setSelectionRange",function(aP){var aO;aO=ao(aP.range);if(aO){aP.range=aO}});I.on("focus",function(){n.setEditorTimeout(I,function(){I.selection.setRng(X(I.selection.getRng()))},0)});I.on("copy",function(aP){var aQ=aP.clipboardData;if(!aP.isDefaultPrevented()&&aP.clipboardData&&!k.ie){var aO=ax();if(aO){aP.preventDefault();aQ.clearData();aQ.setData("text/html",aO.outerHTML);aQ.setData("text/plain",aO.outerText)}}});m.init(I)}function V(){var az=I.contentStyles,ay=".mce-content-body";az.push(ah.getCss());az.push(ay+" .mce-offscreen-selection {position: absolute;left: -9999999999px;}"+ay+" *[contentEditable=false] {cursor: default;}"+ay+" *[contentEditable=true] {cursor: text;}")}function aq(ay){return t.isCaretContainer(ay.startContainer)||t.isCaretContainer(ay.endContainer)}function ao(aF){var aA,aE=I.$,aD=I.dom,az,ay,aB,aH,aI,aG,aJ,aC,aK;if(!aF){ae();return null}if(aF.collapsed){ae();if(!aq(aF)){aJ=aw(1,aF);if(x(aJ.getNode())){return au(1,aJ.getNode(),!aJ.isAtEnd())}if(x(aJ.getNode(true))){return au(1,aJ.getNode(true),false)}}return null}aB=aF.startContainer;aH=aF.startOffset;aI=aF.endOffset;if(aB.nodeType==3&&aH==0&&x(aB.parentNode)){aB=aB.parentNode;aH=aD.nodeIndex(aB);aB=aB.parentNode}if(aB.nodeType!=1){ae();return null}if(aI==aH+1){aA=aB.childNodes[aH]}if(!x(aA)){ae();return null}aC=aK=aA.cloneNode(true);aG=I.fire("ObjectSelected",{target:aA,targetClone:aC});if(aG.isDefaultPrevented()){ae();return null}aC=aG.targetClone;az=aE("#"+M);if(az.length===0){az=aE('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",M);az.appendTo(I.getBody())}aF=I.dom.createRng();if(aC===aK&&k.ie){az.empty().append(H.ZWSP).append(aC).append(H.ZWSP);aF.setStart(az[0].firstChild,0);aF.setEnd(az[0].lastChild,1)}else{az.empty().append("\u00a0").append(aC).append("\u00a0");aF.setStart(az[0].firstChild,1);aF.setEnd(az[0].lastChild,0)}az.css({top:aD.getPos(aA,I.getBody()).y});az[0].focus();ay=I.selection.getSel();ay.removeAllRanges();ay.addRange(aF);I.$("*[data-mce-selected]").removeAttr("data-mce-selected");aA.setAttribute("data-mce-selected",1);ab=aA;return aF}function ae(){if(ab){ab.removeAttribute("data-mce-selected");I.$("#"+M).remove();ab=null}}function ar(){ah.destroy();ab=null}function K(){ah.hide()}if(k.ceFalse){ap();V()}return{showBlockCaretContainer:af,hideFakeCaret:K,destroy:ar}}return A});h("tinymce/util/Uuid",[],function(){var k=0;var i=function(){var m=function(){return Math.round(Math.random()*4294967295).toString(36)};var l=new Date().getTime();return"s"+l.toString(36)+m()+m()+m()};var j=function(l){return l+(k++)+i()};return{uuid:j}});h("tinymce/Editor",["tinymce/dom/DOMUtils","tinymce/dom/DomQuery","tinymce/AddOnManager","tinymce/NodeChange","tinymce/html/Node","tinymce/dom/Serializer","tinymce/html/Serializer","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/dom/ScriptLoader","tinymce/dom/EventUtils","tinymce/WindowManager","tinymce/NotificationManager","tinymce/html/Schema","tinymce/html/DomParser","tinymce/util/Quirks","tinymce/Env","tinymce/util/Tools","tinymce/util/Delay","tinymce/EditorObservable","tinymce/Mode","tinymce/Shortcuts","tinymce/EditorUpload","tinymce/SelectionOverrides","tinymce/util/Uuid"],function(Y,F,H,q,C,P,N,J,D,r,O,L,A,I,w,x,R,S,s,j,G,T,u,y,n,m,V,l,p,k){var E=Y.DOM,U=H.ThemeManager,X=H.PluginManager;var t=u.extend,Q=u.each,v=u.explode;var W=u.inArray,i=u.trim,z=u.resolve;var M=x.Event;var o=T.gecko,K=T.ie;function B(af,ac,ae){var aa=this,Z,ad,ab;Z=aa.documentBaseUrl=ae.documentBaseURL;ad=ae.baseURI;ab=ae.defaultSettings;ac=t({id:af,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:Z,add_form_submit_trigger:true,submit_patch:true,add_unload_trigger:true,convert_urls:true,relative_urls:true,remove_script_host:true,object_resizing:true,doctype:"<!DOCTYPE html>",visual:true,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:true,padd_empty_editor:true,render_ui:true,indentation:"30px",inline_styles:true,convert_fonts_to_spans:true,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:true,entity_encoding:"named",url_converter:aa.convertURL,url_converter_scope:aa,ie7_compat:true},ab,ac);if(ab&&ab.external_plugins&&ac.external_plugins){ac.external_plugins=t({},ab.external_plugins,ac.external_plugins)}aa.settings=ac;H.language=ac.language||"en";H.languageLoad=ac.language_load;H.baseURL=ae.baseURL;aa.id=ac.id=af;aa.setDirty(false);aa.plugins={};aa.documentBaseURI=new I(ac.document_base_url||Z,{base_uri:ad});aa.baseURI=ad;aa.contentCSS=[];aa.contentStyles=[];aa.shortcuts=new V(aa);aa.loadedCSS={};aa.editorCommands=new A(aa);if(ac.target){aa.targetElm=ac.target}aa.suffix=ae.suffix;aa.editorManager=ae;aa.inline=ac.inline;aa.settings.content_editable=aa.inline;if(ac.cache_suffix){T.cacheSuffix=ac.cache_suffix.replace(/^[\?\&]+/,"")}if(ac.override_viewport===false){T.overrideViewPort=false}ae.fire("SetupEditor",aa);aa.execCallback("setup",aa);aa.$=F.overrideDefaults(function(){return{context:aa.inline?aa.getBody():aa.getDoc(),element:aa.getBody()}})}B.prototype={render:function(){var Z=this,ac=Z.settings,af=Z.id,ae=Z.suffix;function ab(){E.unbind(window,"ready",ab);Z.render()}if(!M.domLoaded){E.bind(window,"ready",ab);return}if(!Z.getElement()){return}if(!T.contentEditable){return}if(!ac.inline){Z.orgVisibility=Z.getElement().style.visibility;Z.getElement().style.visibility="hidden"}else{Z.inline=true}var ad=Z.getElement().form||E.getParent(af,"form");if(ad){Z.formElement=ad;if(ac.hidden_input&&!/TEXTAREA|INPUT/i.test(Z.getElement().nodeName)){E.insertAfter(E.create("input",{type:"hidden",name:af}),af);Z.hasHiddenInput=true}Z.formEventDelegate=function(ag){Z.fire(ag.type,ag)};E.bind(ad,"submit reset",Z.formEventDelegate);Z.on("reset",function(){Z.setContent(Z.startContent,{format:"raw"})});if(ac.submit_patch&&!ad.submit.nodeType&&!ad.submit.length&&!ad._mceOldSubmit){ad._mceOldSubmit=ad.submit;ad.submit=function(){Z.editorManager.triggerSave();Z.setDirty(false);return ad._mceOldSubmit(ad)}}}Z.windowManager=new R(Z);Z.notificationManager=new S(Z);if(ac.encoding=="xml"){Z.on("GetContent",function(ag){if(ag.save){ag.content=E.encode(ag.content)}})}if(ac.add_form_submit_trigger){Z.on("submit",function(){if(Z.initialized){Z.save()}})}if(ac.add_unload_trigger){Z._beforeUnload=function(){if(Z.initialized&&!Z.destroyed&&!Z.isHidden()){Z.save({format:"raw",no_events:true,set_dirty:false})}};Z.editorManager.on("BeforeUnload",Z._beforeUnload)}function aa(){var ah=w.ScriptLoader;if(ac.language&&ac.language!="en"&&!ac.language_url){ac.language_url=Z.editorManager.baseURL+"/langs/"+ac.language+".js"}if(ac.language_url){ah.add(ac.language_url)}if(ac.theme&&typeof ac.theme!="function"&&ac.theme.charAt(0)!="-"&&!U.urls[ac.theme]){var ag=ac.theme_url;if(ag){ag=Z.documentBaseURI.toAbsolute(ag)}else{ag="themes/"+ac.theme+"/theme"+ae+".js"}U.load(ac.theme,ag)}if(u.isArray(ac.plugins)){ac.plugins=ac.plugins.join(" ")}Q(ac.external_plugins,function(aj,ai){X.load(ai,aj);ac.plugins+=" "+ai});Q(ac.plugins.split(/[ ,]/),function(ai){ai=i(ai);if(ai&&!X.urls[ai]){if(ai.charAt(0)=="-"){ai=ai.substr(1,ai.length);var aj=X.dependencies(ai);Q(aj,function(al){var ak={prefix:"plugins/",resource:al,suffix:"/plugin"+ae+".js"};al=X.createUrl(ak,al);X.load(al.resource,al)})}else{X.load(ai,{prefix:"plugins/",resource:ai,suffix:"/plugin"+ae+".js"})}}});ah.loadQueue(function(){if(!Z.removed){Z.init()}})}Z.editorManager.add(Z);aa()},init:function(){var ah=this,aq=ah.settings,ad=ah.getElement();var af,ao,ac,ak,ai,Z,aa,at,an,aj,am,ab=[];ah.rtl=aq.rtl_ui||ah.editorManager.i18n.rtl;ah.editorManager.i18n.setCode(aq.language);aq.aria_label=aq.aria_label||E.getAttrib(ad,"aria-label",ah.getLang("aria.rich_text_area"));ah.fire("ScriptsLoaded");if(aq.theme){if(typeof aq.theme!="function"){aq.theme=aq.theme.replace(/-/,"");Z=U.get(aq.theme);ah.theme=new Z(ah,U.urls[aq.theme]);if(ah.theme.init){ah.theme.init(ah,U.urls[aq.theme]||ah.documentBaseUrl.replace(/\/$/,""),ah.$)}}else{ah.theme=aq.theme}}function ar(ax){var aw=X.get(ax),av,au;av=X.urls[ax]||ah.documentBaseUrl.replace(/\/$/,"");ax=i(ax);if(aw&&W(ab,ax)===-1){Q(X.dependencies(ax),function(ay){ar(ay)});if(ah.plugins[ax]){return}au=new aw(ah,av,ah.$);ah.plugins[ax]=au;if(au.init){au.init(ah,av);ab.push(ax)}}}Q(aq.plugins.replace(/\-/g,"").split(/[ ,]/),ar);if(aq.render_ui&&ah.theme){ah.orgDisplay=ad.style.display;if(typeof aq.theme!="function"){af=aq.width||ad.style.width||ad.offsetWidth;ao=aq.height||ad.style.height||ad.offsetHeight;ac=aq.min_height||100;aj=/^[0-9\.]+(|px)$/i;if(aj.test(""+af)){af=Math.max(parseInt(af,10),100)}if(aj.test(""+ao)){ao=Math.max(parseInt(ao,10),ac)}ai=ah.theme.renderUI({targetNode:ad,width:af,height:ao,deltaWidth:aq.delta_width,deltaHeight:aq.delta_height});if(!aq.content_editable){ao=(ai.iframeHeight||ao)+(typeof ao=="number"?(ai.deltaHeight||0):"");if(ao<ac){ao=ac}}}else{ai=aq.theme(ah,ad);if(ai.editorContainer.nodeType){ai.editorContainer=ai.editorContainer.id=ai.editorContainer.id||ah.id+"_parent"}if(ai.iframeContainer.nodeType){ai.iframeContainer=ai.iframeContainer.id=ai.iframeContainer.id||ah.id+"_iframecontainer"}ao=ai.iframeHeight||ad.offsetHeight}ah.editorContainer=ai.editorContainer}if(aq.content_css){Q(v(aq.content_css),function(au){ah.contentCSS.push(ah.documentBaseURI.toAbsolute(au))})}if(aq.content_style){ah.contentStyles.push(aq.content_style)}if(aq.content_editable){ad=ak=ai=null;return ah.initContentBody()}ah.iframeHTML=aq.doctype+"<html><head>";if(aq.document_base_url!=ah.documentBaseUrl){ah.iframeHTML+='<base href="'+ah.documentBaseURI.getURI()+'" />'}if(!T.caretAfter&&aq.ie7_compat){ah.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'}ah.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';if(!/#$/.test(document.location.href)){for(am=0;am<ah.contentCSS.length;am++){var al=ah.contentCSS[am];ah.iframeHTML+=('<link type="text/css" rel="stylesheet" href="'+u._addCacheSuffix(al)+'" />');ah.loadedCSS[al]=true}}at=aq.body_id||"tinymce";if(at.indexOf("=")!=-1){at=ah.getParam("body_id","","hash");at=at[ah.id]||at}an=aq.body_class||"";if(an.indexOf("=")!=-1){an=ah.getParam("body_class","","hash");an=an[ah.id]||""}if(aq.content_security_policy){ah.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+aq.content_security_policy+'" />'}ah.iframeHTML+='</head><body id="'+at+'" class="mce-content-body '+an+'" data-id="'+ah.id+'"><br></body></html>';var ag='javascript:(function(){document.open();document.domain="'+document.domain+'";variables ed = window.parent.tinymce.get("'+ah.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';if(document.domain!=location.hostname){if(T.ie&&T.ie<12){aa=ag}}var ae=E.create("iframe",{id:ah.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:ah.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:ao,display:"block"}});ae.onload=function(){ae.onload=null;ah.fire("load")};E.setAttrib(ae,"src",aa||'javascript:""');ah.contentAreaContainer=ai.iframeContainer;ah.iframeElement=ae;ak=E.add(ai.iframeContainer,ae);if(K){try{ah.getDoc()}catch(ap){ak.src=aa=ag}}if(ai.editorContainer){E.get(ai.editorContainer).style.display=ah.orgDisplay;ah.hidden=E.isHidden(ai.editorContainer)}ah.getElement().style.display="none";E.setAttrib(ah.id,"aria-hidden",true);if(!aa){ah.initContentBody()}ad=ak=ai=null},initContentBody:function(aa){var ab=this,ac=ab.settings,ad=ab.getElement(),ae=ab.getDoc(),Z,af;if(!ac.inline){ab.getElement().style.visibility=ab.orgVisibility}if(!aa&&!ac.content_editable){ae.open();ae.write(ab.iframeHTML);ae.close()}if(ac.content_editable){ab.on("remove",function(){var ag=this.getBody();E.removeClass(ag,"mce-content-body");E.removeClass(ag,"mce-edit-focus");E.setAttrib(ag,"contentEditable",null)});E.addClass(ad,"mce-content-body");ab.contentDocument=ae=ac.content_document||document;ab.contentWindow=ac.content_window||window;ab.bodyElement=ad;ac.content_document=ac.content_window=null;ac.root_name=ad.nodeName.toLowerCase()}Z=ab.getBody();Z.disabled=true;ab.readonly=ac.readonly;if(!ab.readonly){if(ab.inline&&E.getStyle(Z,"position",true)=="static"){Z.style.position="relative"}Z.contentEditable=ab.getParam("content_editable_state",true)}Z.disabled=false;ab.editorUpload=new l(ab);ab.schema=new s(ac);ab.dom=new Y(ae,{keep_values:true,url_converter:ab.convertURL,url_converter_scope:ab,hex_colors:ac.force_hex_style_colors,class_filter:ac.class_filter,update_styles:true,root_element:ab.inline?ab.getBody():null,collect:ac.content_editable,schema:ab.schema,onSetAttrib:function(ag){ab.fire("SetAttrib",ag)}});ab.parser=new j(ac,ab.schema);ab.parser.addAttributeFilter("src,href,style,tabindex",function(ag,ah){var ai=ag.length,ak,am=ab.dom,al,aj;while(ai--){ak=ag[ai];al=ak.attr(ah);aj="data-mce-"+ah;if(!ak.attributes.map[aj]){if(al.indexOf("data:")===0||al.indexOf("blob:")===0){continue}if(ah==="style"){al=am.serializeStyle(am.parseStyle(al),ak.name);if(!al.length){al=null}ak.attr(aj,al);ak.attr(ah,al)}else{if(ah==="tabindex"){ak.attr(aj,al);ak.attr(ah,null)}else{ak.attr(aj,ab.convertURL(al,ah,ak.name))}}}}});ab.parser.addNodeFilter("script",function(ag){var ah=ag.length,aj,ai;while(ah--){aj=ag[ah];ai=aj.attr("type")||"no/type";if(ai.indexOf("mce-")!==0){aj.attr("type","mce-"+ai)}}});ab.parser.addNodeFilter("#cdata",function(ag){var ah=ag.length,ai;while(ah--){ai=ag[ah];ai.type=8;ai.name="#comment";ai.value="[CDATA["+ai.value+"]]"}});ab.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(ah){var ai=ah.length,aj,ag=ab.schema.getNonEmptyElements();while(ai--){aj=ah[ai];if(aj.isEmpty(ag)){aj.append(new C("br",1)).shortEnded=true}}});ab.serializer=new P(ac,ab);ab.selection=new J(ab.dom,ab.getWin(),ab.serializer,ab);ab.formatter=new D(ab);ab.undoManager=new r(ab);ab.forceBlocks=new L(ab);ab.enterKey=new O(ab);ab._nodeChangeDispatcher=new q(ab);ab._selectionOverrides=new p(ab);ab.fire("PreInit");if(!ac.browser_spellcheck&&!ac.gecko_spellcheck){ae.body.spellcheck=false;E.setAttrib(Z,"spellcheck","false")}ab.quirks=new G(ab);ab.fire("PostRender");if(ac.directionality){Z.dir=ac.directionality}if(ac.nowrap){Z.style.whiteSpace="nowrap"}if(ac.protect){ab.on("BeforeSetContent",function(ag){Q(ac.protect,function(ah){ag.content=ag.content.replace(ah,function(ai){return"<!--mce:protected "+escape(ai)+"-->"})})})}ab.on("SetContent",function(){ab.addVisual(ab.getBody())});if(ac.padd_empty_editor){ab.on("PostProcess",function(ag){ag.content=ag.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")})}ab.load({initial:true,format:"html"});ab.startContent=ab.getContent({format:"raw"});ab.initialized=true;ab.bindPendingEventDelegates();ab.fire("init");ab.focus(true);ab.nodeChanged({initial:true});ab.execCallback("init_instance_callback",ab);ab.on("compositionstart compositionend",function(ag){ab.composing=ag.type==="compositionstart"});if(ab.contentStyles.length>0){af="";Q(ab.contentStyles,function(ag){af+=ag+"\r\n"});ab.dom.addStyle(af)}Q(ab.contentCSS,function(ag){if(!ab.loadedCSS[ag]){ab.dom.loadCSS(ag);ab.loadedCSS[ag]=true}});if(ac.auto_focus){y.setEditorTimeout(ab,function(){var ag;if(ac.auto_focus===true){ag=ab}else{ag=ab.editorManager.get(ac.auto_focus)}if(!ag.destroyed){ag.focus()}},100)}ad=ae=Z=null},focus:function(aa){var aj=this,ai=aj.selection,ad=aj.settings.content_editable,Z;var ag,ah=aj.getDoc(),ab=aj.getBody(),ae;function af(ak){return aj.dom.getParent(ak,function(al){return aj.dom.getContentEditable(al)==="true"})}if(!aa){Z=ai.getRng();if(Z.item){ag=Z.item(0)}aj.quirks.refreshContentEditable();ae=af(ai.getNode());if(aj.$.contains(ab,ae)){ae.focus();ai.normalize();aj.editorManager.setActive(aj);return}if(!ad){if(!T.opera){aj.getBody().focus()}aj.getWin().focus()}if(o||ad){if(ab.setActive){try{ab.setActive()}catch(ac){ab.focus()}}else{ab.focus()}if(ad){ai.normalize()}}if(ag&&ag.ownerDocument==ah){Z=ah.body.createControlRange();Z.addElement(ag);Z.select()}}aj.editorManager.setActive(aj)},execCallback:function(aa){var Z=this,ac=Z.settings[aa],ab;if(!ac){return}if(Z.callbackLookup&&(ab=Z.callbackLookup[aa])){ac=ab.func;ab=ab.scope}if(typeof ac==="string"){ab=ac.replace(/\.\w+$/,"");ab=ab?z(ab):0;ac=z(ac);Z.callbackLookup=Z.callbackLookup||{};Z.callbackLookup[aa]={func:ac,scope:ab}}return ac.apply(ab||Z,Array.prototype.slice.call(arguments,1))},translate:function(ab){var aa=this.settings.language||"en",Z=this.editorManager.i18n;if(!ab){return""}ab=Z.data[aa+"."+ab]||ab.replace(/\{\#([^\}]+)\}/g,function(ad,ac){return Z.data[aa+"."+ac]||"{#"+ac+"}"});return this.editorManager.translate(ab)},getLang:function(Z,aa){return(this.editorManager.i18n.data[(this.settings.language||"en")+"."+Z]||(aa!==g?aa:"{#"+Z+"}"))},getParam:function(aa,ad,ab){var ac=aa in this.settings?this.settings[aa]:ad,Z;if(ab==="hash"){Z={};if(typeof ac==="string"){Q(ac.indexOf("=")>0?ac.split(/[;,](?![^=;,]*(?:[;,]|$))/):ac.split(","),function(ae){ae=ae.split("=");if(ae.length>1){Z[i(ae[0])]=i(ae[1])}else{Z[i(ae[0])]=i(ae)}})}else{Z=ac}return Z}return ac},nodeChanged:function(Z){this._nodeChangeDispatcher.nodeChanged(Z)},addButton:function(aa,ab){var Z=this;if(ab.cmd){ab.onclick=function(){Z.execCommand(ab.cmd)}}if(!ab.text&&!ab.icon){ab.icon=aa}Z.buttons=Z.buttons||{};ab.tooltip=ab.tooltip||ab.title;Z.buttons[aa]=ab},addMenuItem:function(aa,ab){var Z=this;if(ab.cmd){ab.onclick=function(){Z.execCommand(ab.cmd)}}Z.menuItems=Z.menuItems||{};Z.menuItems[aa]=ab},addContextToolbar:function(aa,ac){var ab=this,Z;ab.contextToolbars=ab.contextToolbars||[];if(typeof aa=="string"){Z=aa;aa=function(ad){return ab.dom.is(ad,Z)}}ab.contextToolbars.push({id:k.uuid("mcet"),predicate:aa,items:ac})},addCommand:function(Z,ab,aa){this.editorCommands.addCommand(Z,ab,aa)},addQueryStateHandler:function(Z,ab,aa){this.editorCommands.addQueryStateHandler(Z,ab,aa)},addQueryValueHandler:function(Z,ab,aa){this.editorCommands.addQueryValueHandler(Z,ab,aa)},addShortcut:function(ab,ac,aa,Z){this.shortcuts.add(ab,ac,aa,Z)},execCommand:function(ac,ab,aa,Z){return this.editorCommands.execCommand(ac,ab,aa,Z)},queryCommandState:function(Z){return this.editorCommands.queryCommandState(Z)},queryCommandValue:function(Z){return this.editorCommands.queryCommandValue(Z)},queryCommandSupported:function(Z){return this.editorCommands.queryCommandSupported(Z)},show:function(){var Z=this;if(Z.hidden){Z.hidden=false;if(Z.inline){Z.getBody().contentEditable=true}else{E.show(Z.getContainer());E.hide(Z.id)}Z.load();Z.fire("show")}},hide:function(){var Z=this,aa=Z.getDoc();if(!Z.hidden){if(K&&aa&&!Z.inline){aa.execCommand("SelectAll")}Z.save();if(Z.inline){Z.getBody().contentEditable=false;if(Z==Z.editorManager.focusedEditor){Z.editorManager.focusedEditor=null}}else{E.hide(Z.getContainer());E.setStyle(Z.id,"display",Z.orgDisplay)}Z.hidden=true;Z.fire("hide")}},isHidden:function(){return !!this.hidden},setProgressState:function(Z,aa){this.fire("ProgressState",{state:Z,time:aa})},load:function(aa){var Z=this,ac=Z.getElement(),ab;if(ac){aa=aa||{};aa.load=true;ab=Z.setContent(ac.value!==g?ac.value:ac.innerHTML,aa);aa.element=ac;if(!aa.no_events){Z.fire("LoadContent",aa)}aa.element=ac=null;return ab}},save:function(aa){var Z=this,ad=Z.getElement(),ab,ac;if(!ad||!Z.initialized){return}aa=aa||{};aa.save=true;aa.element=ad;ab=aa.content=Z.getContent(aa);if(!aa.no_events){Z.fire("SaveContent",aa)}if(aa.format=="raw"){Z.fire("RawSaveContent",aa)}ab=aa.content;if(!/TEXTAREA|INPUT/i.test(ad.nodeName)){if(!Z.inline){ad.innerHTML=ab}if((ac=E.getParent(Z.id,"form"))){Q(ac.elements,function(ae){if(ae.name==Z.id){ae.value=ab;return false}})}}else{ad.value=ab}aa.element=ad=null;if(aa.set_dirty!==false){Z.setDirty(false)}return ab},setContent:function(ae,ac){var ab=this,Z=ab.getBody(),ad,aa;ac=ac||{};ac.format=ac.format||"html";ac.set=true;ac.content=ae;if(!ac.no_events){ab.fire("BeforeSetContent",ac)}ae=ac.content;if(ae.length===0||/^\s+$/.test(ae)){aa=K&&K<11?"":'<br data-mce-bogus="1">';if(Z.nodeName=="TABLE"){ae="<tr><td>"+aa+"</td></tr>"}else{if(/^(UL|OL)$/.test(Z.nodeName)){ae="<li>"+aa+"</li>"}}ad=ab.settings.forced_root_block;if(ad&&ab.schema.isValidChild(Z.nodeName.toLowerCase(),ad.toLowerCase())){ae=aa;ae=ab.dom.createHTML(ad,ab.settings.forced_root_block_attrs,ae)}else{if(!K&&!ae){ae='<br data-mce-bogus="1">'}}ab.dom.setHTML(Z,ae);ab.fire("SetContent",ac)}else{if(ac.format!=="raw"){ae=new N({validate:ab.validate},ab.schema).serialize(ab.parser.parse(ae,{isRootContent:true}))}ac.content=i(ae);ab.dom.setHTML(Z,ac.content);if(!ac.no_events){ab.fire("SetContent",ac)}}return ac.content},getContent:function(ab){var aa=this,ac,Z=aa.getBody();ab=ab||{};ab.format=ab.format||"html";ab.get=true;ab.getInner=true;if(!ab.no_events){aa.fire("BeforeGetContent",ab)}if(ab.format=="raw"){ac=aa.serializer.getTrimmedContent()}else{if(ab.format=="text"){ac=Z.innerText||Z.textContent}else{ac=aa.serializer.serialize(Z,ab)}}if(ab.format!="text"){ab.content=i(ac)}else{ab.content=ac}if(!ab.no_events){aa.fire("GetContent",ab)}return ab.content},insertContent:function(aa,Z){if(Z){aa=t({content:aa},Z)}this.execCommand("mceInsertContent",false,aa)},isDirty:function(){return !this.isNotDirty},setDirty:function(aa){var Z=!this.isNotDirty;this.isNotDirty=!aa;if(aa&&aa!=Z){this.fire("dirty")}},setMode:function(Z){m.setMode(this,Z)},getContainer:function(){var Z=this;if(!Z.container){Z.container=E.get(Z.editorContainer||Z.id+"_parent")}return Z.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){if(!this.targetElm){this.targetElm=E.get(this.id)}return this.targetElm},getWin:function(){var Z=this,aa;if(!Z.contentWindow){aa=Z.iframeElement;if(aa){Z.contentWindow=aa.contentWindow}}return Z.contentWindow},getDoc:function(){var Z=this,aa;if(!Z.contentDocument){aa=Z.getWin();if(aa){Z.contentDocument=aa.document}}return Z.contentDocument},getBody:function(){var Z=this.getDoc();return this.bodyElement||(Z?Z.body:null)},convertURL:function(ab,aa,ad){var Z=this,ac=Z.settings;if(ac.urlconverter_callback){return Z.execCallback("urlconverter_callback",ab,ad,true,aa)}if(!ac.convert_urls||(ad&&ad.nodeName=="LINK")||ab.indexOf("file:")===0||ab.length===0){return ab}if(ac.relative_urls){return Z.documentBaseURI.toRelative(ab)}ab=Z.documentBaseURI.toAbsolute(ab,ac.remove_script_host);return ab},addVisual:function(ad){var aa=this,ab=aa.settings,ac=aa.dom,Z;ad=ad||aa.getBody();if(aa.hasVisual===g){aa.hasVisual=ab.visual}Q(ac.select("table,a",ad),function(af){var ae;switch(af.nodeName){case"TABLE":Z=ab.visual_table_class||"mce-item-table";ae=ac.getAttrib(af,"border");if((!ae||ae=="0")&&aa.hasVisual){ac.addClass(af,Z)}else{ac.removeClass(af,Z)}return;case"A":if(!ac.getAttrib(af,"href",false)){ae=ac.getAttrib(af,"name")||af.id;Z=ab.visual_anchor_class||"mce-item-anchor";if(ae&&aa.hasVisual){ac.addClass(af,Z)}else{ac.removeClass(af,Z)}}return}});aa.fire("VisualAid",{element:ad,hasVisual:aa.hasVisual})},remove:function(){var Z=this;if(!Z.removed){Z.save();Z.removed=1;Z.unbindAllNativeEvents();if(Z.hasHiddenInput){E.remove(Z.getElement().nextSibling)}if(!Z.inline){if(K&&K<10){Z.getDoc().execCommand("SelectAll",false,null)}E.setStyle(Z.id,"display",Z.orgDisplay);Z.getBody().onload=null}Z.fire("remove");Z.editorManager.remove(Z);E.remove(Z.getContainer());Z._selectionOverrides.destroy();Z.editorUpload.destroy();Z.destroy()}},destroy:function(ab){var Z=this,aa;if(Z.destroyed){return}if(!ab&&!Z.removed){Z.remove();return}if(!ab){Z.editorManager.off("beforeunload",Z._beforeUnload);if(Z.theme&&Z.theme.destroy){Z.theme.destroy()}Z.selection.destroy();Z.dom.destroy()}aa=Z.formElement;if(aa){if(aa._mceOldSubmit){aa.submit=aa._mceOldSubmit;aa._mceOldSubmit=null}E.unbind(aa,"submit reset",Z.formEventDelegate)}Z.contentAreaContainer=Z.formElement=Z.container=Z.editorContainer=null;Z.bodyElement=Z.contentDocument=Z.contentWindow=null;Z.iframeElement=Z.targetElm=null;if(Z.selection){Z.selection=Z.selection.win=Z.selection.dom=Z.selection.dom.doc=null}Z.destroyed=1},uploadImages:function(Z){return this.editorUpload.uploadImages(Z)},_scanForImages:function(){return this.editorUpload.scanForImages()}};t(B.prototype,n);return B});h("tinymce/util/I18n",[],function(){var j={},i="en";return{setCode:function(k){if(k){i=k;this.rtl=this.data[k]?this.data[k]._dir==="rtl":false}},getCode:function(){return i},rtl:false,add:function(n,l){var k=j[n];if(!k){j[n]=k={}}for(var m in l){k[m]=l[m]}this.setCode(n)},translate:function(m){var k;k=j[i];if(!k){k={}}if(typeof m=="undefined"){return m}if(typeof m!="string"&&m.raw){return m.raw}if(m.push){var l=m.slice(1);m=(k[m[0]]||m[0]).replace(/\{([0-9]+)\}/g,function(o,n){return l[n]})}return(k[m]||m).replace(/{context:\w+}$/,"")},data:j}});h("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/util/Delay","tinymce/Env"],function(o,p,j){var k,m,l,n=o.DOM;function i(w){function r(){try{return document.activeElement}catch(x){return document.body}}function v(y,x){if(x&&x.startContainer){if(!y.isChildOf(x.startContainer,y.getRoot())||!y.isChildOf(x.endContainer,y.getRoot())){return}return{startContainer:x.startContainer,startOffset:x.startOffset,endContainer:x.endContainer,endOffset:x.endOffset}}return x}function q(z,y){var x;if(y.startContainer){x=z.getDoc().createRange();x.setStart(y.startContainer,y.startOffset);x.setEnd(y.endContainer,y.endOffset)}else{x=y}return x}function u(x){return !!n.getParent(x,i.isEditorUIElement)}function s(y){var x=y.editor;x.on("init",function(){if(x.inline||j.ie){if("onbeforedeactivate" in document&&j.ie<9){x.dom.bind(x.getBody(),"beforedeactivate",function(A){if(A.target!=x.getBody()){return}try{x.lastRng=x.selection.getRng()}catch(z){}})}else{x.on("nodechange mouseup keyup",function(A){var z=r();if(A.type=="nodechange"&&A.selectionChange){return}if(z&&z.id==x.id+"_ifr"){z=x.getBody()}if(x.dom.isChildOf(z,x.getBody())){x.lastRng=x.selection.getRng()}})}if(j.webkit&&!k){k=function(){var A=w.activeEditor;if(A&&A.selection){var z=A.selection.getRng();if(z&&!z.collapsed){x.lastRng=z}}};n.bind(document,"selectionchange",k)}}});x.on("setcontent",function(){x.lastRng=null});x.on("mousedown",function(){x.selection.lastFocusBookmark=null});x.on("focusin",function(){var A=w.focusedEditor,z;if(x.selection.lastFocusBookmark){z=q(x,x.selection.lastFocusBookmark);x.selection.lastFocusBookmark=null;x.selection.setRng(z)}if(A!=x){if(A){A.fire("blur",{focusedEditor:x})}w.setActive(x);w.focusedEditor=x;x.fire("focus",{blurredEditor:A});x.focus(true)}x.lastRng=null});x.on("focusout",function(){p.setEditorTimeout(x,function(){var z=w.focusedEditor;if(!u(r())&&z==x){x.fire("blur",{focusedEditor:null});w.focusedEditor=null;if(x.selection){x.selection.lastFocusBookmark=null}}})});if(!m){m=function(B){var z=w.activeEditor,A;A=B.target;if(z&&A.ownerDocument==document){if(z.selection&&A!=z.getBody()){z.selection.lastFocusBookmark=v(z.dom,z.lastRng)}if(A!=document.body&&!u(A)&&w.focusedEditor==z){z.fire("blur",{focusedEditor:null});w.focusedEditor=null}}};n.bind(document,"focusin",m)}if(x.inline&&!l){l=function(B){var A=w.activeEditor,C=A.dom;if(A.inline&&C&&!C.isChildOf(B.target,A.getBody())){var z=A.selection.getRng();if(!z.collapsed){A.lastRng=z}}};n.bind(document,"mouseup",l)}}function t(x){if(w.focusedEditor==x.editor){w.focusedEditor=null}if(!w.activeEditor){n.unbind(document,"selectionchange",k);n.unbind(document,"focusin",m);n.unbind(document,"mouseup",l);k=m=l=null}}w.on("AddEditor",s);w.on("RemoveEditor",t)}i.isEditorUIElement=function(q){return q.className.toString().indexOf("mce-")!==-1};return i});h("tinymce/EditorManager",["tinymce/Editor","tinymce/dom/DomQuery","tinymce/dom/DOMUtils","tinymce/util/URI","tinymce/Env","tinymce/util/Tools","tinymce/util/Promise","tinymce/util/Observable","tinymce/util/I18n","tinymce/FocusManager"],function(w,n,A,q,k,j,l,s,x,p){var C=A.DOM;var y=j.explode,m=j.each,B=j.extend;var D=0,t,u,o=false;function v(E){m(u.editors,function(F){if(E.type==="scroll"){F.fire("ScrollWindow",E)}else{F.fire("ResizeWindow",E)}})}function i(E,F){if(F!==o){if(F){n(window).on("resize scroll",v)}else{n(window).off("resize scroll",v)}o=F}}function z(G){var H=u.editors,F;delete H[G.id];for(var E=0;E<H.length;E++){if(H[E]==G){H.splice(E,1);F=true;break}}if(u.activeEditor==G){u.activeEditor=H[0]}if(u.focusedEditor==G){u.focusedEditor=null}return F}function r(E){if(E&&E.initialized&&!(E.getContainer()||E.getBody()).parentNode){z(E);E.unbindAllNativeEvents();E.destroy(true);E.removed=true;E=null}return E}u={$:n,majorVersion:"4",minorVersion:"4.3",releaseDate:"2016-09-01",editors:[],i18n:x,activeEditor:null,setup:function(){var M=this,F,J,L="",G,E;J=q.getDocumentBaseUrl(document.location);if(/^[^:]+:\/\/\/?[^\/]+\//.test(J)){J=J.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");if(!/[\/\\]$/.test(J)){J+="/"}}G=window.tinymce||window.tinyMCEPreInit;if(G){F=G.base||G.baseURL;L=G.suffix}else{var H=document.getElementsByTagName("script");for(var I=0;I<H.length;I++){E=H[I].src;var K=E.substring(E.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(E)){if(K.indexOf(".min")!=-1){L=".min"}F=E.substring(0,E.lastIndexOf("/"));break}}if(!F&&document.currentScript){E=document.currentScript.src;if(E.indexOf(".min")!=-1){L=".min"}F=E.substring(0,E.lastIndexOf("/"))}}M.baseURL=new q(J).toAbsolute(F);M.documentBaseURL=J;M.baseURI=new q(M.baseURL);M.suffix=L;M.focusManager=new p(M)},overrideDefaults:function(E){var F,G;F=E.base_url;if(F){this.baseURL=new q(this.documentBaseURL).toAbsolute(F.replace(/\/+$/,""));this.baseURI=new q(this.baseURL)}G=E.suffix;if(E.suffix){this.suffix=G}this.defaultSettings=E},init:function(I){var O=this,P,E;E=j.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");function H(Q,R){return Q.inline&&R.tagName.toLowerCase() in E}function J(Q,R){if(window.console&&!window.test){window.console.log(Q,R)}}function M(R){var Q=R.id;if(!Q){Q=R.name;if(Q&&!C.get(Q)){Q=R.name}else{Q=C.uniqueId()}R.setAttribute("id",Q)}return Q}function G(Q){var R=I[Q];if(!R){return}return R.apply(O,Array.prototype.slice.call(arguments,2))}function L(R,Q){return Q.constructor===RegExp?Q.test(R.className):C.hasClass(R,Q)}function F(S){var R,Q=[];if(S.types){m(S.types,function(T){Q=Q.concat(C.select(T.selector))});return Q}else{if(S.selector){return C.select(S.selector)}else{if(S.target){return[S.target]}}}switch(S.mode){case"exact":R=S.elements||"";if(R.length>0){m(y(R),function(U){var T;if((T=C.get(U))){Q.push(T)}else{m(document.forms,function(V){m(V.elements,function(W){if(W.name===U){U="mce_editor_"+D++;C.setAttrib(W,"id",U);Q.push(W)}})})}})}break;case"textareas":case"specific_textareas":m(C.select("textarea"),function(T){if(S.editor_deselector&&L(T,S.editor_deselector)){return}if(!S.editor_selector||L(T,S.editor_selector)){Q.push(T)}});break}return Q}var N=function(Q){P=Q};function K(){var S=0,T=[],Q;function R(X,V,W){var U=new w(X,V,O);T.push(U);U.on("init",function(){if(++S===Q.length){N(T)}});U.targetElm=U.targetElm||W;U.render()}C.unbind(window,"ready",K);G("onpageload");Q=n.unique(F(I));if(I.types){m(I.types,function(U){j.each(Q,function(V){if(C.is(V,U.selector)){R(M(V),B({},I,U),V);return false}return true})});return}j.each(Q,function(U){r(O.get(U.id))});Q=j.grep(Q,function(U){return !O.get(U.id)});m(Q,function(U){if(H(I,U)){J("Could not initialize inline editor on invalid inline target element",U)}else{R(M(U),I,U)}})}O.settings=I;C.bind(window,"ready",K);return new l(function(Q){if(P){Q(P)}else{N=function(R){Q(R)}}})},get:function(E){if(!arguments.length){return this.editors}return E in this.editors?this.editors[E]:null},add:function(F){var E=this,G=E.editors;G[F.id]=F;G.push(F);i(G,true);E.activeEditor=F;E.fire("AddEditor",{editor:F});if(!t){t=function(){E.fire("BeforeUnload")};C.bind(window,"beforeunload",t)}return F},createEditor:function(F,E){return this.add(new w(F,E,this))},remove:function(E){var F=this,G,I=F.editors,H;if(!E){for(G=I.length-1;G>=0;G--){F.remove(I[G])}return}if(typeof E=="string"){E=E.selector||E;m(C.select(E),function(J){H=I[J.id];if(H){F.remove(H)}});return}H=E;if(!I[H.id]){return null}if(z(H)){F.fire("RemoveEditor",{editor:H})}if(!I.length){C.unbind(window,"beforeunload",t)}H.remove();i(I,I.length>0);return H},execCommand:function(I,H,G){var E=this,F=E.get(G);switch(I){case"mceAddEditor":if(!E.get(G)){new w(G,E.settings,E).render()}return true;case"mceRemoveEditor":if(F){F.remove()}return true;case"mceToggleEditor":if(!F){E.execCommand("mceAddEditor",0,G);return true}if(F.isHidden()){F.show()}else{F.hide()}return true}if(E.activeEditor){return E.activeEditor.execCommand(I,H,G)}return false},triggerSave:function(){m(this.editors,function(E){E.save()})},addI18n:function(F,E){x.add(F,E)},translate:function(E){return x.translate(E)},setActive:function(E){var F=this.activeEditor;if(this.activeEditor!=E){if(F){F.fire("deactivate",{relatedTarget:E})}E.fire("activate",{relatedTarget:F})}this.activeEditor=E}};B(u,s);u.setup();window.tinymce=window.tinyMCE=u;return u});h("tinymce/LegacyInput",["tinymce/EditorManager","tinymce/util/Tools"],function(j,i){var l=i.each,k=i.explode;j.on("AddEditor",function(n){var m=n.editor;m.on("preInit",function(){var q,t,s,p=m.settings;function o(v,u){l(u,function(x,w){if(x){s.setStyle(v,w,x)}});s.rename(v,"span")}function r(u){s=m.dom;if(p.convert_fonts_to_spans){l(s.select("font,u,strike",u.node),function(v){q[v.nodeName.toLowerCase()](s,v)})}}if(p.inline_styles){t=k(p.font_size_legacy_values);q={font:function(v,u){o(u,{backgroundColor:u.style.backgroundColor,color:u.color,fontFamily:u.face,fontSize:t[parseInt(u.size,10)-1]})},u:function(v,u){if(m.settings.schema==="html4"){o(u,{textDecoration:"underline"})}},strike:function(v,u){o(u,{textDecoration:"line-through"})}};m.on("PreProcess SetContent",r)}})})});h("tinymce/util/XHR",["tinymce/util/Observable","tinymce/util/Tools"],function(i,j){var k={send:function(m){var o,n=0;function l(){if(!m.async||o.readyState==4||n++>10000){if(m.success&&n<10000&&o.status==200){m.success.call(m.success_scope,""+o.responseText,o,m)}else{if(m.error){m.error.call(m.error_scope,n>10000?"TIMED_OUT":"GENERAL",o,m)}}o=null}else{setTimeout(l,10)}}m.scope=m.scope||this;m.success_scope=m.success_scope||m.scope;m.error_scope=m.error_scope||m.scope;m.async=m.async===false?false:true;m.data=m.data||"";k.fire("beforeInitialize",{settings:m});o=new XMLHttpRequest();if(o){if(o.overrideMimeType){o.overrideMimeType(m.content_type)}o.open(m.type||(m.data?"POST":"GET"),m.url,m.async);if(m.crossDomain){o.withCredentials=true}if(m.content_type){o.setRequestHeader("Content-Type",m.content_type)}if(m.requestheaders){j.each(m.requestheaders,function(p){o.setRequestHeader(p.key,p.value)})}o.setRequestHeader("X-Requested-With","XMLHttpRequest");o=k.fire("beforeSend",{xhr:o,settings:m}).xhr;o.send(m.data);if(!m.async){return l()}setTimeout(l,10)}}};j.extend(k,i);return k});h("tinymce/util/JSON",[],function(){function i(p,k){var n,j,m,l;k=k||'"';if(p===null){return"null"}m=typeof p;if(m=="string"){j="\bb\tt\nn\ff\rr\"\"''\\\\";return k+p.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(q,o){if(k==='"'&&q==="'"){return q}n=j.indexOf(o);if(n+1){return"\\"+j.charAt(n+1)}q=o.charCodeAt().toString(16);return"\\u"+"0000".substring(q.length)+q})+k}if(m=="object"){if(p.hasOwnProperty&&Object.prototype.toString.call(p)==="[object Array]"){for(n=0,j="[";n<p.length;n++){j+=(n>0?",":"")+i(p[n],k)}return j+"]"}j="{";for(l in p){if(p.hasOwnProperty(l)){j+=typeof p[l]!="function"?(j.length>1?","+k:k)+l+k+":"+i(p[l],k):""}}return j+"}"}return""+p}return{serialize:i,parse:function(k){try{return window[String.fromCharCode(101)+"val"]("("+k+")")}catch(j){}}}});h("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(l,k,j){var m=j.extend;function i(n){this.settings=m({},n);this.count=0}i.sendRPC=function(n){return new i().send(n)};i.prototype={send:function(p){var o=p.error,n=p.success;p=m(this.settings,p);p.success=function(r,q){r=l.parse(r);if(typeof r=="undefined"){r={error:"JSON Parse error."}}if(r.error){o.call(p.error_scope||p.scope,r.error,q)}else{n.call(p.success_scope||p.scope,r.result)}};p.error=function(r,q){if(o){o.call(p.error_scope||p.scope,r,q)}};p.data=l.serialize({id:p.id||"c"+(this.count++),method:p.method,params:p.params});p.content_type="application/json";k.send(p)}};return i});h("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(i){return{callbacks:{},count:0,send:function(k){var j=this,m=i.DOM,l=k.count!==g?k.count:j.count;var n="tinymce_jsonp_"+l;j.callbacks[l]=function(o){m.remove(n);delete j.callbacks[l];k.callback(o)};m.add(m.doc.body,"script",{id:n,src:k.url,type:"text/javascript"});j.count++}}});h("tinymce/util/LocalStorage",[],function(){var l,k,o,q,r,j;try{if(window.localStorage){return localStorage}}catch(n){}r="tinymce";k=document.documentElement;j=!!k.addBehavior;if(j){k.addBehavior("#default#userData")}function i(){q=[];for(var s in o){q.push(s)}l.length=q.length}function p(){var s,v,u,x=0;o={};if(!j){return}function t(y){var A,z;z=y!==g?x+y:v.indexOf(",",x);if(z===-1||z>v.length){return null}A=v.substring(x,z);x=z+1;return A}k.load(r);v=k.getAttribute(r)||"";do{var w=t();if(w===null){break}s=t(parseInt(w,32)||0);if(s!==null){w=t();if(w===null){break}u=t(parseInt(w,32)||0);if(s){o[s]=u}}}while(s!==null);i()}function m(){var v,u="";if(!j){return}for(var t in o){v=o[t];u+=(u?",":"")+t.length.toString(32)+","+t+","+v.length.toString(32)+","+v}k.setAttribute(r,u);try{k.save(r)}catch(s){}i()}l={key:function(s){return q[s]},getItem:function(s){return s in o?o[s]:null},setItem:function(s,t){o[s]=""+t;m()},removeItem:function(s){delete o[s];m()},clear:function(){o={};m()}};p();return l});h("tinymce/Compat",["tinymce/dom/DOMUtils","tinymce/dom/EventUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/util/Tools","tinymce/Env"],function(m,o,n,l,j,i){var k=window.tinymce;k.DOM=m.DOM;k.ScriptLoader=n.ScriptLoader;k.PluginManager=l.PluginManager;k.ThemeManager=l.ThemeManager;k.dom=k.dom||{};k.dom.Event=o.Event;j.each(j,function(q,p){k[p]=q});j.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(p){k[p]=i[p.substr(2).toLowerCase()]});return{}});h("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(i,j){return i.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(k){this.settings=j.extend({},this.Defaults,k)},preRender:function(k){k.bodyClasses.add(this.settings.containerClass)},applyClasses:function(l){var k=this,o=k.settings,n,m,q,p;n=o.firstControlClass;m=o.lastControlClass;l.each(function(r){r.classes.remove(n).remove(m).add(o.controlClass);if(r.visible()){if(!q){q=r}p=r}});if(q){q.classes.add(n)}if(p){p.classes.add(m)}},renderHtml:function(k){var l=this,m="";l.applyClasses(k.items());k.items().each(function(n){m+=n.renderHtml()});return m},recalc:function(){},postRender:function(){},isNative:function(){return false}})});h("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(i){return i.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(j){j.items().filter(":visible").each(function(l){var k=l.settings;l.layoutRect({x:k.x,y:k.y,w:k.w,h:k.h});if(l.recalc){l.recalc()}})},renderHtml:function(j){return'<div id="'+j._id+'-absend" class="'+j.classPrefix+'abs-end"></div>'+this._super(j)}})});h("tinymce/ui/Button",["tinymce/ui/Widget"],function(i){return i.extend({Defaults:{classes:"widget btn",role:"button"},init:function(l){var j=this,k;j._super(l);l=j.settings;k=j.settings.size;j.on("click mousedown",function(m){m.preventDefault()});j.on("touchstart",function(m){j.fire("click",m);m.preventDefault()});if(l.subtype){j.classes.add(l.subtype)}if(k){j.classes.add("btn-"+k)}if(l.icon){j.icon(l.icon)}},icon:function(j){if(!arguments.length){return this.state.get("icon")}this.state.set("icon",j);return this},repaint:function(){var j=this.getEl().firstChild,k;if(j){k=j.style;k.width=k.height="100%"}this._super()},renderHtml:function(){var j=this,p=j._id,m=j.classPrefix;var k=j.state.get("icon"),n,o=j.state.get("text"),l="";n=j.settings.image;if(n){k="none";if(typeof n!="string"){n=window.getSelection?n[0]:n[1]}n=" style=\"background-image: url('"+n+"')\""}else{n=""}if(o){j.classes.add("btn-has-text");l='<span class="'+m+'txt">'+j.encode(o)+"</span>"}k=j.settings.icon?m+"ico "+m+"i-"+k:"";return('<div id="'+p+'" class="'+j.classes+'" tabindex="-1" aria-labelledby="'+p+'"><button role="presentation" type="button" tabindex="-1">'+(k?'<i class="'+k+'"'+n+"></i>":"")+l+"</button></div>")},bindStates:function(){var j=this,m=j.$,l=j.classPrefix+"txt";function k(o){var n=m("span."+l,j.getEl());if(o){if(!n[0]){m("button:first",j.getEl()).append('<span class="'+l+'"></span>');n=m("span."+l,j.getEl())}n.html(j.encode(o))}else{n.remove()}j.classes.toggle("btn-has-text",!!o)}j.state.on("change:text",function(n){k(n.value)});j.state.on("change:icon",function(r){var p=r.value,q=j.classPrefix;j.settings.icon=p;p=p?q+"ico "+q+"i-"+j.settings.icon:"";var n=j.getEl().firstChild,o=n.getElementsByTagName("i")[0];if(p){if(!o||o!=n.firstChild){o=document.createElement("i");n.insertBefore(o,n.firstChild)}o.className=p}else{if(o){n.removeChild(o)}}k(j.state.get("text"))});return j._super()}})});h("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(i){return i.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var j=this,k=j._layout;j.classes.add("btn-group");j.preRender();k.preRender(j);return('<div id="'+j._id+'" class="'+j.classes+'"><div id="'+j._id+'-body">'+(j.settings.html||"")+k.renderHtml(j)+"</div></div>")}})});h("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(i){return i.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:false},init:function(k){var j=this;j._super(k);j.on("click mousedown",function(l){l.preventDefault()});j.on("click",function(l){l.preventDefault();if(!j.disabled()){j.checked(!j.checked())}});j.checked(j.settings.checked)},checked:function(j){if(!arguments.length){return this.state.get("checked")}this.state.set("checked",j);return this},value:function(j){if(!arguments.length){return this.checked()}return this.checked(j)},renderHtml:function(){var j=this,l=j._id,k=j.classPrefix;return('<div id="'+l+'" class="'+j.classes+'" unselectable="on" aria-labelledby="'+l+'-al" tabindex="-1"><i class="'+k+"ico "+k+'i-checkbox"></i><span id="'+l+'-al" class="'+k+'label">'+j.encode(j.state.get("text"))+"</span></div>")},bindStates:function(){var j=this;function k(l){j.classes.toggle("checked",l);j.aria("checked",l)}j.state.on("change:text",function(l){j.getEl("al").firstChild.data=j.translate(l.value)});j.state.on("change:checked change:value",function(l){j.fire("change");k(l.value)});j.state.on("change:icon",function(p){var n=p.value,o=j.classPrefix;if(typeof n=="undefined"){return j.settings.icon}j.settings.icon=n;n=n?o+"ico "+o+"i-"+j.settings.icon:"";var l=j.getEl().firstChild,m=l.getElementsByTagName("i")[0];if(n){if(!m||m!=l.firstChild){m=document.createElement("i");l.insertBefore(m,l.firstChild)}m.className=n}else{if(m){l.removeChild(m)}}});if(j.state.get("checked")){k(true)}return j._super()}})});h("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(k,i,j,l){return k.extend({init:function(n){var m=this;m._super(n);n=m.settings;m.classes.add("combobox");m.subinput=true;m.ariaTarget="inp";n.menu=n.menu||n.values;if(n.menu){n.icon="caret"}m.on("click",function(p){var q=p.target,o=m.getEl();if(!l.contains(o,q)&&q!=o){return}while(q&&q!=o){if(q.id&&q.id.indexOf("-open")!=-1){m.fire("action");if(n.menu){m.showMenu();if(p.aria){m.menu.items()[0].focus()}}}q=q.parentNode}});m.on("keydown",function(o){if(o.target.nodeName=="INPUT"&&o.keyCode==13){m.parents().reverse().each(function(q){var r=m.state.get("value"),p=m.getEl("inp").value;o.preventDefault();m.state.set("value",p);if(r!=p){m.fire("change")}if(q.hasEventListeners("submit")&&q.toJSON){q.fire("submit",{data:q.toJSON()});return false}})}});m.on("keyup",function(o){if(o.target.nodeName=="INPUT"){m.state.set("value",o.target.value)}})},showMenu:function(){var m=this,n=m.settings,o;if(!m.menu){o=n.menu||[];if(o.length){o={type:"menu",items:o}}else{o.type=o.type||"menu"}m.menu=i.create(o).parent(m).renderTo(m.getContainerElm());m.fire("createmenu");m.menu.reflow();m.menu.on("cancel",function(p){if(p.control===m.menu){m.focus()}});m.menu.on("show hide",function(p){p.control.items().each(function(q){q.active(q.value()==m.value())})}).fire("show");m.menu.on("select",function(p){m.value(p.control.value())});m.on("focusin",function(p){if(p.target.tagName.toUpperCase()=="INPUT"){m.menu.hide()}});m.aria("expanded",true)}m.menu.show();m.menu.layoutRect({w:m.layoutRect().w});m.menu.moveRel(m.getEl(),m.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var n=this,s=n.getEl(),m=n.getEl("open"),q=n.layoutRect();var p,o;if(m){p=q.w-j.getSize(m).width-10}else{p=q.w-10}var r=document;if(r.all&&(!r.documentMode||r.documentMode<=8)){o=(n.layoutRect().h-2)+"px"}l(s.firstChild).css({width:p,lineHeight:o});n._super();return n},postRender:function(){var m=this;l(this.getEl("inp")).on("change",function(n){m.state.set("value",n.target.value);m.fire("change",n)});return m._super()},renderHtml:function(){var u=this,m=u._id,n=u.settings,o=u.classPrefix;var r=u.state.get("value")||"";var q,t,p="",s="";if("spellcheck" in n){s+=' spellcheck="'+n.spellcheck+'"'}if(n.maxLength){s+=' maxlength="'+n.maxLength+'"'}if(n.size){s+=' size="'+n.size+'"'}if(n.subtype){s+=' type="'+n.subtype+'"'}if(u.disabled()){s+=' disabled="disabled"'}q=n.icon;if(q&&q!="caret"){q=o+"ico "+o+"i-"+n.icon}t=u.state.get("text");if(q||t){p=('<div id="'+m+'-open" class="'+o+"btn "+o+'open" tabIndex="-1" role="button"><button id="'+m+'-action" type="button" hidefocus="1" tabindex="-1">'+(q!="caret"?'<i class="'+q+'"></i>':'<i class="'+o+'caret"></i>')+(t?(q?" ":"")+t:"")+"</button></div>");u.classes.add("has-open")}return('<div id="'+m+'" class="'+u.classes+'"><input id="'+m+'-inp" class="'+o+'textbox" value="'+u.encode(r,false)+'" hidefocus="1"'+s+' placeholder="'+u.encode(n.placeholder)+'" />'+p+"</div>")},value:function(m){if(arguments.length){this.state.set("value",m);return this}if(this.state.get("rendered")){this.state.set("value",this.getEl("inp").value)}return this.state.get("value")},bindStates:function(){var m=this;m.state.on("change:value",function(n){if(m.getEl("inp").value!=n.value){m.getEl("inp").value=n.value}});m.state.on("change:disabled",function(n){m.getEl("inp").disabled=n.value});return m._super()},remove:function(){l(this.getEl("inp")).off();this._super()}})});h("tinymce/ui/ColorBox",["tinymce/ui/ComboBox"],function(i){return i.extend({init:function(k){var j=this;k.spellcheck=false;if(k.onaction){k.icon="none"}j._super(k);j.classes.add("colorbox");j.on("change keyup postrender",function(){j.repaintColor(j.value())})},repaintColor:function(k){var l=this.getEl().getElementsByTagName("i")[0];if(l){try{l.style.background=k}catch(j){}}},bindStates:function(){var j=this;j.state.on("change:value",function(k){if(j.state.get("rendered")){j.repaintColor(k.value)}});return j._super()}})});h("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(i,j){return i.extend({showPanel:function(){var k=this,l=k.settings;k.active(true);if(!k.panel){var m=l.panel;if(m.type){m={layout:"grid",items:m}}m.role=m.role||"dialog";m.popover=true;m.autohide=true;m.ariaRoot=true;k.panel=new j(m).on("hide",function(){k.active(false)}).on("cancel",function(n){n.stopPropagation();k.focus();k.hidePanel()}).parent(k).renderTo(k.getContainerElm());k.panel.fire("show");k.panel.reflow()}else{k.panel.show()}k.panel.moveRel(k.getEl(),l.popoverAlign||(k.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var k=this;if(k.panel){k.panel.hide()}},postRender:function(){var k=this;k.aria("haspopup",true);k.on("click",function(l){if(l.control===k){if(k.panel&&k.panel.visible()){k.hidePanel()}else{k.showPanel();k.panel.focus(!!l.aria)}}});return k._super()},remove:function(){if(this.panel){this.panel.remove();this.panel=null}return this._super()}})});h("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(j,i){var k=i.DOM;return j.extend({init:function(l){this._super(l);this.classes.add("colorbutton")},color:function(l){if(l){this._color=l;this.getEl("preview").style.backgroundColor=l;return this}return this._color},resetColor:function(){this._color=null;this.getEl("preview").style.backgroundColor=null;return this},renderHtml:function(){var l=this,r=l._id,o=l.classPrefix,q=l.state.get("text");var m=l.settings.icon?o+"ico "+o+"i-"+l.settings.icon:"";var p=l.settings.image?" style=\"background-image: url('"+l.settings.image+"')\"":"",n="";if(q){l.classes.add("btn-has-text");n='<span class="'+o+'txt">'+l.encode(q)+"</span>"}return('<div id="'+r+'" class="'+l.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(m?'<i class="'+m+'"'+p+"></i>":"")+'<span id="'+r+'-preview" class="'+o+'preview"></span>'+n+'</button><button type="button" class="'+o+'open" hidefocus="1" tabindex="-1"> <i class="'+o+'caret"></i></button></div>')},postRender:function(){var l=this,m=l.settings.onclick;l.on("click",function(n){if(n.aria&&n.aria.key=="down"){return}if(n.control==l&&!k.getParent(n.target,"."+l.classPrefix+"open")){n.stopImmediatePropagation();m.call(l,n)}});delete l.settings.onclick;return l._super()}})});h("tinymce/util/Color",[],function(){var k=Math.min,i=Math.max,j=Math.round;function l(w){var x=this,m=0,t=0,v=0;function p(y,A,C){var z,G,E,B,D,F;z=0;G=0;E=0;y=y/255;A=A/255;C=C/255;D=k(y,k(A,C));F=i(y,i(A,C));if(D==F){E=D;return{h:0,s:0,v:E*100}}B=(y==D)?A-C:((C==D)?y-A:C-y);z=(y==D)?3:((C==D)?1:5);z=60*(z-B/(F-D));G=(F-D)/F;E=F;return{h:j(z),s:j(G*100),v:j(E*100)}}function q(y,C,D){var B,A,r,z;y=(parseInt(y,10)||0)%360;C=parseInt(C,10)/100;D=parseInt(D,10)/100;C=i(0,k(C,1));D=i(0,k(D,1));if(C===0){m=t=v=j(255*D);return}B=y/60;A=D*C;r=A*(1-Math.abs(B%2-1));z=D-A;switch(Math.floor(B)){case 0:m=A;t=r;v=0;break;case 1:m=r;t=A;v=0;break;case 2:m=0;t=A;v=r;break;case 3:m=0;t=r;v=A;break;case 4:m=r;t=0;v=A;break;case 5:m=A;t=0;v=r;break;default:m=t=v=0}m=j(255*(m+z));t=j(255*(t+z));v=j(255*(v+z))}function n(){function r(y){y=parseInt(y,10).toString(16);return y.length>1?y:"0"+y}return"#"+r(m)+r(t)+r(v)}function u(){return{r:m,g:t,b:v}}function s(){return p(m,t,v)}function o(y){var r;if(typeof y=="object"){if("r" in y){m=y.r;t=y.g;v=y.b}else{if("v" in y){q(y.h,y.s,y.v)}}}else{if((r=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(y))){m=parseInt(r[1],10);t=parseInt(r[2],10);v=parseInt(r[3],10)}else{if((r=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(y))){m=parseInt(r[1],16);t=parseInt(r[2],16);v=parseInt(r[3],16)}else{if((r=/#([0-F])([0-F])([0-F])/gi.exec(y))){m=parseInt(r[1]+r[1],16);t=parseInt(r[2]+r[2],16);v=parseInt(r[3]+r[3],16)}}}}m=m<0?0:(m>255?255:m);t=t<0?0:(t>255?255:t);v=v<0?0:(v>255?255:v);return x}if(w){o(w)}x.toRgb=u;x.toHsv=s;x.toHex=n;x.parse=o}return l});h("tinymce/ui/ColorPicker",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils","tinymce/util/Color"],function(k,j,i,l){return k.extend({Defaults:{classes:"widget colorpicker"},init:function(m){this._super(m)},postRender:function(){var w=this,q=w.color(),r,t,s,v,o;t=w.getEl("h");s=w.getEl("hp");v=w.getEl("sv");o=w.getEl("svp");function p(D,A){var C=i.getPos(D),z,B;z=A.pageX-C.x;B=A.pageY-C.y;z=Math.max(0,Math.min(z/D.clientWidth,1));B=Math.max(0,Math.min(B/D.clientHeight,1));return{x:z,y:B}}function n(z,y){var x=(360-z.h)/360;i.css(s,{top:(x*100)+"%"});if(!y){i.css(o,{left:z.s+"%",top:(100-z.v)+"%"})}v.style.background=new l({s:100,v:100,h:z.h}).toHex();w.color().parse({s:z.s,v:z.v,h:z.h})}function m(x){var y;y=p(v,x);r.s=y.x*100;r.v=(1-y.y)*100;n(r);w.fire("change")}function u(x){var y;y=p(t,x);r=q.toHsv();r.h=(1-y.y)*360;n(r,true);w.fire("change")}w._repaint=function(){r=q.toHsv();n(r)};w._super();w._svdraghelper=new j(w._id+"-sv",{start:m,drag:m});w._hdraghelper=new j(w._id+"-h",{start:u,drag:u});w._repaint()},rgb:function(){return this.color().toRgb()},value:function(n){var m=this;if(arguments.length){m.color().parse(n);if(m._rendered){m._repaint()}}else{return m.color().toHex()}},color:function(){if(!this._color){this._color=new l()}return this._color},renderHtml:function(){var m=this,s=m._id,q=m.classPrefix,o;var p="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";function n(){var w,u,v="",t,x;t="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=";x=p.split(",");for(w=0,u=x.length-1;w<u;w++){v+=('<div class="'+q+'colorpicker-h-chunk" style="height:'+(100/u)+"%;"+t+x[w]+",endColorstr="+x[w+1]+");-ms-"+t+x[w]+",endColorstr="+x[w+1]+')"></div>')}return v}var r=("background: -ms-linear-gradient(top,"+p+");background: linear-gradient(to bottom,"+p+");");o=('<div id="'+s+'-h" class="'+q+'colorpicker-h" style="'+r+'">'+n()+'<div id="'+s+'-hp" class="'+q+'colorpicker-h-marker"></div></div>');return('<div id="'+s+'" class="'+m.classes+'"><div id="'+s+'-sv" class="'+q+'colorpicker-sv"><div class="'+q+'colorpicker-overlay1"><div class="'+q+'colorpicker-overlay2"><div id="'+s+'-svp" class="'+q+'colorpicker-selector1"><div class="'+q+'colorpicker-selector2"></div></div></div></div></div>'+o+"</div>")}})});h("tinymce/ui/Path",["tinymce/ui/Widget"],function(i){return i.extend({init:function(k){var j=this;if(!k.delimiter){k.delimiter="\u00BB"}j._super(k);j.classes.add("path");j.canFocus=true;j.on("click",function(n){var l,m=n.target;if((l=m.getAttribute("data-index"))){j.fire("select",{value:j.row()[l],index:l})}});j.row(j.settings.row)},focus:function(){var j=this;j.getEl().firstChild.focus();return j},row:function(j){if(!arguments.length){return this.state.get("row")}this.state.set("row",j);return this},renderHtml:function(){var j=this;return('<div id="'+j._id+'" class="'+j.classes+'">'+j._getDataPathHtml(j.state.get("row"))+"</div>")},bindStates:function(){var j=this;j.state.on("change:row",function(k){j.innerHtml(j._getDataPathHtml(k.value))});return j._super()},_getDataPathHtml:function(p){var k=this,q=p||[],n,j,m="",o=k.classPrefix;for(n=0,j=q.length;n<j;n++){m+=((n>0?'<div class="'+o+'divider" aria-hidden="true"> '+k.settings.delimiter+" </div>":"")+'<div role="button" class="'+o+"path-item"+(n==j-1?" "+o+"last":"")+'" data-index="'+n+'" tabindex="-1" id="'+k._id+"-"+n+'" aria-level="'+n+'">'+q[n].name+"</div>")}if(!m){m='<div class="'+o+'path-item">\u00a0</div>'}return m}})});h("tinymce/ui/ElementPath",["tinymce/ui/Path"],function(i){return i.extend({postRender:function(){var j=this,l=j.settings.editor;function k(m){if(m.nodeType===1){if(m.nodeName=="BR"||!!m.getAttribute("data-mce-bogus")){return true}if(m.getAttribute("data-mce-type")==="bookmark"){return true}}return false}if(l.settings.elementpath!==false){j.on("select",function(m){l.focus();l.selection.select(this.row()[m.index].element);l.nodeChanged()});l.on("nodeChange",function(q){var m=[],o=q.parents,p=o.length;while(p--){if(o[p].nodeType==1&&!k(o[p])){var n=l.fire("ResolveName",{name:o[p].nodeName.toLowerCase(),target:o[p]});if(!n.isDefaultPrevented()){m.push({name:n.name,element:o[p]})}if(n.isPropagationStopped()){break}}}j.row(m)})}return j._super()}})});h("tinymce/ui/FormItem",["tinymce/ui/Container"],function(i){return i.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var j=this,k=j._layout,l=j.classPrefix;j.classes.add("formitem");k.preRender(j);return('<div id="'+j._id+'" class="'+j.classes+'" hidefocus="1" tabindex="-1">'+(j.settings.title?('<div id="'+j._id+'-title" class="'+l+'title">'+j.settings.title+"</div>"):"")+'<div id="'+j._id+'-body" class="'+j.bodyClasses+'">'+(j.settings.html||"")+k.renderHtml(j)+"</div></div>")}})});h("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem","tinymce/util/Tools"],function(i,k,j){return i.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var m=this,l=m.items();if(!m.settings.formItemDefaults){m.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}}l.each(function(p){var o,n=p.settings.label;if(n){o=new k(j.extend({items:{type:"label",id:p._id+"-l",text:n,flex:0,forId:p._id,disabled:p.disabled()}},m.settings.formItemDefaults));o.type="formitem";p.aria("labelledby",p._id+"-l");if(typeof p.settings.flex=="undefined"){p.settings.flex=1}m.replace(p,o);o.add(p)}})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var l=this;l._super();l.fromJSON(l.settings.data)},bindStates:function(){var m=this;m._super();function l(){var q=0,r=[],o,p,n;if(m.settings.labelGapCalc===false){return}if(m.settings.labelGapCalc=="children"){n=m.find("formitem")}else{n=m.items()}n.filter("formitem").each(function(u){var t=u.items()[0],s=t.getEl().clientWidth;q=s>q?s:q;r.push(t)});p=m.settings.labelGap||0;o=r.length;while(o--){r[o].settings.minWidth=q+p}}m.on("show",l);l()}})});h("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(i){return i.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var j=this,k=j._layout,l=j.classPrefix;j.preRender();k.preRender(j);return('<fieldset id="'+j._id+'" class="'+j.classes+'" hidefocus="1" tabindex="-1">'+(j.settings.title?('<legend id="'+j._id+'-title" class="'+l+'fieldset-title">'+j.settings.title+"</legend>"):"")+'<div id="'+j._id+'-body" class="'+j.bodyClasses+'">'+(j.settings.html||"")+k.renderHtml(j)+"</div></fieldset>")}})});h("tinymce/ui/FilePicker",["tinymce/ui/ComboBox","tinymce/util/Tools"],function(j,i){return j.extend({init:function(o){var m=this,n=tinymce.activeEditor,l=n.settings;var k,q,p;o.spellcheck=false;p=l.file_picker_types||l.file_browser_callback_types;if(p){p=i.makeMap(p,/[, ]/)}if(!p||p[o.filetype]){q=l.file_picker_callback;if(q&&(!p||p[o.filetype])){k=function(){var r=m.fire("beforecall").meta;r=i.extend({filetype:o.filetype},r);q.call(n,function(s,t){m.value(s).fire("change",{meta:t})},m.value(),r)}}else{q=l.file_browser_callback;if(q&&(!p||p[o.filetype])){k=function(){q(m.getEl("inp").id,m.value(),o.filetype,window)}}}}if(k){o.icon="browse";o.onaction=k}m._super(o)}})});h("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(i){return i.extend({recalc:function(k){var j=k.layoutRect(),l=k.paddingBox;k.items().filter(":visible").each(function(m){m.layoutRect({x:l.left,y:l.top,w:j.innerW-l.right-l.left,h:j.innerH-l.top-l.bottom});if(m.recalc){m.recalc()}})}})});h("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(i){return i.extend({recalc:function(L){var X,S,y,V,t,B,R,w,m,Y,n,u;var T,k,o,q,s=[],r,E,P,I,J,W;var O,D,v,p,aa,M,x,N;var F,j,C,Q,H,U;var K,G;var z=Math.max,Z=Math.min;y=L.items().filter(":visible");V=L.layoutRect();t=L.paddingBox;B=L.settings;u=L.isRtl()?(B.direction||"row-reversed"):B.direction;R=B.align;w=L.isRtl()?(B.pack||"end"):B.pack;m=B.spacing||0;if(u=="row-reversed"||u=="column-reverse"){y=y.set(y.toArray().reverse());u=u.split("-")[0]}if(u=="column"){v="y";O="h";D="minH";p="maxH";M="innerH";aa="top";x="deltaH";N="contentH";H="left";C="w";F="x";j="innerW";Q="minW";U="right";K="deltaW";G="contentW"}else{v="x";O="w";D="minW";p="maxW";M="innerW";aa="left";x="deltaW";N="contentW";H="top";C="h";F="y";j="innerH";Q="minH";U="bottom";K="deltaH";G="contentH"}n=V[M]-t[aa]-t[aa];W=Y=0;for(X=0,S=y.length;X<S;X++){T=y[X];k=T.layoutRect();o=T.settings;q=o.flex;n-=(X<S-1?m:0);if(q>0){Y+=q;if(k[p]){s.push(T)}k.flex=q}n-=k[D];r=t[H]+k[Q]+t[U];if(r>W){W=r}}I={};if(n<0){I[D]=V[D]-n+V[x]}else{I[D]=V[M]-n+V[x]}I[Q]=W+V[K];I[N]=V[M]-n;I[G]=W;I.minW=Z(I.minW,V.maxW);I.minH=Z(I.minH,V.maxH);I.minW=z(I.minW,V.startMinWidth);I.minH=z(I.minH,V.startMinHeight);if(V.autoResize&&(I.minW!=V.minW||I.minH!=V.minH)){I.w=I.minW;I.h=I.minH;L.layoutRect(I);this.recalc(L);if(L._lastRect===null){var A=L.parent();if(A){A._lastRect=null;A.recalc()}}return}P=n/Y;for(X=0,S=s.length;X<S;X++){T=s[X];k=T.layoutRect();E=k[p];r=k[D]+k.flex*P;if(r>E){n-=(k[p]-k[D]);Y-=k.flex;k.flex=0;k.maxFlexSize=E}else{k.maxFlexSize=0}}P=n/Y;J=t[aa];I={};if(Y===0){if(w=="end"){J=n+t[aa]}else{if(w=="center"){J=Math.round((V[M]/2)-((V[M]-n)/2))+t[aa];if(J<0){J=t[aa]}}else{if(w=="justify"){J=t[aa];m=Math.floor(n/(y.length-1))}}}}I[F]=t[H];for(X=0,S=y.length;X<S;X++){T=y[X];k=T.layoutRect();r=k.maxFlexSize||k[D];if(R==="center"){I[F]=Math.round((V[j]/2)-(k[C]/2))}else{if(R==="stretch"){I[C]=z(k[Q]||0,V[j]-t[H]-t[U]);I[F]=t[H]}else{if(R==="end"){I[F]=V[j]-k[C]-t.top}}}if(k.flex>0){r+=k.flex*P}I[O]=r;I[v]=J;T.layoutRect(I);if(T.recalc){T.recalc()}J+=r+m}}})});h("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],function(i){return i.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(j){j.items().filter(":visible").each(function(k){if(k.recalc){k.recalc()}})},isNative:function(){return true}})});h("tinymce/ui/FormatControls",["tinymce/ui/Control","tinymce/ui/Widget","tinymce/ui/FloatPanel","tinymce/util/Tools","tinymce/dom/DOMUtils","tinymce/EditorManager","tinymce/Env"],function(j,p,m,k,o,r,n){var q=k.each;r.on("AddEditor",function(u){var t=u.editor;i(t);l(t);s(t)});j.translate=function(t){return r.translate(t)};p.tooltips=!n.iOS;function s(t){if(t.settings.ui_container){n.container=o.DOM.select(t.settings.ui_container)[0]}}function i(t){t.on("ScriptsLoaded",function(){if(t.rtl){j.rtl=true}})}function l(x){var z;function t(C,D){return function(){var E=this;x.on("nodeChange",function(H){var F=x.formatter;var G=null;q(H.parents,function(I){q(C,function(J){if(D){if(F.matchNode(I,D,{value:J.value})){G=J.value}}else{if(F.matchNode(I,J.value)){G=J.value}}if(G){return false}});if(G){return false}});E.value(G)})}}function y(C){C=C.replace(/;$/,"").split(";");var D=C.length;while(D--){C[D]=C[D].split("=")}return C}function v(){var G=0,F=[];var E=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];function C(H){var I=[];if(!H){return}q(H,function(L){var K={text:L.title,icon:L.icon};if(L.items){K.menu=C(L.items)}else{var J=L.format||"custom"+G++;if(!L.format){L.name=J;F.push(L)}K.format=J;K.cmd=L.cmd}I.push(K)});return I}function D(){var H;if(x.settings.style_formats_merge){if(x.settings.style_formats){H=C(E.concat(x.settings.style_formats))}else{H=C(E)}}else{H=C(x.settings.style_formats||E)}return H}x.on("init",function(){q(F,function(H){x.formatter.register(H.name,H)})});return{type:"menu",items:D(),onPostRender:function(H){x.fire("renderFormatsMenu",{control:H.control})},itemDefaults:{preview:true,textStyle:function(){if(this.settings.format){return x.formatter.getCssText(this.settings.format)}},onPostRender:function(){var H=this;H.parent().on("show",function(){var I,J;I=H.settings.format;if(I){H.disabled(!x.formatter.canApply(I));H.active(x.formatter.match(I))}J=H.settings.cmd;if(J){H.active(x.queryCommandState(J))}})},onclick:function(){if(this.settings.format){A(this.settings.format)}if(this.settings.cmd){x.execCommand(this.settings.cmd)}}}}}z=v();function u(C){return function(){var D=this;if(x.formatter){x.formatter.formatChanged(C,function(E){D.active(E)})}else{x.on("init",function(){x.formatter.formatChanged(C,function(E){D.active(E)})})}}}q({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(D,C){x.addButton(C,{tooltip:D,onPostRender:u(C),onclick:function(){A(C)}})});q({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(D,C){x.addButton(C,{tooltip:D[0],cmd:D[1]})});q({blockquote:["Blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(D,C){x.addButton(C,{tooltip:D[0],cmd:D[1],onPostRender:u(C)})});function w(C){return function(){var D=this;C=C=="redo"?"hasRedo":"hasUndo";function E(){return x.undoManager?x.undoManager[C]():false}D.disabled(!E());x.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){D.disabled(x.readonly||!E())})}}function B(){var C=this;x.on("VisualAid",function(D){C.active(D.hasVisual)});C.active(x.hasVisual)}x.addButton("undo",{tooltip:"Undo",onPostRender:w("undo"),cmd:"undo"});x.addButton("redo",{tooltip:"Redo",onPostRender:w("redo"),cmd:"redo"});x.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"});x.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:w("undo"),cmd:"undo"});x.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:w("redo"),cmd:"redo"});x.addMenuItem("visualaid",{text:"Visual aids",selectable:true,onPostRender:B,cmd:"mceToggleVisualAid"});x.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"});q({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(D,C){x.addMenuItem(C,{text:D[0],icon:C,shortcut:D[2],cmd:D[1]})});x.on("mousedown",function(){m.hideAll()});function A(C){if(C.control){C=C.control.value()}if(C){x.execCommand("mceToggleFormat",false,C)}}x.addButton("styleselect",{type:"menubutton",text:"Formats",menu:z});x.addButton("formatselect",function(){var C=[],D=y(x.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");q(D,function(E){C.push({text:E[0],value:E[1],textStyle:function(){return x.formatter.getCssText(E[1])}})});return{type:"listbox",text:D[0][0],values:C,fixedWidth:true,onselect:A,onPostRender:t(C)}});x.addButton("fontselect",function(){var D="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats";var C=[],E=y(x.settings.font_formats||D);q(E,function(F){C.push({text:{raw:F[0]},value:F[1],textStyle:F[1].indexOf("dings")==-1?"font-family:"+F[1]:""})});return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:C,fixedWidth:true,onPostRender:t(C,"fontname"),onselect:function(F){if(F.control.settings.value){x.execCommand("FontName",false,F.control.settings.value)}}}});x.addButton("fontsizeselect",function(){var C=[],E="8pt 10pt 12pt 14pt 18pt 24pt 36pt";var D=x.settings.fontsize_formats||E;q(D.split(" "),function(G){var I=G,H=G;var F=G.split("=");if(F.length>1){I=F[0];H=F[1]}C.push({text:I,value:H})});return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:C,fixedWidth:true,onPostRender:t(C,"fontsize"),onclick:function(F){if(F.control.settings.value){x.execCommand("FontSize",false,F.control.settings.value)}}}});x.addMenuItem("formats",{text:"Formats",menu:z})}});h("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],function(i){return i.extend({recalc:function(F){var T,S,v,w,P,k,o,D,n,O,K,J,H,G,q,s,N,t,p,m,Q,A,z,M=[],j=[],B,U,r,u,I,V;T=F.settings;w=F.items().filter(":visible");P=F.layoutRect();v=T.columns||Math.ceil(Math.sqrt(w.length));S=Math.ceil(w.length/v);t=T.spacingH||T.spacing||0;p=T.spacingV||T.spacing||0;m=T.alignH||T.align;Q=T.alignV||T.align;s=F.paddingBox;I="reverseRows" in T?T.reverseRows:F.isRtl();if(m&&typeof m=="string"){m=[m]}if(Q&&typeof Q=="string"){Q=[Q]}for(K=0;K<v;K++){M.push(0)}for(J=0;J<S;J++){j.push(0)}for(J=0;J<S;J++){for(K=0;K<v;K++){O=w[J*v+K];if(!O){break}n=O.layoutRect();B=n.minW;U=n.minH;M[K]=B>M[K]?B:M[K];j[J]=U>j[J]?U:j[J]}}r=P.innerW-s.left-s.right;for(A=0,K=0;K<v;K++){A+=M[K]+(K>0?t:0);r-=(K>0?t:0)+M[K]}u=P.innerH-s.top-s.bottom;for(z=0,J=0;J<S;J++){z+=j[J]+(J>0?p:0);u-=(J>0?p:0)+j[J]}A+=s.left+s.right;z+=s.top+s.bottom;D={};D.minW=A+(P.w-P.innerW);D.minH=z+(P.h-P.innerH);D.contentW=D.minW-P.deltaW;D.contentH=D.minH-P.deltaH;D.minW=Math.min(D.minW,P.maxW);D.minH=Math.min(D.minH,P.maxH);D.minW=Math.max(D.minW,P.startMinWidth);D.minH=Math.max(D.minH,P.startMinHeight);if(P.autoResize&&(D.minW!=P.minW||D.minH!=P.minH)){D.w=D.minW;D.h=D.minH;F.layoutRect(D);this.recalc(F);if(F._lastRect===null){var C=F.parent();if(C){C._lastRect=null;C.recalc()}}return}if(P.autoResize){D=F.layoutRect(D);D.contentW=D.minW-P.deltaW;D.contentH=D.minH-P.deltaH}var E;if(T.packV=="start"){E=0}else{E=u>0?Math.floor(u/S):0}var R=0;var l=T.flexWidths;if(l){for(K=0;K<l.length;K++){R+=l[K]}}else{R=v}var L=r/R;for(K=0;K<v;K++){M[K]+=l?l[K]*L:L}G=s.top;for(J=0;J<S;J++){H=s.left;o=j[J]+E;for(K=0;K<v;K++){if(I){V=J*v+v-1-K}else{V=J*v+K}O=w[V];if(!O){break}q=O.settings;n=O.layoutRect();k=Math.max(M[K],n.startMinWidth);n.x=H;n.y=G;N=q.alignH||(m?(m[K]||m[0]):null);if(N=="center"){n.x=H+(k/2)-(n.w/2)}else{if(N=="right"){n.x=H+k-n.w}else{if(N=="stretch"){n.w=k}}}N=q.alignV||(Q?(Q[K]||Q[0]):null);if(N=="center"){n.y=G+(o/2)-(n.h/2)}else{if(N=="bottom"){n.y=G+o-n.h}else{if(N=="stretch"){n.h=o}}}O.layoutRect(n);H+=k+t;if(O.recalc){O.recalc()}}G+=o+p}}})});h("tinymce/ui/Iframe",["tinymce/ui/Widget","tinymce/util/Delay"],function(i,j){return i.extend({renderHtml:function(){var k=this;k.classes.add("iframe");k.canFocus=false;return('<iframe id="'+k._id+'" class="'+k.classes+'" tabindex="-1" src="'+(k.settings.url||"javascript:''")+'" frameborder="0"></iframe>')},src:function(k){this.getEl().src=k},html:function(m,n){var l=this,k=this.getEl().contentWindow.document.body;if(!k){j.setTimeout(function(){l.html(m)})}else{k.innerHTML=m;if(n){n()}}return this}})});h("tinymce/ui/InfoBox",["tinymce/ui/Widget"],function(i){return i.extend({init:function(k){var j=this;j._super(k);j.classes.add("widget").add("infobox");j.canFocus=false},severity:function(j){this.classes.remove("error");this.classes.remove("warning");this.classes.remove("success");this.classes.add(j)},help:function(j){this.state.set("help",j)},renderHtml:function(){var j=this,k=j.classPrefix;return('<div id="'+j._id+'" class="'+j.classes+'"><div id="'+j._id+'-body">'+j.encode(j.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+k+"ico "+k+'i-help"></i></button></div></div>')},bindStates:function(){var j=this;j.state.on("change:text",function(k){j.getEl("body").firstChild.data=j.encode(k.value);if(j.state.get("rendered")){j.updateLayoutRect()}});j.state.on("change:help",function(k){j.classes.toggle("has-help",k.value);if(j.state.get("rendered")){j.updateLayoutRect()}});return j._super()}})});h("tinymce/ui/Label",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(j,i){return j.extend({init:function(l){var k=this;k._super(l);k.classes.add("widget").add("label");k.canFocus=false;if(l.multiline){k.classes.add("autoscroll")}if(l.strong){k.classes.add("strong")}},initLayoutRect:function(){var k=this,m=k._super();if(k.settings.multiline){var l=i.getSize(k.getEl());if(l.width>m.maxW){m.minW=m.maxW;k.classes.add("multiline")}k.getEl().style.width=m.minW+"px";m.startMinH=m.h=m.minH=Math.min(m.maxH,i.getSize(k.getEl()).height)}return m},repaint:function(){var k=this;if(!k.settings.multiline){k.getEl().style.lineHeight=k.layoutRect().h+"px"}return k._super()},severity:function(k){this.classes.remove("error");this.classes.remove("warning");this.classes.remove("success");this.classes.add(k)},renderHtml:function(){var l=this,n,m,k=l.settings.forId;if(!k&&(m=l.settings.forName)){n=l.getRoot().find("#"+m)[0];if(n){k=n._id}}if(k){return('<label id="'+l._id+'" class="'+l.classes+'"'+(k?' for="'+k+'"':"")+">"+l.encode(l.state.get("text"))+"</label>")}return('<span id="'+l._id+'" class="'+l.classes+'">'+l.encode(l.state.get("text"))+"</span>")},bindStates:function(){var k=this;k.state.on("change:text",function(l){k.innerHtml(k.encode(l.value));if(k.state.get("rendered")){k.updateLayoutRect()}});return k._super()}})});h("tinymce/ui/Toolbar",["tinymce/ui/Container"],function(i){return i.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(k){var j=this;j._super(k);j.classes.add("toolbar")},postRender:function(){var j=this;j.items().each(function(k){k.classes.add("toolbar-item")});return j._super()}})});h("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(i){return i.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:true,defaults:{type:"menubutton"}}})});h("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(l,j,k){function i(o,n){while(o){if(n===o){return true}o=o.parentNode}return false}var m=l.extend({init:function(o){var n=this;n._renderOpen=true;n._super(o);o=n.settings;n.classes.add("menubtn");if(o.fixedWidth){n.classes.add("fixed-width")}n.aria("haspopup",true);n.state.set("menu",o.menu||n.render())},showMenu:function(){var n=this,o;if(n.menu&&n.menu.visible()){return n.hideMenu()}if(!n.menu){o=n.state.get("menu")||[];if(o.length){o={type:"menu",items:o}}else{o.type=o.type||"menu"}if(!o.renderTo){n.menu=j.create(o).parent(n).renderTo()}else{n.menu=o.parent(n).show().renderTo()}n.fire("createmenu");n.menu.reflow();n.menu.on("cancel",function(p){if(p.control.parent()===n.menu){p.stopPropagation();n.focus();n.hideMenu()}});n.menu.on("select",function(){n.focus()});n.menu.on("show hide",function(p){if(p.control==n.menu){n.activeMenu(p.type=="show")}n.aria("expanded",p.type=="show")}).fire("show")}n.menu.show();n.menu.layoutRect({w:n.layoutRect().w});n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},hideMenu:function(){var n=this;if(n.menu){n.menu.items().each(function(o){if(o.hideMenu){o.hideMenu()}});n.menu.hide()}},activeMenu:function(n){this.classes.toggle("active",n)},renderHtml:function(){var n=this,t=n._id,q=n.classPrefix;var o=n.settings.icon,r,s=n.state.get("text"),p="";r=n.settings.image;if(r){o="none";if(typeof r!="string"){r=window.getSelection?r[0]:r[1]}r=" style=\"background-image: url('"+r+"')\""}else{r=""}if(s){n.classes.add("btn-has-text");p='<span class="'+q+'txt">'+n.encode(s)+"</span>"}o=n.settings.icon?q+"ico "+q+"i-"+o:"";n.aria("role",n.parent() instanceof k?"menuitem":"button");return('<div id="'+t+'" class="'+n.classes+'" tabindex="-1" aria-labelledby="'+t+'"><button id="'+t+'-open" role="presentation" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+r+"></i>":"")+p+' <i class="'+q+'caret"></i></button></div>')},postRender:function(){var n=this;n.on("click",function(o){if(o.control===n&&i(o.target,n.getEl())){n.showMenu();if(o.aria){n.menu.items()[0].focus()}}});n.on("mouseenter",function(r){var o=r.control,q=n.parent(),p;if(o&&q&&o instanceof m&&o.parent()==q){q.items().filter("MenuButton").each(function(s){if(s.hideMenu&&s!=o){if(s.menu&&s.menu.visible()){p=true}s.hideMenu()}});if(p){o.focus();o.showMenu()}}});return n._super()},bindStates:function(){var n=this;n.state.on("change:menu",function(){if(n.menu){n.menu.remove()}n.menu=null});return n._super()},remove:function(){this._super();if(this.menu){this.menu.remove()}}});return m});h("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/Env","tinymce/util/Delay"],function(k,i,j,l){return k.extend({Defaults:{border:0,role:"menuitem"},init:function(n){var m=this,o;m._super(n);n=m.settings;m.classes.add("menu-item");if(n.menu){m.classes.add("menu-item-expand")}if(n.preview){m.classes.add("menu-item-preview")}o=m.state.get("text");if(o==="-"||o==="|"){m.classes.add("menu-item-sep");m.aria("role","separator");m.state.set("text","-")}if(n.selectable){m.aria("role","menuitemcheckbox");m.classes.add("menu-item-checkbox");n.icon="selected"}if(!n.preview&&!n.selectable){m.classes.add("menu-item-normal")}m.on("mousedown",function(p){p.preventDefault()});if(n.menu&&!n.ariaHideMenu){m.aria("haspopup",true)}},hasMenus:function(){return !!this.settings.menu},showMenu:function(){var n=this,p=n.settings,q,o=n.parent();o.items().each(function(r){if(r!==n){r.hideMenu()}});if(p.menu){q=n.menu;if(!q){q=p.menu;if(q.length){q={type:"menu",items:q}}else{q.type=q.type||"menu"}if(o.settings.itemDefaults){q.itemDefaults=o.settings.itemDefaults}q=n.menu=i.create(q).parent(n).renderTo();q.reflow();q.on("cancel",function(r){r.stopPropagation();n.focus();q.hide()});q.on("show hide",function(r){r.control.items().each(function(s){s.active(s.settings.selected)})}).fire("show");q.on("hide",function(r){if(r.control===q){n.classes.remove("selected")}});q.submenu=true}else{q.show()}q._parentMenu=o;q.classes.add("menu-sub");var m=q.testMoveRel(n.getEl(),n.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);q.moveRel(n.getEl(),m);q.rel=m;m="menu-sub-"+m;q.classes.remove(q._lastRel).add(m);q._lastRel=m;n.classes.add("selected");n.aria("expanded",true)}},hideMenu:function(){var m=this;if(m.menu){m.menu.items().each(function(n){if(n.hideMenu){n.hideMenu()}});m.menu.hide();m.aria("expanded",false)}return m},renderHtml:function(){var u=this,m=u._id,p=u.settings,r=u.classPrefix,t=u.encode(u.state.get("text"));var s=u.settings.icon,o="",q=p.shortcut;function n(v){var x,y,w={};if(j.mac){w={alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}}else{w={meta:"Ctrl"}}v=v.split("+");for(x=0;x<v.length;x++){y=w[v[x].toLowerCase()];if(y){v[x]=y}}return v.join("+")}if(s){u.parent().classes.add("menu-has-icons")}if(p.image){o=" style=\"background-image: url('"+p.image+"')\""}if(q){q=n(q)}s=r+"ico "+r+"i-"+(u.settings.icon||"none");return('<div id="'+m+'" class="'+u.classes+'" tabindex="-1">'+(t!=="-"?'<i class="'+s+'"'+o+"></i>\u00a0":"")+(t!=="-"?'<span id="'+m+'-text" class="'+r+'text">'+t+"</span>":"")+(q?'<div id="'+m+'-shortcut" class="'+r+'menu-shortcut">'+q+"</div>":"")+(p.menu?'<div class="'+r+'caret"></div>':"")+"</div>")},postRender:function(){var n=this,o=n.settings;var p=o.textStyle;if(typeof p=="function"){p=p.call(this)}if(p){var m=n.getEl("text");if(m){m.setAttribute("style",p)}}n.on("mouseenter click",function(q){if(q.control===n){if(!o.menu&&q.type==="click"){n.fire("select");l.requestAnimationFrame(function(){n.parent().hideAll()})}else{n.showMenu();if(q.aria){n.menu.focus(true)}}}});n._super();return n},hover:function(){var m=this;m.parent().items().each(function(n){n.classes.remove("selected")});m.classes.toggle("selected",true);return m},active:function(m){if(typeof m!="undefined"){this.aria("checked",m)}return this._super(m)},remove:function(){this._super();if(this.menu){this.menu.remove()}}})});h("tinymce/ui/Throbber",["tinymce/dom/DomQuery","tinymce/ui/Control","tinymce/util/Delay"],function(j,i,k){return function(q,o){var m=this,n,l=i.classPrefix,p;m.show=function(s,t){function r(){if(n){j(q).append('<div class="'+l+"throbber"+(o?" "+l+"throbber-inline":"")+'"></div>');if(t){t()}}}m.hide();n=true;if(s){p=k.setTimeout(r,s)}else{r()}return m};m.hide=function(){var r=q.lastChild;k.clearTimeout(p);if(r&&r.className.indexOf("throbber")!=-1){r.parentNode.removeChild(r)}n=false;return m}}});h("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/MenuItem","tinymce/ui/Throbber","tinymce/util/Tools"],function(l,j,k,i){return l.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:true},init:function(p){var n=this;p.autohide=true;p.constrainToViewport=true;if(typeof p.items==="function"){p.itemsFactory=p.items;p.items=[]}if(p.itemDefaults){var m=p.items,o=m.length;while(o--){m[o]=i.extend({},p.itemDefaults,m[o])}}n._super(p);n.classes.add("menu")},repaint:function(){this.classes.toggle("menu-align",true);this._super();this.getEl().style.height="";this.getEl("body").style.height="";return this},cancel:function(){var m=this;m.hideAll();m.fire("select")},load:function(){var n=this,p,m;function o(){if(n.throbber){n.throbber.hide();n.throbber=null}}m=n.settings.itemsFactory;if(!m){return}if(!n.throbber){n.throbber=new k(n.getEl("body"),true);if(n.items().length===0){n.throbber.show();n.fire("loading")}else{n.throbber.show(100,function(){n.items().remove();n.fire("loading")})}n.on("hide close",o)}n.requestTime=p=new Date().getTime();n.settings.itemsFactory(function(q){if(q.length===0){n.hide();return}if(n.requestTime!==p){return}n.getEl().style.width="";n.getEl("body").style.width="";o();n.items().remove();n.getEl("body").innerHTML="";n.add(q);n.renderNew();n.fire("loaded")})},hideAll:function(){var m=this;this.find("menuitem").exec("hideMenu");return m._super()},preRender:function(){var m=this;m.items().each(function(o){var n=o.settings;if(n.icon||n.image||n.selectable){m._hasIcons=true;return false}});if(m.settings.itemsFactory){m.on("postrender",function(){if(m.settings.itemsFactory){m.load()}})}return m._super()}})});h("tinymce/ui/ListBox",["tinymce/ui/MenuButton","tinymce/ui/Menu"],function(j,i){return j.extend({init:function(o){var m=this,l,n,q,k;function p(r){for(var s=0;s<r.length;s++){n=r[s].selected||o.value===r[s].value;if(n){q=q||r[s].text;m.state.set("value",r[s].value);return true}if(r[s].menu){if(p(r[s].menu)){return true}}}}m._super(o);o=m.settings;m._values=l=o.values;if(l){if(typeof o.value!="undefined"){p(l)}if(!n&&l.length>0){q=l[0].text;m.state.set("value",l[0].value)}m.state.set("menu",l)}m.state.set("text",o.text||q);m.classes.add("listbox");m.on("select",function(s){var r=s.control;if(k){s.lastControl=k}if(o.multiple){r.active(!r.active())}else{m.value(s.control.value())}k=r})},bindStates:function(){var k=this;function m(o,n){if(o instanceof i){o.items().each(function(p){if(!p.hasMenus()){p.active(p.value()===n)}})}}function l(n,q){var p;if(!n){return}for(var o=0;o<n.length;o++){if(n[o].value===q){return n[o]}if(n[o].menu){p=l(n[o].menu,q);if(p){return p}}}}k.on("show",function(n){m(n.control,k.value())});k.state.on("change:value",function(o){var n=l(k.state.get("menu"),o.value);if(n){k.text(n.text)}else{k.text(k.settings.text)}});return k._super()}})});h("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(i){return i.extend({Defaults:{classes:"radio",role:"radio"}})});h("tinymce/ui/ResizeHandle",["tinymce/ui/Widget","tinymce/ui/DragHelper"],function(j,i){return j.extend({renderHtml:function(){var k=this,l=k.classPrefix;k.classes.add("resizehandle");if(k.settings.direction=="both"){k.classes.add("resizehandle-both")}k.canFocus=false;return('<div id="'+k._id+'" class="'+k.classes+'"><i class="'+l+"ico "+l+'i-resize"></i></div>')},postRender:function(){var k=this;k._super();k.resizeDragHelper=new i(this._id,{start:function(){k.fire("ResizeStart")},drag:function(l){if(k.settings.direction!="both"){l.deltaX=0}k.fire("Resize",l)},stop:function(){k.fire("ResizeEnd")}})},remove:function(){if(this.resizeDragHelper){this.resizeDragHelper.destroy()}return this._super()}})});h("tinymce/ui/SelectBox",["tinymce/ui/Widget"],function(j){function i(k){var m="";if(k){for(var l=0;l<k.length;l++){m+='<option value="'+k[l]+'">'+k[l]+"</option>"}}return m}return j.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(l){var k=this;k._super(l);if(k.settings.size){k.size=k.settings.size}if(k.settings.options){k._options=k.settings.options}k.on("keydown",function(n){var m;if(n.keyCode==13){n.preventDefault();k.parents().reverse().each(function(o){if(o.toJSON){m=o;return false}});k.fire("submit",{data:m.toJSON()})}})},options:function(k){if(!arguments.length){return this.state.get("options")}this.state.set("options",k);return this},renderHtml:function(){var k=this,l,m="";l=i(k._options);if(k.size){m=' size = "'+k.size+'"'}return('<select id="'+k._id+'" class="'+k.classes+'"'+m+">"+l+"</select>")},bindStates:function(){var k=this;k.state.on("change:options",function(l){k.getEl().innerHTML=i(l.value)});return k._super()}})});h("tinymce/ui/Slider",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils"],function(m,l,j){function n(p,o,q){if(p<o){p=o}if(p>q){p=q}return p}function k(p,o,q){p.setAttribute("aria-"+o,q)}function i(v,u){var s,r,p,q,o,t;if(v.settings.orientation=="v"){q="top";p="height";r="h"}else{q="left";p="width";r="w"}t=v.getEl("handle");s=(v.layoutRect()[r]||100)-j.getSize(t)[p];o=(s*((u-v._minValue)/(v._maxValue-v._minValue)))+"px";t.style[q]=o;t.style.height=v.layoutRect().h+"px";k(t,"valuenow",u);k(t,"valuetext",""+v.settings.previewFilter(u));k(t,"valuemin",v._minValue);k(t,"valuemax",v._maxValue)}return m.extend({init:function(p){var o=this;if(!p.previewFilter){p.previewFilter=function(q){return Math.round(q*100)/100}}o._super(p);o.classes.add("slider");if(p.orientation=="v"){o.classes.add("vertical")}o._minValue=p.minValue||0;o._maxValue=p.maxValue||100;o._initValue=o.state.get("value")},renderHtml:function(){var o=this,q=o._id,p=o.classPrefix;return('<div id="'+q+'" class="'+o.classes+'"><div id="'+q+'-handle" class="'+p+'slider-handle" role="slider" tabindex="-1"></div></div>')},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var y=this,w,u,o,v,t,p;function s(A,z,B){return(B+A)/(z-A)}function x(A,z,B){return(B*(z-A))-A}function r(A,B){function z(D){var C;C=y.value();C=x(A,B,s(A,B,C)+(D*0.05));C=n(C,A,B);y.value(C);y.fire("dragstart",{value:C});y.fire("drag",{value:C});y.fire("dragend",{value:C})}y.on("keydown",function(C){switch(C.keyCode){case 37:case 38:z(-1);break;case 39:case 40:z(1);break}})}function q(E,F,D){var z,G,B,A,C;y._dragHelper=new l(y._id,{handle:y._id+"-handle",start:function(H){z=H[o];G=parseInt(y.getEl("handle").style[v],10);B=(y.layoutRect()[p]||100)-j.getSize(D)[t];y.fire("dragstart",{value:C})},drag:function(H){var I=H[o]-z;A=n(G+I,0,B);D.style[v]=A+"px";C=E+(A/B)*(F-E);y.value(C);y.tooltip().text(""+y.settings.previewFilter(C)).show().moveRel(D,"bc tc");y.fire("drag",{value:C})},stop:function(){y.tooltip().hide();y.fire("dragend",{value:C})}})}w=y._minValue;u=y._maxValue;if(y.settings.orientation=="v"){o="screenY";v="top";t="height";p="h"}else{o="screenX";v="left";t="width";p="w"}y._super();r(w,u,y.getEl("handle"));q(w,u,y.getEl("handle"))},repaint:function(){this._super();i(this,this.value())},bindStates:function(){var o=this;o.state.on("change:value",function(p){i(o,p.value)});return o._super()}})});h("tinymce/ui/Spacer",["tinymce/ui/Widget"],function(i){return i.extend({renderHtml:function(){var j=this;j.classes.add("spacer");j.canFocus=false;return'<div id="'+j._id+'" class="'+j.classes+'"></div>'}})});h("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(k,i,j){return k.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var l=this,p=l.getEl(),n=l.layoutRect(),m,o;l._super();m=p.firstChild;o=p.lastChild;j(m).css({width:n.w-i.getSize(o).width,height:n.h-2});j(o).css({height:n.h-2});return l},activeMenu:function(m){var l=this;j(l.getEl().lastChild).toggleClass(l.classPrefix+"active",m)},renderHtml:function(){var l=this,r=l._id,o=l.classPrefix,p;var m=l.state.get("icon"),q=l.state.get("text"),n="";p=l.settings.image;if(p){m="none";if(typeof p!="string"){p=window.getSelection?p[0]:p[1]}p=" style=\"background-image: url('"+p+"')\""}else{p=""}m=l.settings.icon?o+"ico "+o+"i-"+m:"";if(q){l.classes.add("btn-has-text");n='<span class="'+o+'txt">'+l.encode(q)+"</span>"}return('<div id="'+r+'" class="'+l.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(m?'<i class="'+m+'"'+p+"></i>":"")+n+'</button><button type="button" class="'+o+'open" hidefocus="1" tabindex="-1">'+(l._menuBtnText?(m?"\u00a0":"")+l._menuBtnText:"")+' <i class="'+o+'caret"></i></button></div>')},postRender:function(){var l=this,m=l.settings.onclick;l.on("click",function(o){var n=o.target;if(o.control==this){while(n){if((o.aria&&o.aria.key!="down")||(n.nodeName=="BUTTON"&&n.className.indexOf("open")==-1)){o.stopImmediatePropagation();if(m){m.call(this,o)}return}n=n.parentNode}}});delete l.settings.onclick;return l._super()}})});h("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(i){return i.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return true}})});h("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/dom/DomQuery","tinymce/ui/DomUtils"],function(k,j,i){return k.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(l){var m;if(this.activeTabId){m=this.getEl(this.activeTabId);j(m).removeClass(this.classPrefix+"active");m.setAttribute("aria-selected","false")}this.activeTabId="t"+l;m=this.getEl("t"+l);m.setAttribute("aria-selected","true");j(m).addClass(this.classPrefix+"active");this.items()[l].show().fire("showtab");this.reflow();this.items().each(function(o,n){if(l!=n){o.hide()}})},renderHtml:function(){var m=this,n=m._layout,l="",o=m.classPrefix;m.preRender();n.preRender(m);m.items().each(function(q,p){var r=m._id+"-t"+p;q.aria("role","tabpanel");q.aria("labelledby",r);l+=('<div id="'+r+'" class="'+o+'tab" unselectable="on" role="tab" aria-controls="'+q._id+'" aria-selected="false" tabIndex="-1">'+m.encode(q.settings.title)+"</div>")});return('<div id="'+m._id+'" class="'+m.classes+'" hidefocus="1" tabindex="-1"><div id="'+m._id+'-head" class="'+o+'tabs" role="tablist">'+l+'</div><div id="'+m._id+'-body" class="'+m.bodyClasses+'">'+n.renderHtml(m)+"</div></div>")},postRender:function(){var l=this;l._super();l.settings.activeTab=l.settings.activeTab||0;l.activateTab(l.settings.activeTab);this.on("click",function(o){var n=o.target.parentNode;if(o.target.parentNode.id==l._id+"-head"){var m=n.childNodes.length;while(m--){if(n.childNodes[m]==o.target){l.activateTab(m)}}}})},initLayoutRect:function(){var m=this,p,l,o;l=i.getSize(m.getEl("head")).width;l=l<0?0:l;o=0;m.items().each(function(q){l=Math.max(l,q.layoutRect().minW);o=Math.max(o,q.layoutRect().minH)});m.items().each(function(q){q.settings.x=0;q.settings.y=0;q.settings.w=l;q.settings.h=o;q.layoutRect({x:0,y:0,w:l,h:o})});var n=i.getSize(m.getEl("head")).height;m.settings.minWidth=l;m.settings.minHeight=o+n;p=m._super();p.deltaH+=n;p.innerH=p.h-p.deltaH;return p}})});h("tinymce/ui/TextBox",["tinymce/ui/Widget","tinymce/util/Tools","tinymce/ui/DomUtils"],function(k,j,i){return k.extend({init:function(m){var l=this;l._super(m);l.classes.add("textbox");if(m.multiline){l.classes.add("multiline")}else{l.on("keydown",function(o){var n;if(o.keyCode==13){o.preventDefault();l.parents().reverse().each(function(p){if(p.toJSON){n=p;return false}});l.fire("submit",{data:n.toJSON()})}});l.on("keyup",function(n){l.state.set("value",n.target.value)})}},repaint:function(){var m=this,o,p,s,n,q=0,l;o=m.getEl().style;p=m._layoutRect;l=m._lastRepaintRect||{};var r=document;if(!m.settings.multiline&&r.all&&(!r.documentMode||r.documentMode<=8)){o.lineHeight=(p.h-q)+"px"}s=m.borderBox;n=s.left+s.right+8;q=s.top+s.bottom+(m.settings.multiline?8:0);if(p.x!==l.x){o.left=p.x+"px";l.x=p.x}if(p.y!==l.y){o.top=p.y+"px";l.y=p.y}if(p.w!==l.w){o.width=(p.w-n)+"px";l.w=p.w}if(p.h!==l.h){o.height=(p.h-q)+"px";l.h=p.h}m._lastRepaintRect=l;m.fire("repaint",{},false);return m},renderHtml:function(){var l=this,n=l.settings,m,o;m={id:l._id,hidefocus:"1"};j.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(p){m[p]=n[p]});if(l.disabled()){m.disabled="disabled"}if(n.subtype){m.type=n.subtype}o=i.create(n.multiline?"textarea":"input",m);o.value=l.state.get("value");o.className=l.classes;return o.outerHTML},value:function(l){if(arguments.length){this.state.set("value",l);return this}if(this.state.get("rendered")){this.state.set("value",this.getEl().value)}return this.state.get("value")},postRender:function(){var l=this;l.getEl().value=l.state.get("value");l._super();l.$el.on("change",function(m){l.state.set("value",m.target.value);l.fire("change",m)})},bindStates:function(){var l=this;l.state.on("change:value",function(m){if(l.getEl().value!=m.value){l.getEl().value=m.value}});l.state.on("change:disabled",function(m){l.getEl().disabled=m.value});return l._super()},remove:function(){this.$el.off();this._super()}})});h("tinymce/Register",[],function(){var i=this||window;var j=function(){return i.tinymce};if(typeof i.define==="function"){if(!i.define.amd){i.define("ephox/tinymce",[],j)}}return{}});a(["tinymce/geom/Rect","tinymce/util/Promise","tinymce/util/Delay","tinymce/Env","tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/TreeWalker","tinymce/html/Entities","tinymce/dom/DOMUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/dom/RangeUtils","tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/html/DomParser","tinymce/html/Writer","tinymce/html/Serializer","tinymce/dom/Serializer","tinymce/util/VK","tinymce/dom/ControlSelection","tinymce/dom/BookmarkManager","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EditorCommands","tinymce/util/URI","tinymce/util/Class","tinymce/util/EventDispatcher","tinymce/util/Observable","tinymce/ui/Selector","tinymce/ui/Collection","tinymce/ui/ReflowQueue","tinymce/ui/Control","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/ui/Container","tinymce/ui/DragHelper","tinymce/ui/Scrollable","tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/FloatPanel","tinymce/ui/Window","tinymce/ui/MessageBox","tinymce/WindowManager","tinymce/ui/Tooltip","tinymce/ui/Widget","tinymce/ui/Progress","tinymce/ui/Notification","tinymce/NotificationManager","tinymce/EditorObservable","tinymce/Shortcuts","tinymce/Editor","tinymce/util/I18n","tinymce/FocusManager","tinymce/EditorManager","tinymce/util/XHR","tinymce/util/JSON","tinymce/util/JSONRequest","tinymce/util/JSONP","tinymce/util/LocalStorage","tinymce/Compat","tinymce/ui/Layout","tinymce/ui/AbsoluteLayout","tinymce/ui/Button","tinymce/ui/ButtonGroup","tinymce/ui/Checkbox","tinymce/ui/ComboBox","tinymce/ui/ColorBox","tinymce/ui/PanelButton","tinymce/ui/ColorButton","tinymce/util/Color","tinymce/ui/ColorPicker","tinymce/ui/Path","tinymce/ui/ElementPath","tinymce/ui/FormItem","tinymce/ui/Form","tinymce/ui/FieldSet","tinymce/ui/FilePicker","tinymce/ui/FitLayout","tinymce/ui/FlexLayout","tinymce/ui/FlowLayout","tinymce/ui/FormatControls","tinymce/ui/GridLayout","tinymce/ui/Iframe","tinymce/ui/InfoBox","tinymce/ui/Label","tinymce/ui/Toolbar","tinymce/ui/MenuBar","tinymce/ui/MenuButton","tinymce/ui/MenuItem","tinymce/ui/Throbber","tinymce/ui/Menu","tinymce/ui/ListBox","tinymce/ui/Radio","tinymce/ui/ResizeHandle","tinymce/ui/SelectBox","tinymce/ui/Slider","tinymce/ui/Spacer","tinymce/ui/SplitButton","tinymce/ui/StackLayout","tinymce/ui/TabPanel","tinymce/ui/TextBox"])})(this);