define("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/Env"],function(l,i,f,g){var I=document,n=Array.prototype.push,x=Array.prototype.slice;var u=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/;var H=l.Event,h;var q=f.makeMap("children,contents,next,prev");function c(J){return typeof J!=="undefined"}function r(J){return typeof J==="string"}function C(J){return J&&J==J.window}function w(L,K){var N,M,J;K=K||I;J=K.createElement("div");N=K.createDocumentFragment();J.innerHTML=L;while((M=J.firstChild)){N.appendChild(M)}return N}function t(J,M,N,K){var L;if(r(M)){M=w(M,s(J[0]))}else{if(M.length&&!M.nodeType){M=j.makeArray(M);if(K){for(L=M.length-1;L>=0;L--){t(J,M[L],N,K)}}else{for(L=0;L<M.length;L++){t(J,M[L],N,K)}}return J}}if(M.nodeType){L=J.length;while(L--){N.call(J[L],M)}}return J}function d(K,J){return K&&J&&(" "+K.className+" ").indexOf(" "+J+" ")!==-1}function p(M,N,K){var J,L;N=j(N)[0];M.each(function(){var O=this;if(!K||J!=O.parentNode){J=O.parentNode;L=N.cloneNode(false);O.parentNode.insertBefore(L,O);L.appendChild(O)}else{L.appendChild(O)}});return M}var b=f.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," ");var z=f.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," ");var D={"for":"htmlFor","class":"className",readonly:"readOnly"};var e={"float":"cssFloat"};var F={},G={};function j(J,K){return new j.fn.init(J,K)}function A(K,L){var J;if(L.indexOf){return L.indexOf(K)}J=L.length;while(J--){if(L[J]===K){return J}}return -1}var E=/^\s*|\s*$/g;function y(J){return(J===null||J===h)?"":(""+J).replace(E,"")}function k(O,P){var M,K,J,L,N;if(O){M=O.length;if(M===L){for(K in O){if(O.hasOwnProperty(K)){N=O[K];if(P.call(N,K,N)===false){break}}}}else{for(J=0;J<M;J++){N=O[J];if(P.call(N,J,N)===false){break}}}}return O}function o(L,K){var J=[];k(L,function(M,N){if(K(N,M)){J.push(N)}});return J}function s(J){if(!J){return I}if(J.nodeType==9){return J}return J.ownerDocument}j.fn=j.prototype={constructor:j,selector:"",context:null,length:0,init:function(J,M){var K=this,L,N;if(!J){return K}if(J.nodeType){K.context=K[0]=J;K.length=1;return K}if(M&&M.nodeType){K.context=M}else{if(M){return j(J).attr(M)}K.context=M=document}if(r(J)){K.selector=J;if(J.charAt(0)==="<"&&J.charAt(J.length-1)===">"&&J.length>=3){L=[null,J,null]}else{L=u.exec(J)}if(L){if(L[1]){N=w(J,s(M)).firstChild;while(N){n.call(K,N);N=N.nextSibling}}else{N=s(M).getElementById(L[2]);if(!N){return K}if(N.id!==L[2]){return K.find(J)}K.length=1;K[0]=N}}else{return j(M).find(J)}}else{this.add(J,false)}return K},toArray:function(){return f.toArray(this)},add:function(L,N){var K=this,J,M;if(r(L)){return K.add(j(L))}if(N!==false){J=j.unique(K.toArray().concat(j.makeArray(L)));K.length=J.length;for(M=0;M<J.length;M++){K[M]=J[M]}}else{n.apply(K,j.makeArray(L))}return K},attr:function(K,M){var J=this,L;if(typeof K==="object"){k(K,function(N,O){J.attr(N,O)})}else{if(c(M)){this.each(function(){var N;if(this.nodeType===1){N=F[K];if(N&&N.set){N.set(this,M);return}if(M===null){this.removeAttribute(K,2)}else{this.setAttribute(K,M,2)}}})}else{if(J[0]&&J[0].nodeType===1){L=F[K];if(L&&L.get){return L.get(J[0],K)}if(z[K]){return J.prop(K)?K:h}M=J[0].getAttribute(K,2);if(M===null){M=h}}return M}}return J},removeAttr:function(J){return this.attr(J,null)},prop:function(K,L){var J=this;K=D[K]||K;if(typeof K==="object"){k(K,function(M,N){J.prop(M,N)})}else{if(c(L)){this.each(function(){if(this.nodeType==1){this[K]=L}})}else{if(J[0]&&J[0].nodeType&&K in J[0]){return J[0][K]}return L}}return J},css:function(L,P){var K=this,Q,O;function N(R){return R.replace(/-(\D)/g,function(T,S){return S.toUpperCase()})}function J(R){return R.replace(/[A-Z]/g,function(S){return"-"+S})}if(typeof L==="object"){k(L,function(R,S){K.css(R,S)})}else{if(c(P)){L=N(L);if(typeof P==="number"&&!b[L]){P+="px"}K.each(function(){var S=this.style;O=G[L];if(O&&O.set){O.set(this,P);return}try{this.style[e[L]||L]=P}catch(R){}if(P===null||P===""){if(S.removeProperty){S.removeProperty(J(L))}else{S.removeAttribute(L)}}})}else{Q=K[0];O=G[L];if(O&&O.get){return O.get(Q)}if(Q.ownerDocument.defaultView){try{return Q.ownerDocument.defaultView.getComputedStyle(Q,null).getPropertyValue(J(L))}catch(M){return h}}else{if(Q.currentStyle){return Q.currentStyle[N(L)]}}}}return K},remove:function(){var J=this,L,K=this.length;while(K--){L=J[K];H.clean(L);if(L.parentNode){L.parentNode.removeChild(L)}}return this},empty:function(){var J=this,L,K=this.length;while(K--){L=J[K];while(L.firstChild){L.removeChild(L.firstChild)}}return this},html:function(M){var J=this,L;if(c(M)){L=J.length;try{while(L--){J[L].innerHTML=M}}catch(K){j(J[L]).empty().append(M)}return J}return J[0]?J[0].innerHTML:""},text:function(L){var J=this,K;if(c(L)){K=J.length;while(K--){if("innerText" in J[K]){J[K].innerText=L}else{J[0].textContent=L}}return J}return J[0]?(J[0].innerText||J[0].textContent):""},append:function(){return t(this,arguments,function(J){if(this.nodeType===1||(this.host&&this.host.nodeType===1)){this.appendChild(J)}})},prepend:function(){return t(this,arguments,function(J){if(this.nodeType===1||(this.host&&this.host.nodeType===1)){this.insertBefore(J,this.firstChild)}},true)},before:function(){var J=this;if(J[0]&&J[0].parentNode){return t(J,arguments,function(K){this.parentNode.insertBefore(K,this)})}return J},after:function(){var J=this;if(J[0]&&J[0].parentNode){return t(J,arguments,function(K){this.parentNode.insertBefore(K,this.nextSibling)},true)}return J},appendTo:function(J){j(J).append(this);return this},prependTo:function(J){j(J).prepend(this);return this},replaceWith:function(J){return this.before(J).remove()},wrap:function(J){return p(this,J)},wrapAll:function(J){return p(this,J,true)},wrapInner:function(J){this.each(function(){j(this).contents().wrapAll(J)});return this},unwrap:function(){return this.parent().each(function(){j(this).replaceWith(this.childNodes)})},clone:function(){var J=[];this.each(function(){J.push(this.cloneNode(true))});return j(J)},addClass:function(J){return this.toggleClass(J,true)},removeClass:function(J){return this.toggleClass(J,false)},toggleClass:function(K,L){var J=this;if(typeof K!="string"){return J}if(K.indexOf(" ")!==-1){k(K.split(" "),function(){J.toggleClass(this,L)})}else{J.each(function(M,O){var N,P;P=d(O,K);if(P!==L){N=O.className;if(P){O.className=y((" "+N+" ").replace(" "+K+" "," "))}else{O.className+=N?" "+K:K}}})}return J},hasClass:function(J){return d(this[0],J)},each:function(J){return k(this,J)},on:function(J,K){return this.each(function(){H.bind(this,J,K)})},off:function(J,K){return this.each(function(){H.unbind(this,J,K)})},trigger:function(J){return this.each(function(){if(typeof J=="object"){H.fire(this,J.type,J)}else{H.fire(this,J)}})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new j(x.apply(this,arguments))},eq:function(J){return J===-1?this.slice(J):this.slice(J,+J+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(J){var M,K,L=[];for(M=0,K=this.length;M<K;M++){j.find(J,this[M],L)}return j(L)},filter:function(J){if(typeof J=="function"){return j(o(this.toArray(),function(L,K){return J(K,L)}))}return j(j.filter(J,this.toArray()))},closest:function(K){var J=[];if(K instanceof j){K=K[0]}this.each(function(L,M){while(M){if(typeof K=="string"&&j(M).is(K)){J.push(M);break}else{if(M==K){J.push(M);break}}M=M.parentNode}});return j(J)},offset:function(M){var P,L,K;var J=0,O=0,N;if(!M){P=this[0];if(P){L=P.ownerDocument;K=L.documentElement;if(P.getBoundingClientRect){N=P.getBoundingClientRect();J=N.left+(K.scrollLeft||L.body.scrollLeft)-K.clientLeft;O=N.top+(K.scrollTop||L.body.scrollTop)-K.clientTop}}return{left:J,top:O}}return this.css(M)},push:n,sort:[].sort,splice:[].splice};f.extend(j,{extend:f.extend,makeArray:function(J){if(C(J)||J.nodeType){return[J]}return f.toArray(J)},inArray:A,isArray:f.isArray,each:k,trim:y,grep:o,find:i,expr:i.selectors,unique:i.uniqueSort,text:i.getText,contains:i.contains,filter:function(M,J,L){var K=J.length;if(L){M=":not("+M+")"}while(K--){if(J[K].nodeType!=1){J.splice(K,1)}}if(J.length===1){J=j.find.matchesSelector(J[0],M)?[J[0]]:[]}else{J=j.find.matches(M,J)}return J}});function v(K,N,M){var J=[],L=K[N];if(typeof M!="string"&&M instanceof j){M=M[0]}while(L&&L.nodeType!==9){if(M!==undefined){if(L===M){break}if(typeof M=="string"&&j(L).is(M)){break}}if(L.nodeType===1){J.push(L)}L=L[N]}return J}function B(M,L,K,N){var J=[];if(N instanceof j){N=N[0]}for(;M;M=M[L]){if(K&&M.nodeType!==K){continue}if(N!==undefined){if(M===N){break}if(typeof N=="string"&&j(M).is(N)){break}}J.push(M)}return J}function a(L,K,J){for(L=L[K];L;L=L[K]){if(L.nodeType==J){return L}}return null}k({parent:function(K){var J=K.parentNode;return J&&J.nodeType!==11?J:null},parents:function(J){return v(J,"parentNode")},next:function(J){return a(J,"nextSibling",1)},prev:function(J){return a(J,"previousSibling",1)},children:function(J){return B(J.firstChild,"nextSibling",1)},contents:function(J){return f.toArray((J.nodeName==="iframe"?J.contentDocument||J.contentWindow.document:J).childNodes)}},function(J,K){j.fn[J]=function(M){var N=this,L=[];N.each(function(){var O=K.call(L,this,M,L);if(O){if(j.isArray(O)){L.push.apply(L,O)}else{L.push(O)}}});if(this.length>1){if(!q[J]){L=j.unique(L)}if(J.indexOf("parents")===0){L=L.reverse()}}L=j(L);if(M){return L.filter(M)}return L}});k({parentsUntil:function(J,K){return v(J,"parentNode",K)},nextUntil:function(J,K){return B(J,"nextSibling",1,K).slice(1)},prevUntil:function(J,K){return B(J,"previousSibling",1,K).slice(1)}},function(J,K){j.fn[J]=function(M,O){var N=this,L=[];N.each(function(){var P=K.call(L,this,M,L);if(P){if(j.isArray(P)){L.push.apply(L,P)}else{L.push(P)}}});if(this.length>1){L=j.unique(L);if(J.indexOf("parents")===0||J==="prevUntil"){L=L.reverse()}}L=j(L);if(O){return L.filter(O)}return L}});j.fn.is=function(J){return !!J&&this.filter(J).length>0};j.fn.init.prototype=j.fn;j.overrideDefaults=function(L){var K;function J(M,N){K=K||L();if(arguments.length===0){M=K.element}if(!N){N=K.context}return new J.fn.init(M,N)}j.extend(J,this);return J};function m(L,K,J){k(J,function(M,N){L[M]=L[M]||{};L[M][K]=N})}if(g.ie&&g.ie<8){m(F,"get",{maxlength:function(K){var J=K.maxLength;if(J===2147483647){return h}return J},size:function(K){var J=K.size;if(J===20){return h}return J},"class":function(J){return J.className},style:function(K){var J=K.style.cssText;if(J.length===0){return h}return J}});m(F,"set",{"class":function(K,J){K.className=J},style:function(K,J){K.style.cssText=J}})}if(g.ie&&g.ie<9){e["float"]="styleFloat";m(G,"set",{opacity:function(L,K){var J=L.style;if(K===null||K===""){J.removeAttribute("filter")}else{J.zoom=1;J.filter="alpha(opacity="+(K*100)+")"}}})}j.attrHooks=F;j.cssHooks=G;return j});